homepage: https://propellor.branchable.com/
changelog-type: text
hash: 6cabfb781cdcefd8c4d0ee711ffdd58687607c588e08445bbe69f461b21e194f
test-bench-deps: {}
maintainer: Joey Hess <id@joeyh.name>
synopsis: property-based host configuration management in haskell
changelog: "propellor (5.9.0) unstable; urgency=medium\n\n  * Added custom type error
  messages when Properties don't combine due to\n    conflicting MetaTypes.\n  * Added
  custom type error messages for ensureProperty and tightenTargets.\n  * Note that
  those changes made ghc 8.0.1 in a few cases unable to infer\n    types when ensureProperty
  or tightenTargets is used, while later ghc\n    versions had no difficulty. If this
  affects building your properties,\n    adding a type annotation to the code will
  work around the problem.\n  * Added custom type error messages displayed when type
  inference\n    fails when using ensureProperty and tightenTargets, that suggest\n
  \   adding a type annotation.\n  * Use the type-errors library to detect when the
  type checker gets stuck\n    unable to reduce type-level operations on MetaTypes,
  and avoid \n    displaying massive error messages.\n  * But, since type-errors is
  a new library not available in eg Debian\n    yet, added a WithTypeErrors build
  flag. When the library is not\n    available, cabal will automatically disable that
  build flag,\n    and it will build without the type-errors library.\n  * EnsurePropertyAllowed,
  TightenTargetsAllowed, and CheckCombinable\n    types have changed to Constraint.\n
  \   (API change)\n  * Try harder to avoid displaying an excessive amount of type
  error\n    messages when many properties have been combined in a props list.\n  *
  Libvirt.installed: install libvirt-daemon-system\n    Thanks, David Bremner\n\n
  -- Joey Hess <id@joeyh.name>  Tue, 02 Jul 2019 16:27:07 -0400\n\npropellor (5.8.0)
  unstable; urgency=medium\n\n  * Fix bug in File.containsShellSetting that replaced
  whole shell conffile\n    content with the setting if the file did not previously
  contain a line\n    setting the key to some value.\n  * Removed inChroot, instead
  use hasContainerCapability FilesystemContained.\n    (API change)\n  * Hostname:
  Properties that used to not do anything in a systemd or\n    docker container will
  now change the container's hostname,\n    since it's namespaced.\n  * Add User.ownsWithPrimaryGroup\n
  \   Thanks, Sean Whitton\n  * Ssh.userKeys, Ssh.userKeyAt: Create .ssh directory
  when it does not yet\n    exist.\n  * Ssh.userKeyAt: When a relative filepath is
  provided, it's put inside\n    the user's .ssh directory.\n  * Fix Git.pulled always
  reporting a change.\n    Thanks, Sean Whitton\n\n -- Joey Hess <id@joeyh.name>  Fri,
  26 Apr 2019 08:23:29 -0400\n\npropellor (5.7.0) unstable; urgency=medium\n\n  *
  Sbuild.built no longer includes Apt.stdSourcesList by default,\n    in order to
  support non-Debian OS's. (API change)\n    To upgrade: Simply add Sbuild.osDebianStandard
  to all Sbuild.built\n    calls which have osDebian.\n    Thanks, Sean Whitton\n
  \ * Propellor.Property.PropellorRepo renamed to Propellor.Property.Localdir\n    to
  widen its scope. (API change)\n  * Added Localdir.removed property.\n    Thanks,
  Sean Whitton\n  * Sbuild.built uses Localdir.removed to clean up the propellor localdir\n
  \   after it's done running in a schroot.\n    Thanks, Sean Whitton\n  * Cron.runPropellor
  made revertable. (minor API change)\n    Thanks, Sean Whitton\n  * Added Cron.jobDropped.\n
  \   Thanks, Sean Whitton\n  * Added Utility.FileMode to the modules exported by
  Propellor.Utilities\n    to propellor library users.\n\n -- Joey Hess <id@joeyh.name>
  \ Fri, 05 Apr 2019 11:59:52 -0400\n\npropellor (5.6.1) unstable; urgency=medium\n\n
  \ * fix Libvirt.hs haddock build\n    Thanks, Sean Whitton\n\n -- Joey Hess <id@joeyh.name>
  \ Sun, 20 Jan 2019 19:06:39 -0400\n\npropellor (5.6.0) unstable; urgency=medium\n\n
  \ * withOS had a type level bug that allowed ensureProperty to be used inside\n
  \   it with a Property that does not match the type of the withOS itself.\n    (API
  change)\n    The fix may cause some of your valid uses of withOS to no longer type\n
  \   check; the best way to work around that is to use pickOS to pick between\n    several
  properties that are further specialized using withOS.\n    For an example of how
  to do that, see the source code to\n    Propellor.Property.Borg.installed\n  * Propellor.Property.Cron.runPropellor
  is a Property DebianLike; it was\n    incorrectly a Property UnixLike before and
  that wrong type was hidden by\n    the withOS bug.\n  * Some openbsd portability
  fixes. Thanks, rsiddharth.\n  * Added Libvirt module. Thanks, Sean Whitton.\n  *
  When bootstrapping on Debian, libghc-stm-dev may not be available,\n    as it's
  become part of ghc, so check before trying to install it.\n  * Fix build with ghc
  8.6.3.\n  * Avoid exposing the constructor of OuterMetaTypesWitness, to avoid\n
  \   the kind of mistake that led to the withOS bug.\n  * Merged Utility changes
  from git-annex.\n  * Fix --spin crash when ~/.ssh/ directory did not already exist.\n\n
  -- Joey Hess <id@joeyh.name>  Fri, 18 Jan 2019 12:11:53 -0400\n\npropellor (5.5.0)
  unstable; urgency=medium\n\n  * letsencrypt': Pass --expand to support expanding
  the list of domains\n  * Split mailname property out of Hostname.sane, since bad
  mailname\n    guesses can lead to ugly surprises. (API change)\n  * Removed HostingProvider.CloudatCost
  module as it lacks a maintainer.\n    (If anyone would like to maintain it, send
  a patch adding it back.)\n    (API change)\n  * Added Systemd.escapePath helper
  function useful when creating mount\n    units.\n  * Added Sudo.sudoersDFile property.\n
  \ * Sudo.enabledFor: Write to /etc/sudoers.d/000users rather than to\n    /etc/sudoers.
  (Any old lines it wrote to /etc/sudoers will be removed.)\n    This fixes a potential
  ordering problem; the property used to append\n    the line to /etc/sudoers, but
  that would override more specific lines\n    in the include directory.\n  * Borg:
  Added UsesEnvVar.\n  * Added DiskImage.noBootloader, useful for eg, direct booting
  with\n    qemu. Thanks, David Bremner.\n  * Added Apt.backportInstalledMin.\n\n
  -- Joey Hess <id@joeyh.name>  Sat, 20 Oct 2018 21:00:27 -0400\n\npropellor (5.4.1)
  unstable; urgency=medium\n\n  * Modernized and simplified the MetaTypes implementation
  now that\n    compatability with ghc 7 is no longer needed.\n  * Use git verify-commit
  to verify gpg signatures, rather than the old\n    method of parsing git log output.
  Needs git 2.0.\n  * Added ConfFile.containsShellSetting, ConfFile.lacksShellSetting,\n
  \   and EtcDefault.set properties. Thanks, Sean Whitton\n  * Dns: Support TXT values
  longer than bind's maximum string length\n    of 255 bytes. Thanks, rsiddharth.\n
  \ * Docker and HostingProvider.CloudAtCost modules are not being\n    maintained,
  so marked them as such.\n    Seeking a maintainer for the Docker module; I anticipate\n
  \   removing the CloudAtCost module in the next API bump.\n\n -- Joey Hess <id@joeyh.name>
  \ Wed, 08 Aug 2018 10:29:27 -0400\n\npropellor (5.4.0) unstable; urgency=medium\n\n
  \ [ Sean Whitton ]\n  * Apt.installedBackport replaced with Apt.backportInstalled.
  \ (API change)\n    The old property would install dependencies from backports even
  when\n    the versions in stable satisfy the requested backport's dependencies.\n
  \   The new property installs only the listed packages from backports;\n    all
  other dependencies come from stable.\n    So in some cases, you may need to list
  additional backports to install,\n    that would not have needed to be listed before.
  Due to this behavior\n    change the property has been renamed so uses of it will
  be checked.\n  * Restic.installed: stop trying to install a backport on jessie,
  because no\n    such backport exists.\n\n -- Joey Hess <id@joeyh.name>  Thu, 17
  May 2018 10:43:20 -0400\n\npropellor (5.3.6) unstable; urgency=medium\n\n  * Fix
  build with ghc 8.4, which broke due to the Semigroup Monoid change.\n  * Dropped
  support for building propellor with ghc 7 (as in debian\n    oldstable), to avoid
  needing to depend on the semigroups transitional\n    package, but also because
  it's just too old to be worth supporting.\n  * stack.yaml: Updated to lts-9.21.\n
  \ * Make Schroot.overlaysInTmpfs revertable\n    Thanks, Sean Whitton\n  * Update
  shim each time propellor is run in a container, to deal with\n    library version
  changes.\n  * Unbound: Added support for various DNS record types.\n    Thanks,
  Félix Sipma.\n\n -- Joey Hess <id@joeyh.name>  Wed, 09 May 2018 16:24:37 -0400\n\npropellor
  (5.3.5) unstable; urgency=medium\n\n  * Apt.stdSourcesList now adds stable-updates
  suite\n    Thanks, Sean Whitton\n  * Significantly increased propellor build speed
  when your config.hs\n    is in a fork of the propellor repository, by avoiding redundant
  builds\n    of propellor library.\n\n -- Joey Hess <id@joeyh.name>  Sun, 22 Apr
  2018 12:27:45 -0400\n\npropellor (5.3.4) unstable; urgency=medium\n\n  * Apt.trustsKey:
  Use apt-key to add key rather than manually driving gpg,\n    which seems to not
  work anymore.\n    Thanks, Russell Sim.\n  * Firewall: Reorder iptables parameters
  that are order\n    dependant to make --to-dest and --to-source work.\n    Thanks,
  Russell Sim\n\n -- Joey Hess <id@joeyh.name>  Wed, 21 Mar 2018 14:59:15 -0400\n\npropellor
  (5.3.3) unstable; urgency=medium\n\n  * Warn again about new upstream version when
  ~/.propellor was cloned from the\n    Debian git bundle using an older version of
  propellor that set up an\n    upstream remote.\n  * Avoid crashing if initial fetch
  from origin fails when spinning a host.\n  * Added Propllor.Property.Openssl module
  contributed by Félix Sipma.\n\n -- Joey Hess <id@joeyh.name>  Mon, 26 Feb 2018 14:34:37
  -0400\n\npropellor (5.3.2) unstable; urgency=medium\n\n  * Added Propellor.Property.Atomic,
  which can make a non-atomic property\n    that operates on a directory into an atomic
  property.\n    (Inspired by Vaibhav Sagar's talk on Functional Devops in a\n    Dysfunctional
  World at LCA 2018.)\n  * Added Git.pulled.\n  * Systemd.machined: Install systemd-container
  on Debian\n    stretch.\n    Thanks, Sean Whitton\n\n -- Joey Hess <id@joeyh.name>
  \ Sun, 18 Feb 2018 14:31:39 -0400\n\npropellor (5.3.1) unstable; urgency=medium\n\n
  \ * Last release mistakenly contained my personal branch not master.\n  * contrib/post-merge-hook
  documentation updated to recommend also using\n    it as a post-checkout hook, to
  avoid such problems.\n\n -- Joey Hess <id@joeyh.name>  Sun, 04 Feb 2018 12:00:03
  -0400\n\npropellor (5.3.0) unstable; urgency=medium\n\n  * Avoid bogus warning about
  new upstream version when /usr/bin/propellor\n    is run on a Debian system, but
  ~/.propellor was not cloned from the\n    Debian git bundle.\n  * Parted: Allow
  partitions to have no filesystem, for eg, GPT BIOS boot\n    partitions. (API change)\n
  \ * Added rawPartition to PartSpec, for specifying partitions with no\n    filesystem.\n
  \ * Added BiosGrubFlag to PartFlag.\n  * Add HasCallStack constraint to pickOS and
  unsupportedOS, so the\n    call stack includes the caller.\n  * Run su with --login,
  to avoid inheriting some problematic environment\n    variables, such as TMP, from
  the caller.\n  * Grub: Added properties to configure /etc/default/grub.\n  * Laptop:
  New module, starting with powertopAutoTuneOnBoot.\n\n -- Joey Hess <id@joeyh.name>
  \ Thu, 01 Feb 2018 12:27:01 -0400\n\npropellor (5.2.0) unstable; urgency=medium\n\n
  \ [ Joey Hess ]\n  * bootstrappedFrom: Set up local privdata file.\n  * Parted:
  Fix names used for FAT and VFAT partitions.\n  * Parted: Add an Alignment parameter.
  (API change)\n    A good default to use is safeAlignment, which is 4MiB,\n    well
  suited for inexpensive flash drives, and fine for other disks too.\n    Previously,
  a very non-optimial 1MB (not 1MiB) alignment had been used.\n  * DiskImage: Use
  safeAlignment. It didn't seem worth making the\n    alignment configurable here.\n
  \ * Fixed rounding bug in Parted.calcPartTable.\n  * DiskImage: Fix rsync crash
  when a mount point does not exist in the\n    chroot.\n  * Fix bug in unmountBelow
  that caused unmounting of nested mounts to\n    fail.\n  * Grub.boots, Grub.bootsMounted:
  Pass --target to grub-install.\n  * Added Propellor.Property.Installer modules,
  which can be used to create\n    bootable installer disk images, which then run
  propellor to install\n    a system. This code was extracted from the demo I gave
  in my\n    talk at DebConf 2017.\n\n  [ Sean Whitton ]\n  * Sbuild: add notes about
  Debian jessie hosts and backports of sbuild and\n    autopkgtest.\n\n -- Joey Hess
  <id@joeyh.name>  Sat, 30 Dec 2017 13:34:29 -0400\n\npropellor (5.1.0) unstable;
  urgency=medium\n\n  [ Sean Whitton ]\n  * File.isSymlinkedTo now revertable. (minor
  API change)\n  * Sbuild module changes:\n    - Type of Sbuild.built changed to accept
  additional properties to be\n      ensured inside schroots. (API change)\n      See
  the suggested usage in module's documentation for new syntax.\n    - Drop Sbuild.installed,
  Sbuild.builtFor, Sbuild.updated,\n      Sbuild.updatedFor. (API change)\n      Use
  Sbuild.built instead.  See suggested usage in module's documentation.\n    - Propellor
  no longer sets up apt proxies in sbuild chroots automatically.\n      Instead, pass
  the new Sbuild.useHostProxy to Sbuild.built to have\n      Propellor propagate the
  host's Apt proxy configuration into the chroot.\n      See suggested usage in module's
  documentation.\n    - Internally, Propellor no longer invokes sbuild-createchroot(1)
  to build\n      schroots.\n    - Update documentation.\n\n -- Joey Hess <id@joeyh.name>
  \ Thu, 23 Nov 2017 10:38:16 -0400\n\npropellor (5.0.0) unstable; urgency=medium\n\n
  \ * Debootstrap.built now supports bootstrapping chroots for foreign\n    OS's,
  using qemu-user-static.\n  * Machine: New module collecting machine-specific properties
  for \n    building bootable images for ARM boards.\n    Tested working boards: Olimex
  Lime, CubieTruck, Banana Pi, SheevaPlug.\n  * Diskimage.imageBuiltFor: New property
  to build a disk image for a Host,\n    using partition table information configured
  via the new properties\n    hasPartitionTableType, hasPartition and adjustPartition.\n
  \ * Chroot.noServices moved to Service.noServices and its type changed.\n    (API
  change)\n  * Service: Avoid starting services when noServices is used.\n  * Add
  Typeable instance to OriginUrl, fixing build with old versions\n    of ghc.\n  *
  Added Propellor.Property.impossible\n  * Fail2Ban: Added several additional properties.\n
  \   Thanks, Félix Sipma.\n  * Fail2Ban: Renamed jail.d conf file to use .local.\n
  \   Thanks, Félix Sipma.\n\n -- Joey Hess <id@joeyh.name>  Sun, 19 Nov 2017 15:42:44
  -0400\n\npropellor (4.9.0) unstable; urgency=medium\n\n  * When the ipv4 and ipv6
  properties are used with a container, avoid\n    propagating the address out to
  the host.\n  * DnsInfo has been replaced with DnsInfoPropagated and\n    DnsInfoUnpropagated.
  (API change)\n  * Code that used fromDnsInfo . fromInfo changes to use getDnsInfo.\n
  \ * addDNS takes an additional Bool parameter to control whether\n    the DNS info
  should propagate out of containers. (API change)\n  * Made the PropellorRepo.hasOriginUrl
  property override the repository\n    url that --spin passes to a host.\n  * PropellorRepo.hasOriginUrl
  type changed to include HasInfo. (API change)\n  * Fstab.mounted: Create mount point
  if necessary, and mount it\n    if it's not already mounted.\n    Thanks, Nicolas
  Schodet\n  * Properties that check for an empty directory now treat a directory\n
  \   containing only \"lost+found\" as effectively empty, to support\n    situations
  where the directory is a mount point of an EXT* filesystem.\n    Thanks, Nicolas
  Schodet\n  * Make addInfo accumulate Info in order properties appear, not\n    reverse
  order.\n    This fixes a bug involving reverting Systemd.resolvConfed or\n    Systemd.linkJournal.\n\n
  -- Joey Hess <id@joeyh.name>  Wed, 25 Oct 2017 13:02:14 -0400\n\npropellor (4.8.1)
  unstable; urgency=medium\n\n  * Borg: Fix propigation of exit status of borg backup.\n
  \ * Borg: Fix handling of UseSshKey.\n\n -- Joey Hess <id@joeyh.name>  Mon, 25 Sep
  2017 17:19:49 -0400\n\npropellor (4.8.0) unstable; urgency=medium\n\n  * DiskImage:
  Made a DiskImage type class, so that different disk image\n    formats can be implemented.
  The properties in this module can generate\n    any type that is a member of DiskImage.
  (API change)\n    (To convert existing configs, convert the filename of the disk
  image\n    to RawDiskImage filename.)\n  * Removed DiskImage.vmdkBuiltFor property.
  (API change)\n    Instead, use VirtualBoxPointer in the property that creates the
  disk\n    image.\n  * Apt.isInstalled: Fix handling of packages that are not known
  at all\n    to apt.\n  * Borg: Converted BorgRepo from a String alias to a data
  type.\n    (API change)\n  * Borg: Allow specifying ssh private key to use when
  accessing a borg\n    repo by using the BorgRepoUsing constructor with UseSshKey.\n
  \ * Borg: Fix broken shell escaping in borg cron job.\n  * Attic: Fix broken shell
  escaping in attic cron job.\n  * Make lock file descriptors close-on-exec.\n  *
  Lvm: New module for setting up LVM volumes.\n    Thanks, Nicolas Schodet\n\n --
  Joey Hess <id@joeyh.name>  Mon, 25 Sep 2017 14:37:52 -0400\n\npropellor (4.7.7)
  unstable; urgency=medium\n\n  * Locale: Display an error message when /etc/locale.gen
  does not contain\n    the requested locale.\n  * Attic module is deprecated and
  will warn when used.\n    Attic is no longer available in Debian and appears to
  have been\n    mostly supersceded by Borg.\n  * Obnam module is deprecated and will
  warn when used.\n    Obnam has been retired by its author.\n  * Add Typeable instance
  to Bootstrapper, fixing build with old versions\n    of ghc. (Previous attempt was
  incomplete.)\n\n -- Joey Hess <id@joeyh.name>  Wed, 23 Aug 2017 12:15:31 -0400\n\npropellor
  (4.7.6) unstable; urgency=medium\n\n  * Sbuild: Add Sbuild.userConfig property.\n
  \   Thanks, Sean Whitton\n  * Locale: Make sure that the locales package is installed
  when enabling\n    locales.\n\n -- Joey Hess <id@joeyh.name>  Tue, 01 Aug 2017 17:59:07
  -0400\n\npropellor (4.7.5) unstable; urgency=medium\n\n  * Avoid crashing when getTerminalName
  fails due to eg, being in a chroot.\n\n -- Joey Hess <id@joeyh.name>  Tue, 01 Aug
  2017 15:28:58 -0400\n\npropellor (4.7.4) unstable; urgency=medium\n\n  * Set GPG_TTY
  when run at a terminal, so that gpg can do password\n    prompting despite being
  connected by pipes to propellor (or git).\n  * Rsync: Make rsync display less verbose.\n
  \ * Improve PROPELLOR_TRACE output so serialized trace values always\n    come on
  their own line, not mixed with title setting.\n\n -- Joey Hess <id@joeyh.name>  Tue,
  01 Aug 2017 13:30:54 -0400\n\npropellor (4.7.3) unstable; urgency=medium\n\n  *
  Expand the Trace data type.\n\n -- Joey Hess <id@joeyh.name>  Sat, 29 Jul 2017 17:26:32
  -0400\n\npropellor (4.7.2) unstable; urgency=medium\n\n  * Added PROPELLOR_TRACE
  environment variable, which can be set to 1 to\n    make propellor output serialized
  Propellor.Message.Trace values,\n    for consumption by another program.\n  * Rsync:
  Make rsync display its progress, in a minimal format to avoid\n    scrolling each
  file down the screen.\n\n -- Joey Hess <id@joeyh.name>  Sat, 29 Jul 2017 15:49:00
  -0400\n\npropellor (4.7.1) unstable; urgency=medium\n\n  * Added Mount.isMounted.\n
  \ * Grub.bootsMounted: Bugfix.\n\n -- Joey Hess <id@joeyh.name>  Fri, 28 Jul 2017
  22:22:40 -0400\n\npropellor (4.7.0) unstable; urgency=medium\n\n  * Add Apt.proxy
  property to set a host's apt proxy.\n    Thanks, Sean Whitton.\n  * Add Apt.useLocalCacher
  property to set up apt-cacher-ng.\n    Thanks, Sean Whitton.\n  * Rework Sbuild
  properties to use apt proxies/cachers instead of\n    bind-mounting the host's apt
  cache. This makes it possible to run more\n    than one build at a time, and lets
  sbuild run even if apt's cache is\n    locked by the host's apt.\n    Thanks, Sean
  Whitton.\n  * Sbuild: When Apt.proxy is set, it is assumed that the proxy does some\n
  \   sort of caching, and sbuild chroots are set up to use the same proxy.\n  * Sbuild:
  When Apt.proxy is not set, install apt-cacher-ng, and point\n    sbuild chroots
  at the local apt cacher.\n  * Sbuild: Droped Sbuild.piupartsConfFor, Sbuild.piupartsConf,\n
  \   Sbuild.shareAptCache\n    (API change)\n    No longer needed now that we are
  using apt proxies/cachers.\n  * Sbuild: Updated sample config in haddock for Propellor.Property.Sbuild.\n
  \   If you use this module, please compare both your config.hs and\n    your ~/.sbuildrc
  with the haddock documentation.\n  * Grub.bootsMounted: Avoid failing when proc
  sys etc are already mounted\n    within the chroot.\n\n -- Joey Hess <id@joeyh.name>
  \ Fri, 28 Jul 2017 20:42:35 -0400\n\npropellor (4.6.2) unstable; urgency=medium\n\n
  \ * Systemd.nspawned: Recent systemd versions such as 234 ignore\n    non-symlinks
  in /etc/systemd/system/multi-user.target.wants,\n    which was used to configure
  systemd-nspawn parameters. Instead,\n    use a service.d/local.conf file to configure
  that.\n  * Grub: Added bootsMounted property, a generalization of\n    DiskImage.grubBooted\n\n
  -- Joey Hess <id@joeyh.name>  Fri, 28 Jul 2017 15:48:32 -0400\n\npropellor (4.6.1)
  unstable; urgency=medium\n\n  * Added Network.dhcp' and Network.static', which allow
  specifying\n    additional options for interfaces files.\n  * Fix build failure
  on ghc-8.2.1\n    Thanks, Sergei Trofimovich.\n  * DiskImage: Fix strictness bug
  in .parttable read/write sequence.\n\n -- Joey Hess <id@joeyh.name>  Thu, 27 Jul
  2017 09:17:32 -0400\n\npropellor (4.6.0) unstable; urgency=medium\n\n  * Add Typeable
  instance to Bootstrapper, fixing build with old versions\n    of ghc.\n  * Network.static
  changed to take address and gateway parameters.\n    If you used the old Network.static
  property, it has been renamed to\n    Network.preserveStatic.\n    (Minor API change)\n\n
  -- Joey Hess <id@joeyh.name>  Wed, 26 Jul 2017 20:02:50 -0400\n\npropellor (4.5.2)
  unstable; urgency=medium\n\n  * Added Rsync.installed property.\n  * Added DiskImage.vmdkBuiltFor
  property which is useful for booting\n    a disk image in VirtualBox.\n\n -- Joey
  Hess <id@joeyh.name>  Tue, 25 Jul 2017 17:58:46 -0400\n\npropellor (4.5.1) unstable;
  urgency=medium\n\n  * Reboot.toKernelNewerThan: If running kernel is new enough,
  avoid\n    looking at what kernels are installed.\n    Thanks, Sean Whitton.\n  *
  DiskImage: Avoid re-partitioning disk image unncessarily, for a large\n    speedup.\n\n
  -- Joey Hess <id@joeyh.name>  Tue, 25 Jul 2017 15:51:33 -0400\n\npropellor (4.5.0)
  unstable; urgency=medium\n\n  * Generalized the PartSpec DSL, so it can be used
  for both\n    disk image partitioning, and disk device partitioning, with\n    different
  partition sizing methods as appropriate for the different\n    uses. (minor API
  change)\n  * Propellor.Property.Parted: Added calcPartTable function which uses\n
  \   PartSpec DiskPart, and a useDiskSpace combinator.\n  * Generate a better description
  for versioned properties.\n\n -- Joey Hess <id@joeyh.name>  Fri, 21 Jul 2017 16:40:13
  -0400\n\npropellor (4.4.0) unstable; urgency=medium\n\n  * Propellor.Property.Timezone:
  New module, contributed by Sean Whitton.\n  * Propellor.Property.Sudo.enabledFor:
  Made revertable.\n    (minor API change)\n  * Propellor.Property.LightDM.autoLogin:
  Made revertable.\n    (minor API change)\n  * Propellor.Property.Conffile: Added
  lacksIniSetting.\n\n -- Joey Hess <id@joeyh.name>  Mon, 17 Jul 2017 12:55:02 -0400\n\npropellor
  (4.3.4) unstable; urgency=medium\n\n  * Propellor.Property.Versioned: New module
  which allows different\n    versions of a property or host to be written down in
  a propellor config\n    file. Has many applications, including staged upgrades and
  rollbacks.\n  * LightDM.autoLogin: Use [Seat:*] rather than the old [SeatDefaults].\n
  \   The new name has been supported since lightdm 1.15.\n\n -- Joey Hess <id@joeyh.name>
  \ Sat, 15 Jul 2017 17:22:53 -0400\n\npropellor (4.3.3) unstable; urgency=medium\n\n
  \ * Hosts can be configured to build propellor using stack, by adding\n    a property:\n
  \       & bootstrapWith (Robustly Stack)\n  * Hosts can be configured to build propellor
  using cabal, but using\n    only packages installed from the operating system. This\n
  \   will work on eg Debian:\n        & bootstrapWith OSOnly\n  * Iproved fix for
  bug that sometimes made --spin fail with\n    \"fatal: Couldn't find remote ref
  HEAD\". The previous fix didn't work\n    reliably.\n  * User: add systemGroup and
  use it for systemAccountFor'\n    Thanks, Félix Sipma. \n  * Export a Restic.backup'
  property.\n    Thanks, Félix Sipma. \n  * Updated stack config to lts-8.22.\n\n
  -- Joey Hess <id@joeyh.name>  Thu, 13 Jul 2017 12:34:09 -0400\n\npropellor (4.3.2)
  unstable; urgency=medium\n\n  * Really include Propellor.Property.FreeDesktop.\n\n
  -- Joey Hess <id@joeyh.name>  Thu, 06 Jul 2017 17:28:53 -0400\n\npropellor (4.3.1)
  unstable; urgency=medium\n\n  * Added Propellor.Property.FreeDesktop module.\n  *
  Added reservedSpacePercentage to the PartSpec EDSL.\n\n -- Joey Hess <id@joeyh.name>
  \ Thu, 06 Jul 2017 17:03:15 -0400\n\npropellor (4.3.0) unstable; urgency=medium\n\n
  \ * DiskImage: Removed grubBooted; properties that used to need it as a\n    parameter
  now look at Info about the bootloader that is installed in\n    the chroot that
  the disk image is created from.\n    (API change)\n\n -- Joey Hess <id@joeyh.name>
  \ Wed, 05 Jul 2017 21:04:04 -0400\n\npropellor (4.2.0) unstable; urgency=medium\n\n
  \ * DiskImage.grubBooted no longer takes a BIOS parameter,\n    and no longer implicitly
  adds Grub.installed to the properties of\n    the disk image. If you used DiskImage.grubBooted,
  you'll need to update\n    your propellor configuration, removing the BIOS parameter
  from\n    grubBooted and adding a Grub.installed property to the disk image, eg:\n
  \       & Grub.installed PC\n    (API change)\n  * Grub.installed: Avoid running
  update-grub when used in a chroot, since\n    it will get confused.\n  * DiskImage.Finalization:
  Simplified this type since it does not need to\n    be used to install packages
  anymore. (API change)\n\n -- Joey Hess <id@joeyh.name>  Wed, 05 Jul 2017 18:10:49
  -0400\n\npropellor (4.1.0) unstable; urgency=medium\n\n  * User.hasInsecurePassword
  makes sure shadow passwords are enabled,\n    so if the insecure password is later
  changed, the new password won't be\n    exposed.\n  * Bugfix: Apache.httpsVirtualHost'
  must create ssl/hn/ dir earlier\n    Thanks, Sean Whitton.\n  * Bootstrap.clonedFrom:
  Fix bug that broke copying .git/config into\n    chroot.\n  * Diskimage.imageExists:
  Align disk image size to multiple of 4096\n    sector size, since some programs
  (such as VBoxManage convertdd)\n    refuse to operate on disk images not aligned
  to a sector size.\n  * Bootstrap.bootstrappedFrom: Fix bug that caused propellor
  to only\n    be built from the bootstrapped config the first time.\n  * Bootstrap.bootstrappedFrom:
  Avoid doing anything when not run in a\n    chroot.\n  * When provisioning a container,
  output was buffered until the whole\n    process was done; now output will be displayed
  immediately.\n  * LightDM.autoLogin: Make it require LightDM.installed.\n    (minor
  API change as the type changed)\n  * Propellor.Property.XFCE added with some useful
  properties for the\n    desktop environment.\n  * Added File.applyPath property.\n
  \ * Added File.checkOverwrite.\n  * File.isCopyOf: Fix bug that prevented this property
  from working\n    when the destination file did not yet exist.\n\n -- Joey Hess
  <id@joeyh.name>  Wed, 05 Jul 2017 17:30:00 -0400\n\npropellor (4.0.6) unstable;
  urgency=medium\n\n  * Fix bug that sometimes made --spin fail with \n    \"fatal:
  Couldn't find remote ref HEAD\"\n  * Display error and warning messages to stderr,
  not stdout.\n\n -- Joey Hess <id@joeyh.name>  Sun, 18 Jun 2017 19:30:50 -0400\n\npropellor
  (4.0.5) unstable; urgency=medium\n\n  * Switch cabal file from Extensions to Default-Extensions
  to fix\n    new picky hackage rejection.\n\n -- Joey Hess <id@joeyh.name>  Sat,
  03 Jun 2017 15:07:36 -0400\n\npropellor (4.0.4) unstable; urgency=medium\n\n  *
  Propellor.Property.Restic added for yet another backup program.\n    Thanks, Félix
  Sipma.\n  * Removed dependency on MissingH, instead depends on split and hashable.\n\n
  -- Joey Hess <id@joeyh.name>  Sat, 03 Jun 2017 14:56:44 -0400\n\npropellor (4.0.3)
  unstable; urgency=medium\n\n  * Added Fstab.listed, Fstab.swap, and Mount.swapOn
  properties.\n    Thanks, Daniel Brooks.\n  * Added Propellor.Property.Bootstrap,
  which can be used to make\n    disk images contain their own installation of propellor.\n\n
  -- Joey Hess <id@joeyh.name>  Thu, 20 Apr 2017 00:54:32 -0400\n\npropellor (4.0.2)
  unstable; urgency=medium\n\n  * Apt.mirror can be used to set the preferred apt
  mirror of a host,\n    overriding the default CDN. This info is used by \n    Apt.stdSourcesList
  and Sbuild.builtFor.\n    Thanks, Sean Whitton.\n  * Property.Partition: Update
  kpartx output parser, as its output format\n    changed around version 0.6. Both
  output formats are supported now.\n  * Fix bug when using setContainerProps with
  a chroot that prevented\n    properties added to a chroot that way from being seen
  when propellor\n    was running inside the chroot. This affected disk image creation,
  and\n    possibly other things that use chroots.\n\n -- Joey Hess <id@joeyh.name>
  \ Fri, 24 Mar 2017 14:04:50 -0400\n\npropellor (4.0.1) unstable; urgency=medium\n\n
  \ * Fix build with pre-AMP ghc.\n  * Tor: Restart daemon after installing private
  key.\n  * Tor.named, Tor.torPrivKey: Include the new ed25519 public/private key\n
  \   pair in addition to the old secret_id_key.\n\n -- Joey Hess <id@joeyh.name>
  \ Sun, 19 Mar 2017 16:18:11 -0400\n\npropellor (4.0.0) unstable; urgency=medium\n\n
  \ * Added Monoid instances for Property and RevertableProperty.\n  * Removed applyToList.
  Instead, use mconcat. (API change)\n    If you had:  applyToList accountFor [User
  \"joey\", User \"root\"]\n    use instead: mconcat (map accountFor [User \"joey\",
  User \"root\"])\n  * Makefile: Removed \"run\" target which was default target.\n
  \   \"make\" now only builds propellor, does not run it.\n    Note that propellor
  1.0.0 and earlier relied on this target for\n    the Cron.runPropellor property's
  cronjob to work, so upgrading\n    directly from 1.0.0 to 4.0.0 would break that
  cron job.\n  * Remove make from propellor's dependency list; it's not used by\n
  \   propellor any longer.\n  * Implemented hostChroot, as originally seen in my
  slides at\n    Linux.Conf.Au 2017 in January. Now that it's not vaporware, it allows\n
  \   one Host to build a disk image that has all the properties of another\n    Host.\n
  \ * DiskImage building properties used to propagate DNS info out from\n    the chroot
  used to build the disk image to the Host. That is no longer\n    done, since that
  chroot only exists as a side effect of the disk image\n    creation and servers
  will not be running in it.\n  * The IsInfo types class's propagateInfo function
  changed to use a\n    PropagateInfo data type. (API change)\n  * The action used
  to satisfy a property changed to Maybe (Propellor Result).\n    When it is Nothing,
  propellor knows it can skip displaying the\n    description of that property. This
  is mostly useful in the\n    implementation of mempty. (API change)\n  * The doNothing
  property is now simply mempty. The name was retained\n    because it can be clearer
  than mempty in some contexts.\n  * Added Apache.confEnabled.\n\n -- Joey Hess <id@joeyh.name>
  \ Wed, 15 Mar 2017 15:46:42 -0400\n\npropellor (3.4.1) unstable; urgency=medium\n\n
  \ * Fixed https url to propellor git repository.\n\n -- Joey Hess <id@joeyh.name>
  \ Wed, 01 Mar 2017 16:50:05 -0400\n\npropellor (3.4.0) unstable; urgency=medium\n\n
  \ * Added ConfigurableValue type class, for values that can be used in a\n    config
  file, or to otherwise configure a program.\n  * The val function converts such values
  to String.\n  * Removed fromPort and fromIPAddr (use val instead). (API change)\n
  \ * Removed several Show instances that were only used for generating\n    configuration,
  replacing with ConfigurableValue instances. (API change)\n  * The github mirror
  of propellor's git repository has been removed,\n    since github's terms of service
  has started imposing unwanted licensing\n    requirements.\n  * propellor --init:
  The option to clone propellor's git repository\n    used to use the github mirror,
  and has been changed to use a different\n    mirror.\n\n -- Joey Hess <id@joeyh.name>
  \ Wed, 01 Mar 2017 16:44:20 -0400\n\npropellor (3.3.1) unstable; urgency=medium\n\n
  \ * Apt: Removed the mirrors.kernel.org line from stdSourcesList etc.\n    The mirror
  CDN has a new implementation that should avoid the problems\n    with httpredir
  that made an extra mirror sometimes be needed.\n  * Switch Debian CDN address to
  deb.debian.org.\n  * Tor.hiddenService: Fix bug in torrc's HiddenServicePort configuration.\n
  \   Thanks, Félix Sipma\n\n -- Joey Hess <id@joeyh.name>  Mon, 20 Feb 2017 13:49:26
  -0400\n\npropellor (3.3.0) unstable; urgency=medium\n\n  * Arch Linux is now supported
  by Propellor!\n    Thanks to Zihao Wang for this port.\n  * Added Propellor.Property.Pacman
  for Arch's package manager.\n    Maintained by Zihao Wang.\n  * The types of some
  properties changed; eg from Property DebianLike\n    to Property (DebianLike + ArchLinux).
  Also, DebianLike and Linux\n    are no longer type synonyms; propellor now knows
  that Linux includes\n    ArchLinux. This could require updates to code, so is a
  minor API change.\n  * GHC's fileSystemEncoding is used for all String IO, to avoid\n
  \   encoding-related crashes in eg, Propellor.Property.File.\n  * Add --build option
  to simply build config.hs.\n  * More informative usage message. Thanks, Daniel Brooks\n
  \ * Tor.hiddenService' added to support multiple ports.\n    Thanks, Félix Sipma.\n
  \ * Apt.noPDiffs added.\n    Thanks, Sean Whitton.\n  * stack.yaml: Compile with
  GHC 8.0.1 against lts-7.16.\n    Thanks, Andrew Cowie.\n  * Added Propellor.Property.File.configFileName
  and related functions\n    to generate good filenames for config directories.\n
  \ * Added Apt.suiteAvailablePinned, Apt.pinnedTo.\n    Thanks, Sean Whitton.\n  *
  Added File.containsBlock\n    Thanks, Sean Whitton.\n\n -- Joey Hess <id@joeyh.name>
  \ Tue, 07 Feb 2017 12:09:24 -0400\n\npropellor (3.2.3) unstable; urgency=medium\n\n
  \ * Improve extraction of gpg secret key id list, to work with gpg 2.1.\n  * The
  propellor wrapper checks if ./config.hs exists; if so it runs\n    using the configuration
  in the current directory, rather than\n    ~/.propellor/config.hs\n  * Debootstap:
  Fix too tight permissions lock down of debootstrapped\n    chroots, which prevented
  non-root users from doing anything in the\n    chroot.\n\n -- Joey Hess <id@joeyh.name>
  \ Tue, 22 Nov 2016 11:36:18 -0400\n\npropellor (3.2.2) unstable; urgency=medium\n\n
  \ * Added Linode.serialGrub property.\n  * Clean up build warnings about redundant
  constraints when built with ghc 8.0.\n  * Added Group.hasUser property. Thanks,
  Daniel Brooks\n\n -- Joey Hess <id@joeyh.name>  Fri, 11 Nov 2016 17:54:44 -0400\n\npropellor
  (3.2.1) unstable; urgency=medium\n\n  * Simplify Debootstrap.sourceInstall since
  #770217 was fixed.\n  * Debootstap.installed: Fix inverted logic that made this
  never install\n    debootstrap. Thanks, mithrandi.\n\n -- Joey Hess <id@joeyh.name>
  \ Mon, 03 Oct 2016 18:06:31 -0400\n\npropellor (3.2.0) unstable; urgency=medium\n\n
  \ [ Sean Whitton ]\n  * Using ccache with Sbuild.built & Sbuild.builtFor is now
  toggleable: these\n    properties now take a parameter of type Sbuild.UseCcache.
  \ (API Change)\n  * Sbuild.piupartsConf: no longer takes an Apt.Url. (API Change)\n
  \ * Sbuild.piupartsConf & Sbuild.piupartsConfFor: does nothing if corresponding\n
  \   schroot not built.\n    Previously, these properties built the schroot if it
  was missing.\n  * Sbuild.built & Sbuild.piupartsConf: add an additional alias to
  sid chroots.\n    This is for compatibility with `dgit sbuild`.\n  * Further improvements
  to Sbuild.hs haddock.\n\n  [ Joey Hess ]\n  * Tor.hiddenService: Converted port
  parameter from Int to Port. (API change)\n  * Tor.hiddenServiceAvailable: The hidden
  service hostname file may not\n    be available immedaitely after configuring tor;
  avoid ugly error in\n    this case.\n\n -- Joey Hess <id@joeyh.name>  Sat, 10 Sep
  2016 11:39:40 -0400\n\npropellor (3.1.2) unstable; urgency=medium\n\n  [ Joey Hess
  ]\n  * Ssh.knownHost: Bug fix: Only fix up the owner of the known_hosts\n    file
  after it exists.\n\n  [ Sean Whitton ]\n  * Sbuild.keypairInsecurelyGenerated: Improved
  to be more robust.\n  * Pass --allow-unrelated-histories to git merge when run with
  git 2.9 or\n    newer. This fixes the /usr/bin/propellor wrapper with this version
  of git.\n  * Sbuild.built & Sbuild.builtFor no longer require Sbuild.keypairGenerated.\n
  \   Transition guide: If you are using sbuild 0.70.0 or newer, you should\n    `rm
  -r /var/lib/sbuild/apt-keys`.  Otherwise, you should add either\n    Sbuild.keypairGenerated
  or Sbuild.keypairInsecurelyGenerated to your host.\n  * Sbuild haddock improvements:\n
  \   - State that we don't support squeeze and Buntish older than trusty.\n      This
  is due to our enhancements, such as eatmydata.\n    - State that you need sbuild
  0.70.0 or newer to build for stretch.\n      This is due to gpg2 hitting Debian
  stretch.\n    - Explain when a keygen is required.\n    - Update sample ~/.sbuildrc
  for sbuild 0.71.0.\n    - Add hint for customising chroots with propellor.\n    -
  Update example usage of System type.\n\n -- Joey Hess <id@joeyh.name>  Sun, 28 Aug
  2016 14:39:23 -0400\n\npropellor (3.1.1) unstable; urgency=medium\n\n  * Haddock
  build fix.\n    Thanks, Sean Whitton\n\n -- Joey Hess <id@joeyh.name>  Thu, 23 Jun
  2016 08:12:57 -0400\n\npropellor (3.1.0) unstable; urgency=medium\n\n  * Architecture
  changed from String to an ADT. (API Change)\n    Transition guide: Change \"amd64\"
  to X86_64, \"i386\" to X86_32,\n    \"armel\" to ARMEL, etc.\n    Thanks, Félix
  Sipma.\n  * The Debian data type now includes a DebianKernel. (API Change)\n    This
  won't affect most config.hs, as osDebian defaults to\n    Linux. Added osDebian'
  can be used to specify a different kernel.\n    Thanks, Félix Sipma.\n  * Improve
  exception handling. A property that threw a non-IOException\n    used to stop the
  whole propellor run. Now, all non-async exceptions\n    only make the property that
  threw them fail. (Implicit API change)\n  * Added StopPropellorException and stopPropellorMessage
  which can be\n    used in the unusual case where a failure of one property should
  stop\n    propellor from trying to ensure any other properties.\n  * tryPropellor
  returns Either SomeException instead of Either IOException\n    (API change)\n  *
  Switch letsencrypt to certbot package name.\n  * Sbuild: Add keyringInsecurelyGenerated
  which is useful on throwaway\n    build VMs.\n    Thanks, Sean Whitton\n  * Added
  Propellor.Property.SiteSpecific.Exoscale.\n    Thanks, Sean Whitton\n  * Property.Reboot:
  Added toDistroKernel and toKernelNewerThan.\n    Thanks, Sean Whitton\n  * Added
  ConfFile.hasIniSection.\n    Thanks, Félix Sipma.\n  * Apt.install: When asked to
  install a package that apt does not know\n    about, it used to incorrectly succeed.
  Now it will fail.\n  * Property.Firejail: New module.\n    Thanks, Sean Whitton\n
  \ * File: Write privdata files in binary rather than text, which avoids\n    failure
  when they do not contain valid unicode.\n    Thanks, Andrew Schurman\n  * Generalized
  fileProperty can now operate on a file as either a series\n    of lines, or a ByteString.\n\n
  \ [ Sean Whitton ]\n  * New info property Schroot.useOverlays to indicate whether
  you want schroots\n    set up by propellor to use the Linux kernel's OverlayFS.\n
  \ * Schroot.overlaysInTmpfs sets Schroot.useOverlays info property.\n  * If you
  have indicated that you want schroots to use OverlayFS and the\n    current kernel
  does not support it, Sbuild.built will attempt to reboot\n    into a kernel that
  does, or fail if it can't find one.\n  * Sbuild.built will no longer add duplicate
  `aliases=UNRELEASED,sid...` lines\n    to more than one schroot config. It will
  not remove any such lines that the\n    previous version of propellor added, though.\n
  \ * Sbuild.keypairGenerated works around Debian bug #792100 by creating the\n    directory
  /root/.gnupg in advance.\n  * Ccache.hasCache now sets the setgid bit on the cache
  directory, as \n    ccache requires.\n\n -- Joey Hess <id@joeyh.name>  Wed, 22 Jun
  2016 15:29:27 -0400\n\npropellor (3.0.5) unstable; urgency=medium\n\n  * Modules
  added for Sbuild and Ccache.\n    Thanks, Sean Whitton\n  * Systemd: Added killUserProcesses
  property, which can be reverted\n    to return systemd to its default behavior before
  version 230 started\n    killing processes like screen sessions.\n  * Systemd: Added
  logindConfigured property.\n\n -- Joey Hess <id@joeyh.name>  Mon, 06 Jun 2016 17:13:21
  -0400\n\npropellor (3.0.4) unstable; urgency=medium\n\n  * Run letsencrypt with
  --noninteractive.\n  * Fix build with ghc 8.0.1.\n    Thanks, davean.\n  * Module
  added for the Borg backup system.\n    Thanks, Félix Sipma.\n  * Fix build with
  directory-1.2.6.2.\n\n -- Joey Hess <id@joeyh.name>  Sun, 22 May 2016 15:54:49 -0400\n\npropellor
  (3.0.3) unstable; urgency=medium\n\n  * Remove Propellor.DotDir from the propellor
  library, as its use of\n    Paths_propellor prevents use of the module out of propellor's
  tree.\n    This module is only needed for the wrapper program anyway, which\n    handles
  --init.\n\n -- Joey Hess <id@joeyh.name>  Sun, 01 May 2016 17:51:37 -0400\n\npropellor
  (3.0.2) unstable; urgency=medium\n\n  * Added Apt.periodicUpdates.\n    Thanks,
  Félix Sipma.\n  * Apt.unattendedUpgrades: Enable mailing problem reports to root.\n
  \   Thanks, Félix Sipma.\n  * Added Propellor.Property.Fstab, and moved the fstabbed
  property to there.\n  * Attic module added for the backup system.\n    Thanks, Félix
  Sipma.\n  * Fix build with directory-1.2.6.2.\n\n -- Joey Hess <id@joeyh.name>  Sat,
  30 Apr 2016 15:46:50 -0400\n\npropellor (3.0.1) unstable; urgency=medium\n\n  *
  propellor --init now runs cabal sandbox init if cabal has been\n    configured with
  require-sandbox: True.\n    Thanks, Sean Whitton\n  * Re-bundled concurrent-output
  so propellor can be deployed to Debian\n    stable systems without installing it
  (insecurely) from hackage.\n\n -- Joey Hess <id@joeyh.name>  Tue, 05 Apr 2016 13:35:54
  -0400\n\npropellor (3.0.0) unstable; urgency=medium\n\n  * Property types have been
  improved to indicate what systems they target.\n    This prevents using eg, Property
  FreeBSD on a Debian system.\n    Transition guide for this sweeping API change:\n
  \   - First, upgrade to propellor 2.17.2 and deploy that to all your hosts.\n      Otherwise,
  propellor --spin will fail when you upgrade to\n      propellor 3.0.0.\n    - Change
  \"host name & foo & bar\"\n      to     \"host name $ props & foo & bar\"\n    -
  Similarly, `propertyList` and `combineProperties` need `props`\n      to be used
  to combine together properties; they no longer accept\n      lists of properties.
  (If you have such a list, use `toProps`.)\n    - And similarly, Chroot, Docker,
  and Systemd container need `props`\n      to be used to combine together the properies
  used inside them.\n    - The `os` property is removed. Instead use `osDebian`, `osBuntish`,\n
  \     or `osFreeBSD`. These tell the type checker the target OS of a host.\n    -
  Change \"Property NoInfo\" to \"Property UnixLike\"\n    - Change \"Property HasInfo\"
  to \"Property (HasInfo + UnixLike)\"\n    - Change \"RevertableProperty NoInfo\"
  to\n      \"RevertableProperty UnixLike UnixLike\"\n    - Change \"RevertableProperty
  HasInfo\" to\n      \"RevertableProperty (HasInfo + UnixLike) UnixLike\"\n    -
  GHC needs {-# LANGUAGE TypeOperators #-} to use these fancy types.\n      This is
  enabled by default for all modules in propellor.cabal. But\n      if you are using
  propellor as a library, you may need to enable it\n      manually.\n    - If you
  know a property only works on a particular OS, like Debian\n      or FreeBSD, use
  that instead of \"UnixLike\". For example:\n      \"Property Debian\"\n    - It's
  also possible make a property support a set of OS's, for example:\n      \"Property
  (Debian + FreeBSD)\"\n    - Removed `infoProperty` and `simpleProperty` constructors,
  instead use\n      `property` to construct a Property.\n    - Due to the polymorphic
  type returned by `property`, additional type\n      signatures tend to be needed
  when using it. For example, this will\n      fail to type check, because the type
  checker cannot guess what type\n      you intend the intermediate property \"go\"
  to have:\n        foo :: Property UnixLike\n        foo = go `requires` bar\n \t
  \ where\n \t\tgo = property \"foo\" (return NoChange)\n      To fix, specify the
  type of go:\n \t  \tgo :: Property UnixLike\n    - `ensureProperty` now needs to
  be passed a witness to the type of the \n      property it's used in.\n      change
  this:  foo = property desc $ ... ensureProperty bar\n      to this:      foo = property'
  desc $ \\w -> ... ensureProperty w bar\n    - General purpose properties like cmdProperty
  have type \"Property UnixLike\".\n      When using that to run a command only available
  on Debian, you can\n      tighten the type to only the OS that your more specific
  property works on.\n      For example:\n        upgraded :: Property Debian\n        upgraded
  = tightenTargets (cmdProperty \"apt-get\" [\"upgrade\"])\n    - Several utility
  functions have been renamed:\n      getInfo to fromInfo\n      propertyInfo to getInfo\n
  \     propertyDesc to getDesc\n      propertyChildren to getChildren\n  * The new
  `pickOS` property combinator can be used to combine different\n    properties, supporting
  different OS's, into one Property that chooses\n    which to use based on the Host's
  OS.\n  * Re-enabled -O0 in propellor.cabal to reign in ghc's memory use handling\n
  \   these complex new types.\n  * Added dependency on concurrent-output; removed
  embedded copy.\n  * Apt.PPA: New module, contributed by Evan Cofsky.\n  * Improved
  propellor's first run experience; propellor --init will\n    walk the user through
  setting up ~/.propellor, with a choice between\n    a clone of propellor's git repository,
  or a minimal config, and will\n    configure propellor to use a gpg key.\n  * Stack
  support. \"git config propellor.buildsystem stack\" will make\n    propellor build
  its config using stack. (This does not affect\n    how propellor is bootstrapped
  on a host by \"propellor --spin host\".)\n  * When propellor is installed using
  stack, propellor --init will\n    automatically set propellor.buildsystem=stack.\n\n
  -- Joey Hess <id@joeyh.name>  Sat, 02 Apr 2016 15:33:26 -0400\n\npropellor (2.17.2)
  unstable; urgency=medium\n\n  * When new dependencies are added to propellor or
  the propellor config,\n    try harder to get them installed. In particular, this
  makes \n    propellor --spin work when the remote host needs to get dependencies\n
  \   installed in order to build the updated config.\n  * Apt.update: Also run dpkg
  --configure -a here as apt for some reason\n    won't even update if dpkg was interrupted.\n\n
  -- Joey Hess <id@joeyh.name>  Wed, 30 Mar 2016 15:45:08 -0400\n\npropellor (2.17.1)
  unstable; urgency=medium\n\n  * Avoid generating excessively long paths to the unix
  socket file\n    used for ssh connection caching. Mostly. Can still generate a too
  long\n    one if $HOME is longer than 60 bytes.\n  * Uwsgi: add \".ini\" extension
  to app config files. \n    Files without extensions were ignored by uwsgi.\n    Thanks,
  Félix Sipma.\n\n -- Joey Hess <id@joeyh.name>  Mon, 28 Mar 2016 11:06:34 -0400\n\npropellor
  (2.17.0) unstable; urgency=medium\n\n  * Added initial support for FreeBSD.\n    Thanks,
  Evan Cofsky.\n  * Added Propellor.Property.ZFS.\n    Thanks, Evan Cofsky.\n  * Firewall:
  Reorganized Chain data type. (API change)\n    Thanks, Félix Sipma.\n  * Firewall:
  Separated Table and Target (API change)\n    Thanks, Félix Sipma.\n  * Ssh: change
  type of listenPort from Int to Port (API change)\n    Thanks, Félix Sipma.\n  *
  Firewall: add TCPFlag, Frequency, TCPSyn, ICMPTypeMatch, NatDestination\n    Thanks,
  Félix Sipma.\n  * Network: Filter out characters not allowed in interfaces.d files.\n
  \   Thanks, Félix Sipma.\n  * Apt.upgrade: Run dpkg --configure -a first, to recover
  from\n    interrupted upgrades.\n  * Apt: Add safeupgrade.\n  * Force ssh, scp,
  and git commands to be run in the foreground.\n    Should fix intermittent hangs
  of propellor --spin.\n  * Avoid repeated re-building on systems such as FreeBSD
  where building\n    re-links the binary even when there are no changes.\n  * Locale.available:
  Run locale-gen, instead of dpkg-reconfigure locales,\n    which modified the locale.gen
  file and sometimes caused the property to\n    need to make changes every time.\n
  \ * Speed up propellor's build of itself, by asking cabal to only build\n    the
  propellor-config binary and not all the libraries.\n  * Tor.named: Fix bug that
  sometimes caused the property to fail the first\n    time, though retrying succeeded.\n\n
  -- Joey Hess <id@joeyh.name>  Thu, 24 Mar 2016 14:53:31 -0400\n\npropellor (2.16.0)
  unstable; urgency=medium\n\n  * Obnam: Only let one backup job run at a time when
  a host has multiple\n    different backup properties, to avoid concurrent jobs fighting
  over\n    scarce resources (particularly memory). Other jobs block on a lock\n    file.\n
  \ * Removed references to a Debian derivative from code and documentation\n    because
  of an unfortunate trademark use policy.\n    http://joeyh.name/blog/entry/trademark_nonsense/\n
  \ * That included changing a data constructor to \"Buntish\", an API change.\n  *
  Firewall.rule: Now takes a Table parameter. (API change)\n  * Firewall: add InIFace/OutIFace
  Rules, add Source/Destination Rules,\n    add CustomTarget, and more improvements.\n
  \   Thanks, Félix Sipma.\n  * Ssh.authorizedKey: Fix bug preventing it from working
  when the\n    authorized_keys file does not yet exist.\n  * Removed Ssh.unauthorizedKey
  and made Ssh.authorizedKey revertable.\n    (API change)\n\n -- Joey Hess <id@joeyh.name>
  \ Sat, 27 Feb 2016 13:31:57 -0400\n\npropellor (2.15.4) unstable; urgency=medium\n\n
  \ * Build /usr/src/propellor/propellor.git reproducibly,\n    which makes the whole
  Debian package build reproducibly.\n    Thanks, Sean Whitton.\n  * Obnam: To cause
  old generations to be forgotten, keepParam can be\n    passed to a backup property;
  this causes obnam forget to be run.\n  * Delete /etc/apt/apt.conf.d/50unattended-upgrades.ucf-dist
  when\n    unattended-upgrades is installed, to work around #812380 which results\n
  \   in many warnings from apt, including in cron mails.\n  * Added Propellor.Property.LetsEncrypt\n
  \ * Apache.httpsVirtualHost: New property, setting up a https vhost\n    with the
  certificate automatically obtained using letsencrypt.\n  * Allow using combineProperties
  and propertyList with lists of\n    RevertableProperty.\n\n -- Joey Hess <id@joeyh.name>
  \ Thu, 11 Feb 2016 12:49:10 -0400\n\npropellor (2.15.3) unstable; urgency=medium\n\n
  \ * Added Git.bareRepoDefaultBranch property\n    Thanks, Sean Whitton.\n  * Add
  missing Control.Applicative imports needed by older versions of ghc.\n\n -- Joey
  Hess <id@joeyh.name>  Tue, 12 Jan 2016 12:37:22 -0400\n\npropellor (2.15.2) unstable;
  urgency=medium\n\n  * Added GNUPGBIN environment variable or git.program git config\n
  \   to control the command run for gpg. Allows eg, GNUPGBIN=gpg2\n    Thanks, Félix
  Sipma.\n  * Bootstrap apt-get installs run with deconf noninteractive frontend.\n
  \ * spin --via: Avoid committing on relay host.\n  * Postfix: Add service property
  to enable/disable services in master.cf.\n  * Added Munin module, contributed by
  Jelmer Vernooij.\n\n -- Joey Hess <id@joeyh.name>  Sun, 03 Jan 2016 16:56:26 -0400\n\npropellor
  (2.15.1) unstable; urgency=medium\n\n  * Added git configs propellor.spin-branch
  and propellor.forbid-dirty-spin.\n    Thanks, Sean Whitton.\n  * Added User.systemAccountFor
  and User.systemAccountFor' properties.\n    Thanks, Félix Sipma.\n  * Gpg.keyImported
  converted to not use a flag file and instead check\n    if gpg has the provided
  key already.\n    Thanks, Félix Sipma.\n  * Clean build with ghc 7.10.\n  * Merged
  Utility changes from git-annex.\n\n -- Joey Hess <id@joeyh.name>  Sat, 19 Dec 2015
  16:43:09 -0400\n\npropellor (2.15.0) unstable; urgency=medium\n\n  * Added UncheckedProperty
  type, along with unchecked to indicate a\n    Property needs its result checked,
  and checkResult and changesFile\n    to check for changes.\n  * Properties that
  run an arbitrary command, such as cmdProperty\n    and scriptProperty are converted
  to use UncheckedProperty, since\n    they cannot tell on their own if the command
  truely made a change or not.\n    (API Change)\n    Transition guide:\n    - When
  GHC complains about an UncheckedProperty, add:\n    \t`assume` MadeChange\n      (Since
  these properties used to always return MadeChange, that\n      change is always
  safe to make.)\n    - Or, if you know that the command should modifiy a file, use:\n
  \   \t`changesFile` filename\n  * The `trivial` combinator has been removed. (API
  change)\n    Instead, use:\n    \t`assume` NoChange\n    Or, better, use changesFile
  or checkResult to accurately report\n    when a property makes a change.\n  * A
  few properties have had their Result improved, for example\n    Apt.buldDep and
  Apt.autoRemove now check if a change was made or not.\n  * User.hasDesktopGroups
  changed to avoid trying to add the user to\n    groups that don't exist.\n  * Added
  Postfix.saslPasswdSet.\n  * Added Propellor.Property.Locale.\n    Thanks, Sean Whitton.\n
  \ * Added Propellor.Property.Fail2Ban.\n\n -- Joey Hess <id@joeyh.name>  Sun, 06
  Dec 2015 15:33:51 -0400\n\npropellor (2.14.0) unstable; urgency=medium\n\n  * Add
  Propellor.Property.PropellorRepo.hasOriginUrl, an explicit way to\n    set the git
  repository url normally implicitly set when using --spin.\n  * Added Chroot.noServices
  property.\n  * DiskImage creation automatically uses Chroot.noServices.\n  * Removed
  the (unused) dependency on quickcheck.\n  * DebianMirror: Added a DebianMirror type
  for configuration (API change)\n    Thanks, Félix Sipma.\n  * DebianMirror: Add
  RsyncExtra to configuration.\n    Thanks, Félix Sipma.\n  * Added Git.repoConfigured
  and Git.repoAcceptsNonFFs properties.\n    Thanks, Sean Whitton\n  * Added User.hasDesktopGroups
  property.\n\n -- Joey Hess <id@joeyh.name>  Tue, 24 Nov 2015 16:03:55 -0400\n\npropellor
  (2.13.0) unstable; urgency=medium\n\n  * RevertableProperty used to be assumed to
  contain info, but this is\n    now made explicit, with RevertableProperty HasInfo
  or\n    RevertableProperty NoInfo. (API change)\n    Transition guide:\n      -
  If you define a RevertableProperty, expect some type check\n        failures like:
  \"Expecting one more argument to ‘RevertableProperty’\".\n      - Change it to \"RevertableProperty
  NoInfo\"\n      - The compiler will then tell you if it needs \"HasInfo\" instead.\n
  \     - If you have code that uses the RevertableProperty constructor\n        that
  fails to type check, use the more powerful <!> operator\n        instead to create
  the RevertableProperty.\n  * Various property combinators that combined a RevertableProperty\n
  \   with a non-revertable property used to yield a RevertableProperty.\n    This
  was a bug, because the combined property could not be fully\n    reverted in many
  cases, and the result is now a non-revertable property.\n  * combineWith now takes
  an additional parameter to control how revert\n    actions are combined (API change).\n
  \ * Added Propellor.Property.Concurrent for concurrent properties.\n  * Made the
  execProcess exported by propellor, and everything built on it,\n    avoid scrambled
  output when run concurrently.\n  * Propellor now depends on STM and text.\n  * The
  cabal file now builds propellor with -O. While -O0 makes ghc\n    take less memory
  while building propellor, it can lead to bad memory\n    usage at runtime due to
  eg, disabled stream fusion.\n  * Add File.isCopyOf. Thanks, Per Olofsson.\n\n --
  Joey Hess <id@joeyh.name>  Sun, 08 Nov 2015 14:51:15 -0400\n\npropellor (2.12.0)
  unstable; urgency=medium\n\n  * The DiskImage module can now make bootable images
  using grub.\n  * Add a ChrootTarball chroot type, for using pre-built tarballs\n
  \   as chroots. Thanks, Ben Boeckel.\n  * HostName: Improve domain extraction code.\n
  \ * Added Mount.fstabbed property to generate /etc/fstab to replicate\n    current
  mounts.\n  * HostName: Improve domain extraction code.\n  * Add File.basedOn. Thanks,
  Per Olofsson.\n  * Changed how the operating system is provided to Chroot (API change).\n
  \   Where before debootstrapped and bootstrapped took a System parameter,\n    the
  os property should now be added to the Chroot.\n  * Follow-on change to Systemd.container,
  which now takes a System parameter.\n  * Generalized Property.check so it can be
  used with Propellor actions as\n    well as IO actions.\n  * Hostname.sane and Hostname.setTo
  can now safely be used as a property\n    of a chroot, and won't affect the hostname
  of the host system.\n\n -- Joey Hess <id@joeyh.name>  Fri, 23 Oct 2015 17:38:32
  -0400\n\npropellor (2.11.0) unstable; urgency=medium\n\n  * Rewrote Propellor.Property.ControlHeir
  one more time, renaming it to\n    Propellor.Property.Conductor.\n  * Added Ssh
  properties to remove authorized_keys and known_hosts lines.\n\n -- Joey Hess <id@joeyh.name>
  \ Wed, 21 Oct 2015 19:49:00 -0400\n\npropellor (2.10.0) unstable; urgency=medium\n\n
  \ * The Propellor.Property.Spin added in the last release is replaced\n    with
  a very different Propellor.Property.ControlHeir.\n\n -- Joey Hess <id@joeyh.name>
  \ Tue, 20 Oct 2015 21:29:12 -0400\n\npropellor (2.9.0) unstable; urgency=medium\n\n
  \ * Added basic Uwsgi module, maintained by Félix Sipma.\n  * Add Apt.hasForeignArch.
  Thanks, Per Olofsson.\n  * Improved documentation, particularly of the Propellor
  module.\n  * The Propellor module no longer exports many of the things it used to,\n
  \   being now focused on only what's needed to write config.hs.\n    Use Propellor.Base
  to get all the things exported by Propellor before.\n    (API change)\n  * Some
  renaming of instance methods, and moving of functions to more\n    appropriate modules.
  (API change)\n  * Added File.isSymlinkedTo. Thanks, Per Olofsson.\n  * fileProperty,
  and properties derived from it now write the new\n    file content via origfile.propellor-new~,
  instead of to a randomly named\n    temp file. This allows them to clean up any
  temp file that may have\n    been left by an interrupted run of propellor.\n  *
  Added Propellor.Property.Spin, which can be used to make a host be a\n    controller
  of other hosts, which will automatically spin them each time\n    propellor is run.\n
  \ * Ssh.keyImported is replaced with Ssh.userKeys. (API change)\n    The new property
  only gets the private key from the privdata; the\n    public key is provided as
  a parameter, and so is available as\n    Info that other properties can use.\n  *
  Ssh.keyImported' is renamed to Ssh.userKeyAt, and also changed\n    to only import
  the private key from the privdata. (API change)\n  * While Ssh.keyImported and Ssh.keyImported'
  avoided updating existing\n    keys, the new Ssh.userKeys and Ssh.userKeyAt properties
  will\n    always update out of date key files.\n  * Ssh.pubKey renamed to Ssh.hostPubKey.
  (API change)\n  * Added --unset-unused \n  * Fix typo: propigate → propagate. Thanks,
  Felix Gruber.\n    (A minor API change)\n  * Chroot: Converted to use a ChrootBootstrapper
  type class, so\n    other ways to bootstrap chroots can easily be added in separate\n
  \   modules. (API change)\n\n -- Joey Hess <id@joeyh.name>  Tue, 20 Oct 2015 15:43:12
  -0400\n\npropellor (2.8.1) unstable; urgency=medium\n\n  * Guard against power loss
  etc when building propellor, by updating\n    the executable atomically.\n  * Added
  Logcheck module, contributed by Jelmer Vernooij.\n  * Added Kerberos module, contributed
  by Jelmer Vernooij.\n  * Privdata that uses HostContext inside a container will
  now have the\n    name of the container as its context, rather than the name of\n
  \   the host(s) where the container is used. This allows eg, having different\n
  \   passwords for a user in different containers. Note that previously,\n    propellor
  would prompt using the container name as the context, but\n    not actually use
  privdata using that context; so this is a bug fix.\n  * Fix --add-key to not fail
  committing when no privdata file exists yet.\n\n -- Joey Hess <id@joeyh.name>  Sun,
  04 Oct 2015 13:54:59 -0400\n\npropellor (2.8.0) unstable; urgency=medium\n\n  *
  Added Propellor.Property.Rsync.\n  * Convert Info to use Data.Dynamic, so properties
  can export and consume\n    info of any type that is Typeable and a Monoid, including
  data types\n    private to a module. (API change)\n    Thanks to Joachim Breitner
  for the idea.\n  * Improve propellor wrapper to better handle installation cloning\n
  \   the public propellor repo, by setting that repo to be upstream,\n    so propellor
  doesnt try to push to a read-only repo.\n  * Added DebianMirror module, contributed
  by Félix Sipma.\n  * Some hlint cleanups.\n    Thanks, Mario Lang\n  * Added Propellor.Property.Unbound
  for the caching DNS server.\n    Thanks, Félix Sipma.\n  * Added PTR to Dns.Record.
  While this is ignored by\n    Propellor.Property.Dns for now, since reverse DNS
  setup is not\n    implemented there yet, it can be used in other places, eg Unbound.\n
  \   Thanks, Félix Sipma.\n  * PrivData converted to newtype (API change).\n  * Stopped
  stripping trailing newlines when setting PrivData;\n    this was previously done
  to avoid mistakes when pasting eg passwords\n    with an unwanted newline. Instead,
  PrivData consumers should use either\n    privDataLines or privDataVal, to extract
  respectively lines or a\n    value (without internal newlines) from PrivData.\n
  \ * Allow storing arbitrary ByteStrings in PrivData, extracted using\n    privDataByteString.\n
  \ * Added Aiccu module, contributed by Jelmer Vernooĳ.\n  * Added --rm-key.\n\n
  -- Joey Hess <id@joeyh.name>  Tue, 22 Sep 2015 19:35:07 -0400\n\npropellor (2.7.3)
  unstable; urgency=medium\n\n  * Fix bug that caused provisioning new chroots to
  fail.\n  * Update for Debian systemd-container package split.\n  * Added Propellor.Property.Parted,
  for disk partitioning.\n  * Added Propellor.Property.Partition, for partition formatting
  etc.\n  * Added Propellor.Property.DiskImage, for bootable disk image creation.\n
  \   (Experimental and not yet complete.)\n  * Dropped support for ghc 7.4.\n\n --
  Joey Hess <id@joeyh.name>  Thu, 03 Sep 2015 08:52:51 -0700\n\npropellor (2.7.2)
  unstable; urgency=medium\n\n  * Added Propellor.Property.ConfFile, with support
  for Windows-style .ini\n    files, and generic support for files containing some
  sort of sections.\n    Thanks, Sean Whitton for completing the implementation.\n
  \ * Added Propellor.Property.LightDM\n    Thanks, Sean Whitton.\n  * Multiple Tor.hiddenService
  properties can now be defined for a host;\n    previously only one such property
  worked per host.\n    Thanks, Félix Sipma.\n\n -- Joey Hess <id@joeyh.name>  Tue,
  25 Aug 2015 12:00:25 -0700\n\npropellor (2.7.1) unstable; urgency=medium\n\n  *
  Make sure that make is installed when bootstrapping propellor.\n  * Fix bug in Firewall's
  Port datatype to iptable parameter translation code.\n    Thanks, Antoine Eiche.\n\n
  -- Joey Hess <id@joeyh.name>  Fri, 14 Aug 2015 15:01:37 -0400\n\npropellor (2.7.0)
  unstable; urgency=medium\n\n  * Ssh.permitRootLogin type changed to allow configuring
  WithoutPassword\n    and ForcedCommandsOnly (API change)\n  * setSshdConfig type
  changed, and setSshdConfigBool added with old type.\n  * Fix a bug in shim generation
  code for docker and chroots, that\n    sometimes prevented deployment of docker
  containers.\n  * Added onChangeFlagOnFail which is often a safer alternative to\n
  \   onChange.\n    Thanks, Antoine Eiche.\n  * Work around broken git pull option
  parser in git 2.5.0,\n    which broke use of --upload-pack to send a git push when
  running\n    propellor --spin.\n\n -- Joey Hess <id@joeyh.name>  Thu, 30 Jul 2015
  12:05:46 -0400\n\npropellor (2.6.0) unstable; urgency=medium\n\n  * Replace String
  type synonym Docker.Image by a data type\n    which allows to specify an image name
  and an optional tag. (API change)\n    Thanks, Antoine Eiche.\n  * Added --unset
  to delete a privdata field.\n  * Version dependency on exceptions.\n  * Systemd:
  Add masked property.\n    Thanks, Sean Whitton\n  * Fix make install target to work
  even when git is not configured.\n\n -- Joey Hess <id@joeyh.name>  Fri, 10 Jul 2015
  22:36:29 -0400\n\npropellor (2.5.0) unstable; urgency=medium\n\n  * cmdProperty'
  renamed to cmdPropertyEnv to make way for a new,\n    more generic cmdProperty'
  (API change)\n  * Add docker image related properties.\n    Thanks, Antoine Eiche.\n
  \ * Export CommandParam, boolSystem, safeSystem, shellEscape, and\n    createProcess
  from Propellor.Property.Cmd, so they are available\n    for use in constricting
  your own Properties when using propellor\n    as a library.\n  * Improve enter-machine
  scripts for systemd-nspawn containers to unset most\n    environment variables.\n
  \ * Fix Postfix.satellite bug; the default relayhost was set to the\n    domain,
  not to smtp.domain as documented.\n  * Mount /proc inside a chroot before provisioning
  it, to work around #787227\n  * --spin now works when given a short hostname that
  only resolves to an\n    ipv6 address.\n  * Added publish property for systemd-spawn
  containers, for port publishing.\n    (Needs systemd version 220.)\n  * Added bind
  and bindRo properties for systemd-spawn containers.\n  * Firewall: Port was changed
  to a newtype, and the Port and PortRange\n    constructors of Rules were changed
  to DPort and DportRange, respectively.\n    (API change)\n  * Docker: volume and
  publish accept Bound FilePath and Bound Port,\n    respectively. They also continue
  to accept Strings, for backwards\n    compatibility.\n  * Docker: Added environment
  property.\n    Thanks Antoine Eiche.\n\n -- Joey Hess <id@joeyh.name>  Tue, 09 Jun
  2015 17:08:43 -0400\n\npropellor (2.4.0) unstable; urgency=medium\n\n  * Propellor
  no longer supports Debian wheezy (oldstable).\n  * Git.bareRepo: Fix bug in calls
  to userScriptProperty.\n    Thanks, Jelmer Vernooij.\n  * Removed Obnam.latestVersion
  which was only needed for Debian wheezy\n    backport.\n  * Merged Utility changes
  from git-annex.\n  * Switched from MonadCatchIO-transformers to the newer transformers
  and\n    exceptions libraries.\n  * Ensure build deps are installed before building
  propellor in --spin\n    and cron job, even if propellor was already built before,
  to deal with\n    upgrades that add new dependencies.\n\n -- Joey Hess <id@joeyh.name>
  \ Wed, 06 May 2015 14:28:59 -0400\n\npropellor (2.3.0) unstable; urgency=medium\n\n
  \ * Make propellor resistent to changes to shared libraries, such as libffi,\n    which
  might render the propellor binary unable to run. This is dealt with\n    by checking
  the binary both when running propellor on a remote host,\n    and by Cron.runPropellor.
  If the binary doesn't work, it will be rebuilt.\n  * Note that since a new switch
  had to be added to allow testing the binary,\n    upgrading to this version will
  cause a rebuild from scratch of propellor.\n  * Added hasLoginShell and shellEnabled.\n
  \ * debCdn changed to new httpredir.debian.org official replacement for\n    http.debian.net.\n
  \ * API change: Added User and Group newtypes, and Properties that\n    used to
  use the type UserName = String were changed to use them.\n\n -- Joey Hess <id@joeyh.name>
  \ Wed, 22 Apr 2015 13:46:24 -0400\n\npropellor (2.2.1) unstable; urgency=medium\n\n
  \ * userScriptProperty now passes --shell /bin/sh, so it can be used\n    even for
  users with nonstandard shells.\n  * Fix bug in docker propellor shim setup introduced
  in last release,\n    which broke provisioning of new docker containers.\n\n --
  Joey Hess <id@joeyh.name>  Thu, 12 Mar 2015 20:08:34 -0400\n\npropellor (2.2.0)
  unstable; urgency=medium\n\n  * When running shimmed (eg in a docker container),\n
  \   improve process name visible in ps.\n  * Add shebang to cron.daily etc files.
  \n  * Some changes to tor configuration, minor API change.\n  * Propellor now builds
  itself, and gets its build dependencies installed\n    when deploying to a new host,
  without needing the Makefile.\n\n -- Joey Hess <id@joeyh.name>  Mon, 09 Mar 2015
  12:02:31 -0400\n\npropellor (2.1.0) unstable; urgency=medium\n\n  * Additional tor
  properties, including support for making relays, \n    and naming bridges, relays,
  etc.\n  * New Cron.Times data type, which allows Cron.job to install\n    daily/monthly/weekly
  jobs that anacron can run. (API change)\n  * Fix Git.daemonRunning to restart inetd
  after enabling the git server.\n  * Ssh.authorizedKey: Make the authorized_keys
  file and .ssh directory\n    be owned by the user, not root.\n  * Ssh.knownHost:
  Make the .ssh directory be owned by the user, not root.\n\n -- Joey Hess <id@joeyh.name>
  \ Thu, 12 Feb 2015 12:36:26 -0400\n\npropellor (2.0.0) unstable; urgency=medium\n\n
  \ * Property has been converted to a GADT, and will be Property NoInfo\n    or Property
  HasInfo.\n    This was done to make sure that ensureProperty is only used on\n    properties
  that do not have Info.\n    Transition guide:\n    - Change all \"Property\" to
  \"Property NoInfo\" or \"Property HasInfo\"\n      (The compiler can tell you if
  you got it wrong!)\n    - To construct a RevertableProperty, it is useful to use
  the new\n      (<!>) operator\n    - Constructing a list of properties can be problimatic,
  since\n      Property NoInto and Property HasInfo are different types and cannot\n
  \     appear in the same list. To deal with this, \"props\" has been added,\n      and
  can built up a list of properties of different types,\n      using the same (&)
  and (!) operators that are used to build\n      up a host's properties.\n  * Add
  descriptions of how to set missing fields to --list-fields output.\n  * Properties
  now form a tree, instead of the flat list used before.\n    This includes the properties
  used inside a container.\n  * Fix info propagation from fallback combinator's second
  Property.\n  * Added systemd configuration properties.\n  * Added journald configuration
  properties.\n  * Added more network interface configuration properties.\n  * Implemented
  OS.preserveNetwork.\n\n -- Joey Hess <id@joeyh.name>  Sun, 25 Jan 2015 15:23:08
  -0400\n\npropellor (1.3.2) unstable; urgency=medium\n\n  * SSHFP records are also
  generated for CNAMES of hosts.\n  * Merge Utiity modules from git-annex.\n  * Ignore
  bogus DNS when spinning the local host.\n\n -- Joey Hess <id@joeyh.name>  Thu, 15
  Jan 2015 14:02:07 -0400\n\npropellor (1.3.1) unstable; urgency=medium\n\n  * Fix
  bug that prevented deploying ssh host keys when the file for the\n    key didn't
  already exist.\n  * DNS records for hosts with known ssh public keys now automatically\n
  \   include SSHFP records.\n\n -- Joey Hess <id@joeyh.name>  Sun, 04 Jan 2015 19:51:34
  -0400\n\npropellor (1.3.0) unstable; urgency=medium\n\n  * --spin checks if the
  DNS matches any configured IP address property\n    of the host, and if not, sshes
  to the host by IP address.\n  * Detect #774376 and refuse to use docker if the system
  is so broken\n    that docker exec doesn't enter a chroot.\n  * Update intermediary
  propellor in --spin --via\n  * Added support for DNSSEC.\n  * Ssh.hostKey and Ssh.hostKeys
  no longer install public keys from\n    the privdata. Instead, the public keys are
  included in the\n    configuration. (API change)\n  * Ssh.hostKeys now removes any
  host keys of types that the host is not\n    configured to have.\n  * sshPubKey
  is renamed to Ssh.pubKey, and has an added SshKeyType\n    parameter. (API change)\n
  \ * CloudAtCost.deCruft no longer forces randomHostKeys.\n  * Fix build with process
  1.2.1.0.\n\n -- Joey Hess <id@joeyh.name>  Sun, 04 Jan 2015 17:17:44 -0400\n\npropellor
  (1.2.2) unstable; urgency=medium\n\n  * Revert ensureProperty warning message, too
  many false positives in places\n    where Info is correctly propagated. Better approach
  needed.\n\n -- Joey Hess <id@joeyh.name>  Sun, 21 Dec 2014 21:41:11 -0400\n\npropellor
  (1.2.1) unstable; urgency=medium\n\n  * Added CryptPassword to PrivDataField, for
  password hashes as produced \n    by crypt(3).\n  * User.hasPassword and User.hasSomePassword
  will now use either\n    a CryptPassword or a Password from privdata, depending
  on which is set.\n\n -- Joey Hess <id@joeyh.name>  Wed, 17 Dec 2014 16:30:44 -0400\n\npropellor
  (1.2.0) unstable; urgency=medium\n\n  * Display a warning when ensureProperty is
  used on a property which has\n    Info and is so prevented from propigating it.\n
  \ * Removed boolProperty; instead the new toResult can be used. (API change)\n  *
  Include Propellor.Property.OS, which was accidentially left out of the\n    cabal
  file in the last release.\n  * Fix Apache.siteEnabled to update the config file
  and reload apache when\n    configuration has changed.\n\n -- Joey Hess <id@joeyh.name>
  \ Tue, 09 Dec 2014 00:05:09 -0400\n\npropellor (1.1.0) unstable; urgency=medium\n\n
  \ * --spin target --via relay causes propellor to bounce through an\n    intermediate
  relay host, which handles any necessary uploads\n    when provisioning the target
  host.\n  * --spin can be passed multiple hosts, and it will provision each host\n
  \   in turn.\n  * Add --merge, to combine multiple --spin commits into a single,
  more useful\n    commit.\n  * Hostname parameters not containing dots are looked
  up in the DNS to\n    find the full hostname.\n  * propellor --spin can now deploy
  propellor to hosts that do not have \n    git, ghc, or apt-get. This is accomplished
  by uploading a fairly\n    portable precompiled tarball of propellor.\n  * Propellor.Property.OS
  contains properties that can be used to do a clean\n    reinstall of the OS of an
  existing host. This can be used, for example,\n    to do an in-place conversion
  from Fedora to Debian.\n    This is experimental; use with caution!\n  * Added group-related
  properties. Thanks, Félix Sipma.\n  * Added Git.barerepo. Thanks, Félix Sipma.\n
  \ * Added Grub.installed and Grub.boots properties.\n  * New HostContext can be
  specified when a PrivData value varies per host.\n  * hasSomePassword and hasPassword
  now default to using HostContext.\n    To specify a different context, use hasSomePassword'
  and\n    hasPassword' (API change)\n  * hasSomePassword and hasPassword now make
  sure shadow passwords are enabled.\n  * cron.runPropellor now runs propellor, rather
  than using its Makefile.\n    This is more robust.\n  * propellor.debug can be set
  in the git config to enable more persistent\n    debugging output.\n  * Run apt-cache
  policy with LANG=C so it works on other locales.\n  * endAction can be used to register
  an action to run once propellor\n    has successfully run on a host.\n\n -- Joey
  Hess <id@joeyh.name>  Sun, 07 Dec 2014 15:23:59 -0400\n\npropellor (1.0.0) unstable;
  urgency=medium\n\n  * propellor --spin can now be used to update remote hosts, without\n
  \   any central git repository needed. The central git repository is\n    still
  useful for running propellor from cron, but this simplifies\n    getting started
  with propellor, and allows for more ad-hoc usage.\n  * The git repo url, if any,
  is updated whenever propellor --spin is used.\n  * Added prosody module, contributed
  by Félix Sipma.\n  * Can be used to configure tor hidden services. Thanks, Félix
  Sipma.\n  * When multiple gpg keys are added, ensure that the privdata file\n    can
  be decrypted by all of them.\n  * Convert GpgKeyId to newtype. (API change)\n  *
  DigitalOcean.distroKernel property now reboots into the distribution\n    kernel
  when necessary.\n  * Avoid outputting color setting sequences when not run on a
  terminal.\n  * Docker code simplified by using `docker exec`; needs docker 1.3.1.\n
  \ * Docker containers are now a separate data type, cannot be included\n    in the
  main host list, and are instead passed to\n    Docker.docked. (API change)\n  *
  Added support for using debootstrap from propellor.\n  * Propellor can now be used
  to provision chroots.\n  * systemd-nspawn containers can now be managed by propellor,
  very similar\n    to its handling of docker containers.\n  * Debian package will
  be maintained by Gergely Nagy.\n\n -- Joey Hess <id@joeyh.name>  Fri, 21 Nov 2014
  20:58:02 -0400\n\npropellor (0.9.2) unstable; urgency=medium\n\n  * Added nginx
  module, contributed by Félix Sipma.\n  * Added firewall module, contributed by Arnaud
  Bailly.\n  * Apache: Fix daemon reload when enabling a new module or site.\n  *
  Docker: Stop using docker.io; that was a compat symlink in\n    the Debian package
  which has been removed in docker.io 1.3.1~dfsg1-2.\n    Closes: #769452\n  * Orphaned
  the Debian package, as I am retiring from Debian.\n\n -- Joey Hess <joeyh@debian.org>
  \ Sat, 08 Nov 2014 15:57:36 -0400\n\npropellor (0.9.1) unstable; urgency=medium\n\n
  \ * Docker: Add ability to control when containers restart.\n  * Docker: Default
  to always restarting containers, so they come back \n    up after reboots and docker
  daemon upgrades. (API change)\n  * Fix loop when a docker host that does not exist
  was docked.\n\n -- Joey Hess <joeyh@debian.org>  Fri, 24 Oct 2014 09:57:31 -0400\n\npropellor
  (0.9.0) unstable; urgency=medium\n\n  * Avoid encoding the current stable suite
  in propellor's code,\n    since that poses a difficult transition around the release,\n
  \   and can easily be wrong if an older version of propellor is used.\n    Instead,
  the os property for a stable system includes the suite name\n    to use, eg Stable
  \"wheezy\".\n  * stdSourcesList uses the stable suite name, to avoid unwanted\n
  \   immediate upgrades to the next stable release. (API change)\n  * debCdn switched
  from cdn.debian.net to http.debian.net, which seems to be\n    better managed now.\n
  \ * Docker: Avoid committing container every time it's started up.\n\n -- Joey Hess
  <joeyh@debian.org>  Fri, 10 Oct 2014 11:37:45 -0400\n\npropellor (0.8.3) unstable;
  urgency=medium\n\n  * The Debian package now includes a single-revision git repository
  in\n    /usr/src/propellor/, and ~/.propellor/ is set up to use this repository
  as\n    its origin remote. This avoids relying on the security of the github\n    repository
  when using the Debian package.\n  * The /usr/bin/propellor wrapper will warn when
  ~/.propellor/ is out of date\n    and a newer version is available, after which
  git merge upstream/master\n    can be run to merge it.\n  * Included the config.hs
  symlink to config-simple.hs in the cabal and Debian\n    packages.\n\n -- Joey Hess
  <joeyh@debian.org>  Fri, 22 Aug 2014 13:02:01 -0400\n\npropellor (0.8.2) unstable;
  urgency=medium\n\n  * Fix bug in File.containsLines that caused lines that were
  already in the\n    file to sometimes be appended to the end.\n  * Hostname.sane
  also configures /etc/mailname.\n  * Fixed Postfix.satellite to really configure
  relayhost = smtp.domain.\n  * Avoid reconfiguring postfix unncessarily when it already
  has a relayhost.\n  * Deal with apache 2.4's change in the name of site-available
  config files.\n  * Hostname aliases can now be used in several places, including
  --spin\n    and Ssh.knownHost.\n\n -- Joey Hess <joeyh@debian.org>  Mon, 04 Aug
  2014 01:12:19 -0400\n\npropellor (0.8.1) unstable; urgency=medium\n\n  * Run apt-get
  update in initial bootstrap.\n  * --list-fields now includes a table of fields that
  are not currently set,\n    but would be used if they got set.\n  * Remove .gitignore
  from cabal file list, to avoid build failure on Debian.\n    Closes: #754334\n\n
  -- Joey Hess <joeyh@debian.org>  Wed, 09 Jul 2014 22:11:31 -0400\n\npropellor (0.8.0)
  unstable; urgency=medium\n\n  * Completely reworked privdata storage. There is now
  a single file,\n    and each host is sent only the privdata that its Properties
  actually use.\n\n    To transition existing privdata, run propellor against a host
  and\n    watch out for the red failure messages, and run the suggested commands\n
  \   to store the privdata using the new storage scheme. You may find\n    it useful
  to run the old version of propellor to extract data from the old\n    privdata files
  during this migration.\n\n    Several properties that use privdata now require a
  context to be\n    specified. If in doubt, you can use anyContext, or\n    Context
  \"hostname.example.com\"\n\n  * Add --edit to edit a privdata value in $EDITOR.\n
  \ * Add --list-fields to list all currently set privdata fields, along with\n    the
  hosts that use them.\n  * Fix randomHostKeys property to run openssh-server's postinst
  in a\n    non-failing way.\n  * Hostname.sane now cleans up the 127.0.0.1 localhost
  line in /etc/hosts,\n    to avoid eg, apache complaining \"Could not reliably determine
  the\n    server's fully qualified domain name\".\n\n -- Joey Hess <joeyh@debian.org>
  \ Sun, 06 Jul 2014 18:28:08 -0400\n\npropellor (0.7.0) unstable; urgency=medium\n\n
  \ * combineProperties no longer stops when a property fails; now it continues\n
  \   trying to satisfy all properties on the list before propigating the\n    failure.\n
  \ * Attr is renamed to Info. (API change)\n  * Renamed wrapper to propellor to make
  cabal installation of propellor work.\n  * When git gpg signature of a fetched git
  branch cannot be verified,\n    propellor will now continue running, but without
  merging in that branch.\n\n -- Joey Hess <joeyh@debian.org>  Fri, 13 Jun 2014 10:06:40
  -0400\n\npropellor (0.6.0) unstable; urgency=medium\n\n  * Docker containers now
  propagate DNS attributes out to the host they're\n    docked in. So if a docker
  container sets a DNS alias, every container\n    it's docked in will automatically
  be added to a DNS round-robin,\n    when propellor is used to manage DNS for the
  domain.\n  * Apt.stdSourcesList no longer needs a suite to be specified. (API change)\n
  \ * Added --dump to dump out a field of a host's privdata. Useful for editing\n
  \   it.\n  * Propellor's output now includes the hostname being provisioned, or\n
  \   when provisioning a docker container, the container name.\n\n -- Joey Hess <joeyh@debian.org>
  \ Thu, 05 Jun 2014 17:32:14 -0400\n\npropellor (0.5.3) unstable; urgency=medium\n\n
  \ * Fix unattended-upgrades config for !stable.\n  * Ensure that kernel hostname
  is same as /etc/hostname when configuring\n    hostname.\n  * Added modules for
  some hosting providers (DigitalOcean, CloudAtCost).\n\n -- Joey Hess <joeyh@debian.org>
  \ Thu, 29 May 2014 14:29:53 -0400\n\npropellor (0.5.2) unstable; urgency=medium\n\n
  \ * A bug that caused propellor to hang when updating a running docker\n    container
  appears to have been fixed. Note that since it affects\n    the propellor process
  that serves as \"init\" of docker containers,\n    they have to be restarted for
  the fix to take effect.\n  * Licence changed from GPL to BSD.\n  * A few changes
  to allow building Propellor on OSX. One user reports\n    successfully using it
  there.\n\n -- Joey Hess <joeyh@debian.org>  Sat, 17 May 2014 16:42:55 -0400\n\npropellor
  (0.5.1) unstable; urgency=medium\n\n  * Primary DNS servers now have allow-transfer
  automatically populated\n    with the IP addresses of secondary dns servers. So,
  it's important\n    that all secondary DNS servers have an ipv4 (and/or ipv6) property\n
  \   configured.\n  * Deal with old ssh connection caching sockets.\n  * Add missing
  build deps and deps. Closes: #745459\n\n -- Joey Hess <joeyh@debian.org>  Thu, 24
  Apr 2014 18:09:58 -0400\n\npropellor (0.5.0) unstable; urgency=medium\n\n  * Removed
  root domain records from SOA. Instead, use RootDomain\n    when calling Dns.primary.
  (API change)\n  * Dns primary and secondary properties are now revertable.\n  *
  When unattendedUpgrades is enabled on an Unstable or Testing system,\n    configure
  it to allow the upgrades.\n  * New website, https://propellor.branchable.com/\n\n
  -- Joey Hess <joeyh@debian.org>  Sat, 19 Apr 2014 17:38:02 -0400\n\npropellor (0.4.0)
  unstable; urgency=medium\n\n  * Propellor can configure primary DNS servers, including
  generating\n    zone files, which is done by looking at the properties of hosts\n
  \   in a domain.\n  * The `cname` property was renamed to `alias` as it does not
  always\n    generate CNAME in the DNS. (API change)\n  * Constructor of Property
  has changed (use `property` function instead).\n    (API change)\n  * All Property
  combinators now combine together their Attr settings.\n    So Attr settings can
  be made inside a propertyList, for example.\n  * Run all cron jobs under chronic
  from moreutils to avoid unnecessary\n    mails.\n\n -- Joey Hess <joeyh@debian.org>
  \ Sat, 19 Apr 2014 02:09:56 -0400\n\npropellor (0.3.1) unstable; urgency=medium\n\n
  \ * Merge scheduler bug fix from git-annex.\n  * Support for provisioning hosts
  with ssh and gpg keys.\n  * Obnam support.\n  * Apache support.\n  * Postfix satellite
  system support.\n  * Properties can now be satisfied differently on different operating\n
  \   systems.\n  * Standard apt configuration for stable now includes backports.\n
  \ * Cron jobs generated by propellor use flock(1) to avoid multiple\n    instances
  running at a time.\n  * Add support for SSH ed25519 keys.\n    (Thanks, Franz Pletz.)\n\n
  -- Joey Hess <joeyh@debian.org>  Thu, 17 Apr 2014 20:07:33 -0400\n\npropellor (0.3.0)
  unstable; urgency=medium\n\n  * ipv6to4: Ensure interface is brought up automatically
  on boot.\n  * Enabling unattended upgrades now ensures that cron is installed and\n
  \   running to perform them.\n  * Properties can be scheduled to only be checked
  after a given time period.\n  * Fix bootstrapping of dependencies.\n  * Fix compilation
  on Debian stable.\n  * Include security updates in sources.list for stable and testing.\n
  \ * Use ssh connection caching, especially when bootstrapping.\n  * Properties now
  run in a Propellor monad, which provides access to\n    attributes of the host.
  (API change)\n\n -- Joey Hess <joeyh@debian.org>  Fri, 11 Apr 2014 01:19:05 -0400\n\npropellor
  (0.2.3) unstable; urgency=medium\n\n  * docker: Fix laziness bug that caused running
  containers to be\n    unnecessarily stopped and committed.\n  * Add locking so only
  one propellor can run at a time on a host.\n  * docker: When running as effective
  init inside container, wait on zombies.\n  * docker: Added support for configuring
  shared volumes and linked\n    containers.\n\n -- Joey Hess <joeyh@debian.org>  Tue,
  08 Apr 2014 02:07:37 -0400\n\npropellor (0.2.2) unstable; urgency=medium\n\n  *
  Now supports provisioning docker containers with architecture/libraries\n    that
  do not match the host.\n  * Fixed a bug that caused file modes to be set to 600
  when propellor\n    modified the file (did not affect newly created files).\n\n
  -- Joey Hess <joeyh@debian.org>  Fri, 04 Apr 2014 01:07:32 -0400\n\npropellor (0.2.1)
  unstable; urgency=medium\n\n  * First release with Debian package.\n\n -- Joey Hess
  <joeyh@debian.org>  Thu, 03 Apr 2014 01:43:14 -0400\n\npropellor (0.2.0) unstable;
  urgency=low\n\n  * Added support for provisioning Docker containers.\n  * Bootstrap
  deployment now pushes the git repo to the remote host\n    over ssh, securely.\n
  \ * propellor --add-key configures a gpg key, and makes propellor refuse\n    to
  pull commits from git repositories not signed with that key.\n    This allows propellor
  to be securely used with public, non-encrypted\n    git repositories without the
  possibility of MITM.\n  * Added support for type-safe reversions. Only some properties
  can be\n    reverted; the type checker will tell you if you try something that won't\n
  \   work.\n  * New syntactic sugar for building a list of properties, including\n
  \   revertable properties.\n\n -- Joey Hess <joeyh@debian.org>  Wed, 02 Apr 2014
  13:57:42 -0400\n"
basic-deps:
  exceptions: (>=0.6)
  bytestring: -any
  unix: -any
  split: -any
  stm: -any
  base: ! '>=4.9 && <5'
  time: -any
  propellor: -any
  text: -any
  unix-compat: -any
  filepath: -any
  process: -any
  network: -any
  async: -any
  containers: (>=0.5)
  ansi-terminal: -any
  hslogger: -any
  mtl: -any
  hashable: -any
  IfElse: -any
  transformers: -any
  type-errors: -any
  directory: -any
all-versions:
- '0.1'
- 0.1.1
- 0.1.2
- 0.2.0
- 0.2.1
- 0.2.2
- 0.2.3
- 0.3.0
- 0.3.1
- 0.4.0
- 0.5.0
- 0.5.1
- 0.5.3
- 0.6.0
- 0.7.0
- 0.8.0
- 0.8.1
- 0.8.2
- 0.8.3
- 0.9.0
- 0.9.1
- 0.9.2
- 1.0.0
- 1.2.0
- 1.2.1
- 1.3.2
- 2.1.0
- 2.2.0
- 2.2.1
- 2.3.0
- 2.4.0
- 2.5.0
- 2.6.0
- 2.7.0
- 2.7.1
- 2.7.2
- 2.7.3
- 2.8.0
- 2.8.1
- 2.9.0
- 2.10.0
- 2.11.0
- 2.12.0
- 2.13.0
- 2.14.0
- 2.15.0
- 2.15.1
- 2.15.2
- 2.15.3
- 2.15.4
- 2.16.0
- 2.17.0
- 2.17.1
- 2.17.2
- 3.0.0
- 3.0.1
- 3.0.2
- 3.0.3
- 3.0.4
- 3.0.5
- 3.1.0
- 3.1.1
- 3.1.2
- 3.2.0
- 3.2.1
- 3.2.2
- 3.2.3
- 3.3.0
- 3.3.1
- 3.4.0
- 3.4.1
- 4.0.0
- 4.0.1
- 4.0.2
- 4.0.3
- 4.0.4
- 4.0.6
- 4.1.0
- 4.2.0
- 4.3.0
- 4.3.1
- 4.3.2
- 4.3.3
- 4.3.4
- 4.4.0
- 4.5.0
- 4.5.1
- 4.5.2
- 4.6.0
- 4.6.1
- 4.6.2
- 4.7.0
- 4.7.1
- 4.7.2
- 4.7.3
- 4.7.4
- 4.7.5
- 4.7.6
- 4.7.7
- 4.8.0
- 4.8.1
- 4.9.0
- 5.0.0
- 5.1.0
- 5.2.0
- 5.3.0
- 5.3.1
- 5.3.2
- 5.3.3
- 5.3.4
- 5.3.5
- 5.3.6
- 5.4.0
- 5.4.1
- 5.5.0
- 5.6.0
- 5.6.1
- 5.7.0
- 5.8.0
- 5.9.0
author: Joey Hess
latest: 5.9.0
description-type: markdown
description: "[Propellor](https://propellor.branchable.com/) is a\nconfiguration management
  system using Haskell and Git.\nEach system has a list of properties, which Propellor
  ensures\nare satisfied.\n[Linux](http://propellor.branchable.com/Linux/) and\n[FreeBSD](http://propellor.branchable.com/FreeBSD/)
  are supported.\n\nPropellor is configured via a git repository, which typically
  lives\nin `~/.propellor/` on your development machine. Propellor clones the\nrepository
  to each host it manages, in a \n[secure](http://propellor.branchable.com/security/)
  way. See \n[components](http://propellor.branchable.com/components/)\nfor details.\n\nProperties
  are defined using Haskell in the file `~/.propellor/config.hs`.\nThere is fairly
  complete \n[API documentation](http://hackage.haskell.org/package/propellor/),\nwhich
  includes many built-in Properties for dealing with\n[Apt](http://hackage.haskell.org/package/propellor/docs/Propellor-Property-Apt.html)\nand\n[Apache](http://hackage.haskell.org/package/propellor/docs/Propellor-Property-Apache.html),\n[Cron](http://hackage.haskell.org/package/propellor/docs/Propellor-Property-Cron.html)\nand\n[Commands](http://hackage.haskell.org/package/propellor/docs/Propellor-Property-Cmd.html),\n[Dns](http://hackage.haskell.org/package/propellor/docs/Propellor-Property-Dns.html)\nand\n[Docker](http://hackage.haskell.org/package/propellor/docs/Propellor-Property-Docker.html),
  etc.\n\nThere is no special language as used in puppet, chef, ansible, etc.. just\nthe
  full power of Haskell. Hopefully that power can be put to good use in\nmaking declarative
  properties that are powerful, nicely idempotent, and\neasy to adapt to a system's
  special needs!\n\nIf using Haskell to configure Propellor seems intimidating,\nsee
  [configuration for the Haskell newbie](https://propellor.branchable.com/haskell_newbie/).\n\n##
  quick start\n\n1. Get propellor installed on your development machine (ie, laptop).\n
  \    `apt-get install propellor`\n          or\n     `cabal install propellor`\n
  \         or\n     `cabal unpack propellor; cd propellor-version; stack install`\n2.
  Run `propellor --init` ; this will set up a `~/.propellor/` git\n   repository for
  you.\n3. Edit `~/.propellor/config.hs`, and add a host you want to manage.\n   You
  can start by not adding any properties, or only a few.\n4. Run: `propellor --spin
  $HOST`\n5. Now you have a simple propellor deployment to a host. Continue editing\n
  \  `~/.propellor/config.hs` to further configure the host, add more hosts\n   etc,
  and re-run `propellor --spin $HOST` after each change.  \n6. Once you have a lot
  of hosts, and running `propellor --spin HOST` for\n   each host becomes tiresome,
  you can\n   [automate that](http://propellor.branchable.com/automated_spins/).\n7.
  Write some neat new properties and send patches!\n\n(Want to get your feet wet with
  propellor before plunging in?\n[try this](http://propellor.branchable.com/forum/Simple_quickstart_without_git__44___SSH__44___GPG))\n"
license-name: BSD-2-Clause
