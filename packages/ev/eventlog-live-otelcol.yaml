all-versions:
- 0.1.0.0
- 0.1.0.2
- 0.1.0.3
- 0.1.0.4
- 0.2.0.0
- 0.3.0.0
- 0.4.0.0
- 0.5.0.0
author: Wen Kokke
basic-deps:
  aeson: '>=2.2 && <2.3'
  ansi-terminal: '>=1.1 && <1.2'
  base: '>=4.16 && <4.22'
  bytestring: '>=0.11 && <0.13'
  data-default: '>=0.2 && <0.9'
  dlist: '>=1.0 && <1.1'
  eventlog-live: '>=0.4 && <0.5'
  eventlog-live-otelcol: '>=0'
  eventlog-socket: '>=0.1.0 && <0.2'
  file-embed: '>=0.0.16 && <0.1'
  ghc-events: '>=0.20 && <0.21'
  grapesy: '>=1.0.0 && <1.2'
  hashable: '>=1.4 && <1.6'
  hs-opentelemetry-otlp: '>=0.1.0 && <0.2'
  lens-family: '>=2.1.3 && <2.2'
  machines: '>=0.7.4 && <0.8'
  optparse-applicative: '>=0.17 && <0.20'
  proto-lens: '>=0.7.1 && <0.8'
  random: '>=1.2 && <1.4'
  strict-list: '>=0.1 && <0.2'
  table-layout: '>=1.0 && <1.1'
  template-haskell: '>=2.2 && <3.0'
  text: '>=1.2 && <2.2'
  unordered-containers: '>=0.2.20 && <0.3'
  vector: '>=0.11 && <0.14'
  yaml: '>=0.11 && <0.12'
changelog: |
  ### 0.5.0.0

  - **BREAKING**: Put `ghc-debug-stub` support behind `use-ghc-debug-stub` feature flag.

  ### 0.4.0.0

  - Fix space leak in `processHeapProfSampleData`.
  - Support aggregation (via configuration files).
  - Support statistics with the `--stats` flag:

    ```
    ┌────────┬──────────┬──────────────┬───────────────┬───────────────────┐
    │  Item  │  Action  │ Total (item) │ Rate (item/s) │ Peak (item/batch) │
    ╞════════╪══════════╪══════════════╪═══════════════╪═══════════════════╡
    │ Event  │ Received │        66036 │        6603/s │           22197/s │
    ├────────┼──────────┼──────────────┼───────────────┼───────────────────┤
    │ Metric │ Exported │          274 │          45/s │              59/s │
    ├────────┼──────────┼──────────────┼───────────────┼───────────────────┤
    │        │ Rejected │            0 │           0/s │               0/s │
    ├────────┼──────────┼──────────────┼───────────────┼───────────────────┤
    │ Span   │ Exported │        19372 │        3228/s │            5979/s │
    ├────────┼──────────┼──────────────┼───────────────┼───────────────────┤
    │        │ Rejected │            0 │           0/s │               0/s │
    └────────┴──────────┴──────────────┴───────────────┴───────────────────┘
    ```

  ### 0.3.0.0

  - Support configuration files (via `--config`; see `--print-defaults`).
  - **BREAKING**: Remove `--otelcol-no-metrics` and `--otelcol-no-traces` flags.
    The behaviour of these flags is superceded by the configuration files.

  ### 0.2.0.0

  - **BREAKING**: Support info and debug verbosity. This changes the semantics of `--verbosity=3` and up.
  - Support reading the eventlog from stdin.
  - Support reading the eventlog from file.

  ### 0.1.0.3

  - Support `random-1.2`

  ### 0.1.0.2

  - Lower `cabal-version` constraint to `3.0`

  ### 0.1.0.0

  - Initial release.
changelog-type: markdown
description: |-
  This executable supports live streaming of eventlog data into
  the OpenTelemetry Collector.

  > Usage: eventlog-live-otelcol (--eventlog-stdin | --eventlog-file FILE |
  >                                --eventlog-socket SOCKET)
  >                              [--eventlog-socket-timeout NUM]
  >                              [--eventlog-socket-exponent NUM]
  >                              [--batch-interval NUM] [--eventlog-log-file FILE]
  >                              [-h Tcmdyrbi] [--service-name STRING]
  >                              [-v|--verbosity quiet|error|warning|info|debug|0-4]
  >                              [-s|--stats] [--config FILE] --otelcol-host HOST
  >                              [--otelcol-port PORT] [--otelcol-authority HOST]
  >                              [--otelcol-ssl] [--otelcol-certificate-store FILE]
  >                              [--otelcol-ssl-key-log FILE |
  >                                --otelcol-ssl-key-log-from-env]
  >                              [--enable-my-eventlog-socket-unix SOCKET]
  >                              [--enable-my-ghc-debug-socket |
  >                                --enable-my-ghc-debug-socket-unix SOCKET |
  >                                --enable-my-ghc-debug-socket-tcp ADDRESS]
  >                              [--print-defaults]
  >
  > Available options:
  >   --eventlog-stdin         Read the eventlog from stdin.
  >   --eventlog-file FILE     Read the eventlog from a file.
  >   --eventlog-socket SOCKET Read the eventlog from a Unix socket.
  >   --eventlog-socket-timeout NUM
  >                            Eventlog socket connection retry timeout in
  >                            microseconds.
  >   --eventlog-socket-exponent NUM
  >                            Eventlog socket connection retry timeout exponent.
  >   --batch-interval NUM     Batch interval in milliseconds.
  >   --eventlog-log-file FILE Use file to log binary eventlog data.
  >   -h Tcmdyrbi              Heap profile breakdown.
  >   --service-name STRING    The name of the profiled service.
  >   -v,--verbosity quiet|error|warning|info|debug|0-4
  >                            The verbosity threshold for logging.
  >   -s,--stats               Display runtime statistics.
  >   --config FILE            The path to a detailed configuration file.
  >   --print-defaults         Print default configuration options that can be used
  >                            in config.yaml
  >   --help                   Show this help text.
  >   --version                Show version information
  >
  > OpenTelemetry Collector Server Options
  >   --otelcol-host HOST      Server hostname.
  >   --otelcol-port PORT      Server TCP port.
  >   --otelcol-authority HOST Server authority.
  >   --otelcol-ssl            Use SSL.
  >   --otelcol-certificate-store FILE
  >                            Store for certificate validation.
  >   --otelcol-ssl-key-log FILE
  >                            Use file to log SSL keys.
  >   --otelcol-ssl-key-log-from-env
  >                            Use SSLKEYLOGFILE to log SSL keys.
  >
  > Debug Options
  >   --enable-my-eventlog-socket-unix SOCKET
  >                            Enable the eventlog socket for this program on the
  >                            given Unix socket.
  >   --enable-my-ghc-debug-socket
  >                            Enable ghc-debug for this program.
  >   --enable-my-ghc-debug-socket-unix SOCKET
  >                            Enable ghc-debug for this program on the given Unix
  >                            socket.
  >   --enable-my-ghc-debug-socket-tcp ADDRESS
  >                            Enable ghc-debug for this program on the given TCP
  >                            socket specified as 'host:port'.
description-type: haddock
hash: 52326fd5b698f0b3f749bb1f5594580ac45df6498756d14835fa6a5e92532999
homepage: ''
latest: 0.5.0.0
license-name: BSD-3-Clause
maintainer: wen@well-typed.com
synopsis: Stream eventlog data to the OpenTelemetry Collector.
test-bench-deps: {}
