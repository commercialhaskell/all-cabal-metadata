homepage: https://github.com/phadej/microstache
changelog-type: markdown
hash: 5f3ee173e2ba313150e7ae4d0eeb5315da5324d6378f317aa8d148412cf621b7
test-bench-deps:
  bytestring: -any
  microstache: -any
  base: -any
  hspec: ! '>=2.0 && <3.0'
  text: -any
  parsec: -any
  containers: -any
  aeson: -any
maintainer: Oleg Grenrus<oleg.grenrus@iki.fi>
synopsis: Mustache templates for Haskell
changelog: |
  ## microstache 1.0.1.1

  - Fix build against `transformers-0.3`

  ## microstache 1.0.1

  - Add `renderMustacheW`

  ## microstache 1

  Initial release, corresponding to `stache-0.2.2`.
basic-deps:
  bytestring: ! '>=0.9.2.1 && <0.11'
  base: ! '>=4.5 && <4.14'
  unordered-containers: ! '>=0.2.5 && <0.3'
  text: ! '>=1.2 && <1.3'
  filepath: ! '>=1.3.0.0 && <1.5'
  parsec: ! '>=3.1.11 && <6.0'
  containers: ! '>=0.4.2.1 && <0.7'
  transformers: ! '>=0.3.0.0 && <0.6'
  deepseq: ! '>=1.3.0.0 && <1.5'
  aeson: ! '>=0.11 && <1.5'
  vector: ! '>=0.11 && <0.13'
  directory: ! '>=1.1.0.2 && <1.4'
all-versions:
- '1'
- 1.0.1
- 1.0.1.1
author: Mark Karpov <markkarpov@openmailbox.org>, Oleg Grenrus <oleg.grenrus@iki.fi>
latest: 1.0.1.1
description-type: markdown
description: |
  # microstache

  Based on [`stache`](http://hackage.haskell.org/package/stache) library, which uses `megaparsec`.
  This library uses `parsec`, thus the name: `microstache`.

  This is a Haskell implementation of Mustache templates. The implementation
  conforms to the version 1.1.3 of official [Mustache specification]
  (https://github.com/mustache/spec). It is extremely simple and
  straightforward to use with minimal but complete API — three functions to
  compile templates (from directory, from file, and from lazy text) and one to
  render them.

  For rendering you only need to create Aeson's `Value` where you put the data
  to interpolate. Since the library re-uses Aeson's instances and most data
  types in Haskell ecosystem are instances of classes like
  `Data.Aeson.ToJSON`, the whole process is very simple for end user.

  One feature that is not currently supported is lambdas. The feature is
  marked as optional in the spec and can be emulated via processing of parsed
  template representation. The decision to drop lambdas is intentional, for
  the sake of simplicity and better integration with Aeson.

  ## Differences from `stache`

  - Instead of `megaparsec`, `parsec` is used. Error message quality is most likely degraded.
  - There are no TemplateHaskell used; yet there are no helpers provided.
  - Support for GHC-7.4.2 &ndash; GHC-8.2.1

  ## Quick start

  Here is an example of basic usage:

  ```haskell
  {-# LANGUAGE OverloadedStrings #-}

  module Main (main) where

  import Data.Aeson
  import Data.Text
  import Text.Microstache
  import qualified Data.Text.Lazy.IO as TIO

  main :: IO ()
  main = do
    let res = compileMustacheText "foo"
          "Hi, {{name}}! You have:\n{{#things}}\n  * {{.}}\n{{/things}}\n"
    case res of
      Left err -> putStrLn (show err)
      Right template -> TIO.putStr $ renderMustache template $ object
        [ "name"   .= ("John" :: Text)
        , "things" .= ["pen" :: Text, "candle", "egg"]
        ]
  ```

  If I run the program, it prints the following:

  ```
  Hi, John! You have:
    * pen
    * candle
    * egg
  ```

  For more information about Mustache templates the following links may be
  helpful:

  * The official Mustache site: https://mustache.github.io/
  * The manual: https://mustache.github.io/mustache.5.html
  * The specification: https://github.com/mustache/spec
  * Stack Builders Stache tutorial: https://www.stackbuilders.com/tutorials/haskell/mustache-templates/

  ## License

  Copyright © 2016–2017 Stack Builders, 2017 Oleg Grenrus

  Distributed under BSD 3 clause license.
license-name: BSD-3-Clause
