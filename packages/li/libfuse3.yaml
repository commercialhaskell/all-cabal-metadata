homepage: ''
changelog-type: markdown
hash: 1c1e6f1e5b8a53c5f4cf2d4a025f4a4c89d9297f9e35985ce929a156138a8847
test-bench-deps: {}
maintainer: yohashi <yohashi1991@gmail.com>
synopsis: A Haskell binding for libfuse-3.x
changelog: |
  # Revision history for libfuse3

  ## 0.1.0.0 -- 2020-08-27

  * First version. Released on an unsuspecting world.
basic-deps:
  bytestring: '>=0.10.8 && <0.11'
  unix: ==2.7.*
  base: '>=4.11 && <4.15'
  time: '>=1.6 && <1.10'
  clock: ==0.8.*
  resourcet: ==1.2.*
all-versions:
- 0.1.0.0
author: yohashi
latest: 0.1.0.0
description-type: markdown
description: |
  # libfuse3: A Haskell binding to libfuse-3.x

  ![GitHub Actions](https://github.com/matil019/haskell-libfuse3/workflows/Haskell%20CI/badge.svg?branch=master)

  ## Important notes

  - Executables using `libfuse3` should be compiled with the threaded runtime (`-threaded`).
  - Developed and tested on Linux only. Not tested on other UNIXes such as BSD and MacOS because I don't own them / machines to run them on.

  ## Building from HEAD

  This packages uses the `./configure` script, but it is not checked into the git repository. To build the source checked out from git, you must generate it from `configure.ac` before invoking any of the `cabal` commands:

  ```
  autoreconf -fiv
  # cabal v2-build, etc.
  ```

  You may have to install `autotools` or something like that with your system package manager.

  ## Examples

  There are two examples, `null` and `passthrough` in the `example` directory. These are the ports of the examples in the official libfuse. They should be good start points for writing your filesystems.

  Enable the cabal flag to build them:

  ```
  cabal v2-configure --flags=examples
  ```

  ## Known issues and limitations

  - Can't stop the process and unmount with signals. You have to use `fusermount -u` to unmount.
  - Not all Haskell-friendly bindings to the FUSE operations are implemented yet, including but not limited to:
    - `struct fuse_conn_info`. The availability of filesystem capabilities such as `FUSE_CAP_HANDLE_KILLPRIV` can't be checked.
    - Setting the fields of `struct fuse_file_info` from the certain fuse operations.
  - Look for the `TODO` comments in the source tree for more specific topics.

  If you are able to implement any of these, that would be very appreciated! Please open a PR to contribute.

  ## Related works

  - [libfuse][libfuse]: The reference implementation, to which this package binds
  - [HFuse][HFuse]: The bindings to libfuse-2.x
    - `libfuse3` is based on `HFuse` (with massive rewrites).
    - `libfuse3` has more complete API and exposes internal (and unstable) API to allow workarounds.
  - [fuse-rs][fuse-rs]: The Rust implementation of FUSE. Unlike this package, `fuse-rs` implements the FUSE protocol itself (i.e. replaces `libfuse`). See [its README](https://github.com/zargony/fuse-rs) for overview.

  [libfuse]: https://github.com/libfuse/libfuse
  [HFuse]: https://github.com/m15k/hfuse
  [fuse-rs]: https://github.com/zargony/fuse-rs
license-name: MIT
