all-versions:
- 2.2.0
- 2.2.1
- 2.2.2
- 2.2.3
- 2.2.4
- 2.2.5
- 2.2.6
- 2.3.0
- 2.4.0
- 2.5.0
- 2.6.0
- 2.7.0
- 2.8.0
- 2.9.0
- 2.9.1
- 2.10.0
- 2.11.0
- 2.12.0
- 2.13.0
- 3.0.0
- 3.1.0
- 3.2.0
- 3.3.0
- 3.4.0
- 3.5.0
author: Galois, Inc.
basic-deps:
  GraphSCC: '>=1.0.4'
  MemoTrie: '>=0.6 && <0.7'
  aeson: '>=2.0 && <2.3'
  ansi-terminal: '>=0'
  arithmoi: '>=0.12'
  array: '>=0.4'
  async: '>=2.2 && <2.3'
  base: '>=4.9 && <5'
  base-compat: '>=0.6 && <0.13'
  blaze-html: '>=0'
  bv-sized: '>=1.0 && <1.1'
  bytestring: '>=0.10'
  containers: '>=0.5'
  criterion-measurement: '>=0'
  cryptohash-sha256: '>=0.11 && <0.12'
  cryptol: '>=0'
  deepseq: '>=1.3'
  directory: '>=1.2.2.0'
  exceptions: '>=0'
  extra: '>=0'
  file-embed: '>=0.0.16'
  filepath: '>=1.3'
  ghc-prim: '>=0'
  gitrev: '>=1.0'
  heredoc: '>=0.2'
  hgmp: '>=0'
  integer-gmp: '>=1.0 && <1.1'
  language-c99: '>=0'
  language-c99-simple: '>=0'
  libBF: '>=0.6 && <0.7'
  libffi: '>=0.2'
  monad-control: '>=1.0'
  monadLib: '>=3.7.2'
  mtl: '>=2.2.1'
  optparse-applicative: '>=0'
  panic: '>=0.3'
  parameterized-utils: '>=2.0.2'
  pretty: '>=0'
  pretty-show: '>=0'
  prettyprinter: '>=1.7.0'
  primitive: '>=0'
  process: '>=1.2'
  rme-what4: ^>=0.1
  sbv: '>=9.1 && <10.11'
  simple-smt: '>=0.9.8'
  stm: '>=2.4'
  strict: '>=0'
  temporary: '>=0'
  text: '>=1.1'
  tf-random: '>=0.5'
  time: '>=1.6.0.1'
  toml-parser: '>=2.0 && <2.1'
  transformers-base: '>=0.4'
  unix: '>=0'
  vector: '>=0'
  what4: '>=1.6 && <1.8'
changelog: "# 3.5.0 -- 2026-01-27\n\n## Administrative changes\n\n* The binary builds
  are now built with GHC 9.6 rather than 9.4.\n\n## Language changes\n\n* User-defined
  `newtype` and `enum` types can now derive instances for standard\n  constraints
  like `Eq` and `Cmp`. This means you can use standard operations\n  like `==` with
  your custom types. See the [manual\n  section](https://galoisinc.github.io/cryptol/master/OverloadedOperations.html#derived-instances)\n
  \ for more information.\n\n* The built-in types `Option` and `Result` now have derived
  instances for `Eq`,\n  `Cmp`, and `SignedCmp`.\n\n* We can now infer that `a = Bit`,
  from the constraint `Integral [n][a]`.\n\n## Bug fixes\n\n* Fix incorrect defaulting
  during type inference.\n  ([#1957](https://github.com/GaloisInc/cryptol/issues/1957))\n\n*
  Make comparison operators lazy so that they do not evaluate any more of the\n  data
  structure than is required to determine the comparison result, matching\n  the behavior
  of the reference evaluator.\n  ([#1925](https://github.com/GaloisInc/cryptol/issues/1925))\n\n*
  Modify project loading to update the cache after each module is validated,\n  and
  make saving the cache atomic on file systems where renaming a file to\n  an existing
  file is atomic.  This is useful because we get partial results\n  if the validation
  process is interrupted.\n  \n* Change the default behavior of `-p`/`--project`.
  \ The new behavior is that\n  it will check all files that have changed, and also
  files that have not\n  been previously verified.  The old behavior would only validate
  files that\n  have changed since last time.\n\n* Add a new flag, `--modified-project`
  which gives us the old `-p` behavior\n  (i.e., check only files that have changed).\n\n*
  Replace the `--untested-project` flag with the `--unsuccessful-project` flag.\n
  \ This will run validation on all files that have not been successfully validated,\n
  \ including ones that perviously failed, and have not changed.\n\n* Allow user to
  specify how many satisfying results `satProve` (from `IR/Prove.hs`) produces\n\n#
  3.4.0 -- 2025-11-07\n\n## Language changes\n\n* When running validation commands
  (`:check`, `:prove`, `:exhaust`, etc.)\n  without an explicit argument, we now run
  only the properties in the\n  currently *focused module*.  This is a change in behavior,
  because previously\n  we used to run all properties in the currently opened *file*.
  \ This change\n  is only noticeable when working with nested modules.  The new behavior
  works\n  better when these commands are used from docstrings (e.g., with the\n  new
  behavior, writing `:check` on a submodule, will only check the properties\n  in
  that submodule, as expected).  \n\n* When running the `:check-docstrings` command,
  `Bit` properties (e.g. `property\n  p = True`) will be checked with `:exhaust`,
  unless their docstrings contain\n  code blocks understood by `:check-docstrings`.\n
  \ ([#1842](https://github.com/GaloisInc/cryptol/issues/1842))\n\n* `foreign` function
  declarations now support an optional calling convention\n  keyword. See the [manual\n
  \ section](https://galoisinc.github.io/cryptol/master/FFI.html#calling-conventions)\n
  \ for more information.\n\n* Add an `abstract` calling convention, where Cryptol
  values are marshalled\n  using an abstract interface. See the [manual\n  section](https://galoisinc.github.io/cryptol/master/FFI.html#the-abstract-calling-convention)\n
  \ for more information.\n\n* Allow an explicit `;` separator between `case` branches.
  This change removes the\n  unreachable code in the grammar for `case` and `where`
  expressions with explicit\n  `{` and `}` that was never reachable due to the way
  the layout rule worked.\n\n* Add `w4-rme` prover. This prover works on goals using
  booleans and bit vectors.\n  It's particularly suited to problems using Galois field
  arithmetic. It does not\n  call out to an external solver. Use `:set prover = w4-rme`
  to enable it.\n\n## Bug fixes\n\n* Fix a discrepancy between the behavior of `:check-docstrings`
  when run\n  on the REPL vs. when run with a project.\n  ([#1903](https://github.com/GaloisInc/cryptol/issues/1903))\n\n*
  Fix #1696, which corrected an incorrect simplification rule, leading to\n  panics.\n
  \ \n* Allow changing the `tcSolver` setting to non-Z3 solvers (e.g., CVC5) without\n
  \ crashing. ([#1874](https://github.com/GaloisInc/cryptol/issues/1874))\n\n* Fix
  browsing of `main` modules.\n  crashing. ([#1874](https://github.com/GaloisInc/cryptol/issues/1857))\n\n##
  New Features\n\n* New REPL command `:saw` to run SAW on a SAW file, usable in docstrings.\n
  \ [#1835](https://github.com/GaloisInc/cryptol/issues/1835)\n\n# 3.3.0 -- 2025-03-21\n\n##
  Language changes\n\n## Bug fixes\n\n* Fix a bug where setting at timeout would cause\n
  \ sbv-yices, sbv-cvc4 and sbc-cvc5 to crash.\n  Uses a deadman timer workaround
  for yices, due\n  to a [known issue](https://github.com/LeventErkok/sbv/issues/735).\n
  \ ([#1808](https://github.com/GaloisInc/cryptol/issues/1808))\n\n* Update Yices
  build in CI to fix a crash when running\n  test `issue_1807.icry` on Mac OS X (ARM64).\n
  \ ([what4-solvers #58](https://github.com/GaloisInc/what4-solvers/issues/58))\n\n*
  Fix a bug where using a timeout with a subset of the what4 solvers\n  would cause
  a runtime error. Includes a version bump for what4 to address\n  a nondeterministic
  crash when using timeouts with cvc4/5.\n  ([what4 PR #288](https://github.com/GaloisInc/what4/pull/288))\n
  \ ([#1807](https://github.com/GaloisInc/cryptol/issues/1807))\n\n* Fix #1437, enforce
  the VSeq invariant that it is not a sequence of bits.\n  Replaces the VSeq constructor
  with a view-only pattern, and smart constructors\n  `mkSeq` and `finSeq`.\n  ([#1437](https://github.com/GaloisInc/cryptol/issues/1437))\n\n*
  Fix #1740, removes duplicated width from word values.\n  Note that since this changes
  the types, it may require changes to libraries\n  depending on Cryptol.\n\n* Fix
  a bug in which splitting a `[0]` value into type `[inf][0]` would panic.\n  ([#1749](https://github.com/GaloisInc/cryptol/issues/1749))\n\n*
  Fix a bug in which the free variables of types mentioning newtypes or enums\n  were
  incorrectly computed.\n  ([#1773](https://github.com/GaloisInc/cryptol/issues/1773))\n\n*
  The reference evaluator now evaluates the `toSignedInteger` and `deepseq`\n  primitives
  instead of panicking.\n\n* Fix a bug in which `a ^^ (x ^^ y)` could be incorrectly
  simplified to\n  `a ^^ (x * y)` at the type level.\n  ([#1799](https://github.com/GaloisInc/cryptol/issues/1799))\n\n##
  New features\n\n* Improved error messages during type inference for bindings.\n
  \ Adds a specific error message for when a binding has\n  more arguments than expected,
  given its type signature.\n  ([#1744](https://github.com/GaloisInc/cryptol/issues/1744))\n\n*
  Improved warning messages for non-exhaustive guards.\n  Warnings are now ordered
  by source location.\n  ([#1798](https://github.com/GaloisInc/cryptol/issues/1798))\n\n*
  More aggressive exhaustivity check that is less dependent on\n  guard ordering.\n
  \ ([#1796](https://github.com/GaloisInc/cryptol/issues/1796))\n\n* Improved error
  messages mentioning module parameters\n  ([#1560](https://github.com/GaloisInc/cryptol/issues/1560))\n\n*
  Improved the naming convention for anonymous modules generated by the\n  module
  system ([#1810](https://github.com/GaloisInc/cryptol/issues/1810))\n\n* REPL command
  `:dumptests <FILE> <EXPR>` updated to write to stdout when\n  invoked as `:dumptests
  - <EXPR>` allowing for easier experimentation and\n  testing.\n\n* The REPL properly
  supports tab completion for the `:t` and `:check` commands.\n  ([#1780](https://github.com/GaloisInc/cryptol/issues/1780))\n\n*
  Add support for incrementally loading projects via cryptol's `--project`\n  flag
  as documented in the reference manual.\n  ([#1641](https://github.com/GaloisInc/cryptol/issues/1641))\n\n*
  Add support for the Bitwuzla SMT solver, which can be selected with\n  `:set prover=bitwuzla`.
  If you want to specify a What4 or SBV backend, you can\n  use `:set prover=w4-bitwuzla`
  or `:set prover=sbv-bitwuzla`, respectively.\n  ([#1786](https://github.com/GaloisInc/cryptol/issues/1786))\n\n*
  Add a REPL option `tcSmtFile` that allows writing typechecker-related SMT\n  solver
  interactions to a file.\n\n* The typechecker can now simplify types of the form
  `width (2^^n)` to `n + 1`.\n  ([#1802](https://github.com/GaloisInc/cryptol/issues/1802))\n\n#
  3.2.0 -- 2024-08-20\n\n## Language changes\n\n* Add implicit imports for non-anonymous
  modules defined by functor\n  instantiation.   For details, see #1691.\n\n## Bug
  fixes\n\n* Fix #1685, which caused Cryptol to panic when given a local definition
  without\n  a type signature that uses numeric constraint guards.\n\n* Fix #1593
  and #1693, two related bugs that would cause Cryptol to panic when\n  checking ill-typed
  constraint guards for exhaustivity.\n\n* Fix #1675, which could cause `PrimeEC`
  to produce incorrect results.\n\n* Fix #1489, which allows for the type checker
  to reason about exponents.\n\n## New features\n\n* New REPL command :focus enables
  specifying a submodule scope for evaluating\n  expressions.\n\n  ```repl\n  :focus
  submodule M\n  :browse\n  ```\n\n* New REPL command :check-docstrings extracts code-blocks
  from docstring\n  comments from a module. Code blocks can be delimited with three-or-more\n
  \ backticks using the language \"repl\". Code blocks are evaluated in a local\n
  \ REPL context and checked to pass.\n\n  ````cryptol\n  /**\n   * ```repl\n   *
  :exhaust f\n   * ```\n   */\n  f : [8] -> Bool\n  f x = x + 1 - 1 == x\n  ````\n\n#
  3.1.0 -- 2024-02-05\n\n## Language changes\n\n* Cryptol now supports *enum* declarations.
  An enum is a named typed which is\n  defined by one or more constructors. Enums
  correspond to the notion of\n  algebraic data types, which are commonly found in
  other programming\n  languages.  See the [manual\n  section](https://galoisinc.github.io/cryptol/master/TypeDeclarations.html#enums)\n
  \ for more information.\n\n* Add two enum declarations to the Cryptol standard library:\n\n
  \ ```\n  enum Option a = None | Some a\n\n  enum Result t e = Ok t | Err e\n  ```\n\n
  \ These types are useful for representing optional values (`Option`) or values\n
  \ that may fail in some way (`Result`).\n\n* `foreign` functions can now have an
  optional Cryptol implementation, which by\n  default is used when the foreign implementation
  cannot be found, or if the FFI\n  is unavailable. The `:set evalForeign` REPL option
  controls this behavior.\n\n## Bug fixes\n\n* Fixed #1455, making anything in scope
  of the functor in scope at the REPL as\n  well when an instantiation of the functor
  is loaded and focused, design\n  choice (3) on the ticket.  In particular, the prelude
  will be in scope.\n\n* Fix #1578, which caused `parmap` to crash when evaluated
  on certain types of\n  sequences.\n\n* Closed issues #813, #1237, #1397, #1446,
  #1486, #1492, #1495, #1537,\n  #1538, #1542, #1544, #1548, #1551, #1552, #1554,
  #1556, #1561, #1562, #1566,\n  #1567, #1569, #1571, #1584, #1588, #1590, #1598,
  #1599, #1604, #1605, #1606,\n  #1607, #1609, #1610, #1611, #1612, #1613, #1615,
  #1616, #1617, #1618, and\n  #1619.\n\n* Merged pull requests #1429, #1512, #1534,
  #1535, #1536, #1540, #1541, #1543,\n  #1547, #1549, #1550, #1555, #1557, #1558,
  #1559, #1564, #1565, #1568, #1570,\n  #1572, #1573, #1577, #1579, #1580, #1583,
  #1585, #1586, #1592, #1600, #1601,\n  and #1602.\n\n# 3.0.0 -- 2023-06-26\n\n##
  Language changes\n\n* Cryptol now includes a redesigned module system that is significantly
  more\n  expressive than in previous releases. The new module system includes the\n
  \ following features:\n\n  * Nested modules: Modules may now be defined within other
  modules.\n\n  * Named interfaces: An interface specifies the parameters to a module.\n
  \   Separating the interface from the parameter declarations makes it possible\n
  \   to have different parameters that use the same interface.\n\n  * Top-level module
  constraints: These are useful to specify constraints\n    between different module
  parameters (i.e., ones that come from different\n    interfaces or multiple copies
  of the same interface).\n\n  See the\n  [manual section](https://galoisinc.github.io/cryptol/master/Modules.html#instantiation-by-parametrizing-declarations)\n
  \ for more information.\n\n* Declarations may now use *numeric constraint guards*.
  \  This is a feature\n  that allows a function to behave differently depending on
  its numeric\n  type parameters.  See this [manual section](https://galoisinc.github.io/cryptol/master/BasicSyntax.html#numeric-constraint-guards)\n
  \ for more information.\n\n* The foreign function interface (FFI) has been added,
  which allows Cryptol to\n  call functions written in C. See this [manual section](https://galoisinc.github.io/cryptol/master/FFI.html)\n
  \ for more information.\n\n* The unary `-` operator now has the same precedence
  as binary `-`, meaning\n  expressions like `-x^^2` will now parse as `-(x^^2)` instead
  of `(-x)^^2`.\n  **This is a breaking change.** A warning has been added in cases
  where the\n  behavior has changed, and can be disabled with `:set warnPrefixAssoc=off`.\n\n*
  Infix operators are now allowed in import lists: `import M ((<+>))` will\n  import
  only the operator `<+>` from module `M`.\n\n* `lib/Array.cry` now contains an `arrayEq`
  primitive. Like the other\n  array-related primitives, this has no computational
  interpretation (and\n  therefore cannot be used in the Cryptol interpreter), but
  it is useful for\n  stating specifications that are used in SAW.\n\n## New features\n\n*
  Add a `:time` command to benchmark the evaluation time of expressions.\n\n* Add
  support for literate Cryptol using reStructuredText.  Cryptol code\n  is extracted
  from `.. code-block:: cryptol` and `.. sourcecode:: cryptol`\n  directives.\n\n*
  Add a syntax highlight file for Vim,\n  available in `syntax-highlight/cryptol.vim`\n\n*
  Add `:new-seed` and `:set-seed` commands to the REPL.\n  These affect random test
  generation,\n  and help write reproducible Cryptol scripts.\n\n* Add support for
  the CVC5 solver, which can be selected with\n  `:set prover=cvc5`. If you want to
  specify a What4 or SBV backend, you can\n  use `:set prover=w4-cvc5` or `:set prover=sbv-cvc5`,
  respectively. (Note that\n  `sbv-cvc5` is non-functional on Windows at this time
  due to a downstream issue\n  with CVC5 1.0.4 and earlier.)\n\n* Add `:file-deps`
  commands to the REPL and Python API.\n  It shows information about the source files
  and dependencies of\n  modules or Cryptol files.\n\n## Bug fixes\n\n* Fix a bug
  in the What4 backend that could cause applications of `(@)` with\n  symbolic `Integer`
  indices to become out of bounds (#1359).\n\n* Fix a bug that caused finite bitvector
  enumerations to panic when used in\n  combination with `(#)` (e.g., `[0..1] # 0`).\n\n*
  Cryptol's markdown parser is slightly more permissive and will now parse code\n
  \ blocks with whitespace in between the backticks and `cryptol`. This sort of\n
  \ whitespace is often inserted by markdown generation tools such as `pandoc`.\n\n*
  Improve documentation for `fromInteger` (#1465)\n\n* Closed issues #812, #977, #1090,
  #1140, #1147, #1253, #1322, #1324, #1329,\n  #1344, #1347, #1351, #1354, #1355,
  #1359, #1366, #1368, #1370, #1371, #1372,\n  #1373, #1378, #1383, #1385, #1386,
  #1391, #1394, #1395, #1396, #1398, #1399,\n  #1404, #1415, #1423, #1435, #1439,
  #1440, #1441, #1442, #1444, #1445, #1448,\n  #1449, #1450, #1451, #1452, #1456,
  #1457, #1458, #1462, #1465, #1466, #1470,\n  #1475, #1480, #1483, #1484, #1485,
  #1487, #1488, #1491, #1496, #1497, #1501,\n  #1503, #1510, #1511, #1513, and #1514.\n\n*
  Merged pull requests #1184, #1205, #1279, #1356, #1357, #1358, #1361, #1363,\n  #1365,
  #1367, #1376, #1379, #1380, #1384, #1387, #1388, #1393, #1401, #1402,\n  #1403,
  #1406, #1408, #1409, #1410, #1411, #1412, #1413, #1414, #1416, #1417,\n  #1418,
  #1419, #1420, #1422, #1424, #1429, #1430, #1431, #1432, #1436, #1438,\n  #1443,
  #1447, #1453, #1454, #1459, #1460, #1461, #1463, #1464, #1467, #1468,\n  #1472,
  #1473, #1474, #1476, #1477, #1478, #1481, #1493, #1499, #1502, #1504,\n  #1506,
  #1509, #1512, #1516, #1518, #1519, #1520, #1521, #1523, #1527, and\n  #1528.\n\n#
  2.13.0\n\n## Language changes\n\n* Update the implementation of the Prelude function
  `sortBy` to use\n  a merge sort instead of an insertion sort. This improves the
  both\n  asymptotic and observed performance on sorting tasks.\n\n## UI improvements\n\n*
  \"Type mismatch\" errors now show a context giving more information\n  about the
  location of the error.   The context is shown when the\n  part of the types match,
  but then some nested types do not.\n  For example, when matching `{ a : [8], b :
  [8] }` with\n  `{ a : [8], b : [16] }` the error will be `8` does not match `16`\n
  \ and the context will be `{ b : [ERROR] _ }` indicating that the\n  error is in
  the length of the sequence of field `b`.\n\n## Bug fixes\n\n* Fix an issue where
  `:t` did not take into account module level type\nparameters when pretty printing
  type signature (closes issue #1867).\n\n* The What4 backend now properly supports
  Boolector 3.2.2 or later.\n\n* Make error message locations more precise in some
  cases (issue #1299).\n\n* Make `:reload` behave as expected after loading a module
  with `:module`\n  (issue #1313).\n\n* Make `include` paths work as expected when
  nested within another `include`\n  (issue #1321).\n\n* Fix a panic that occurred
  when loading dependencies before `include`s are\n  resolved (issue #1330).\n\n*
  Closed issues #1098, #1280, and #1347.\n\n* Merged pull requests #1233, #1300, #1301,
  #1302, #1303, #1305, #1306, #1307,\n  #1308, #1311, #1312, #1317, #1319, #1323,
  #1326, #1331, #1333, #1336, #1337,\n  #1338, #1342, #1346, #1348, and #1349.\n\n#
  2.12.0\n\n## Language changes\n* Updates to the layout rule.  We simplified the
  specification and made\n  some minor changes, in particular:\n    - Paren blocks
  nested in a layout block need to respect the indentation\n      if the layout block\n
  \   - We allow nested layout blocks to have the same indentation, which is\n      convenient
  when writing `private` declarations as they don't need to\n      be indented as
  long as they are at the end of the file.\n\n* New enumeration forms `[x .. y by
  n]`, `[x .. <y by n]`,\n  `[x .. y down by n]` and `[x .. >y down by n]` have been\n
  \ implemented. These new forms let the user explicitly specify\n  the stride for
  an enumeration, as opposed to the previous\n  `[x, y .. z]` form (where the stride
  was computed from `x` and `y`).\n\n* Nested modules are now available (from pull
  request #1048). For example, the following is now valid Cryptol:\n\n        module
  SubmodTest where\n\n        import submodule B as C\n\n        submodule A where\n
  \         propA = C::y > 5\n\n        submodule B where\n          y : Integer\n
  \         y = 42\n\n## New features\n\n* What4 prover backends now feature an improved
  multi-SAT procedure\n  which is significantly faster than the old algorithm. Thanks
  to\n  Levent ErkoÌˆk for the suggestion.\n\n* There is a new `w4-abc` solver option,
  which communicates to ABC\n  as an external process via What4.\n\n* Expanded support
  for declaration forms in the REPL. You can now\n  define infix operators, type synonyms
  and mutually-recursive functions,\n  and state signatures and fixity declarations.
  Multiple declarations\n  can be combined into a single line by separating them with
  `;`,\n  which is necessary for stating a signature together with a\n  definition,
  etc.\n\n* There is a new `:set path` REPL option that provides an alternative to\n
  \ `CRYPTOLPATH` for controlling where to search for imported modules\n  (issue #631).\n\n*
  The `cryptol-remote-api` server now natively supports HTTPS (issue\n  #1008), `newtype`
  values (issue #1033), and safety checking (issue\n  #1166).\n\n* Releases optionally
  include solvers (issue #1111). See the\n  `*-with-solvers*` files in the assets
  list for this release.\n\n## Bug fixes\n\n* Closed issues #422, #436, #619, #631,
  #633, #640, #680, #734, #735,\n  #759, #760, #764, #849, #996, #1000, #1008, #1019,
  #1032, #1033,\n  #1034, #1043, #1047, #1060, #1064, #1083, #1084, #1087, #1102,
  #1111,\n  #1113, #1117, #1125, #1133, #1142, #1144, #1145, #1146, #1157, #1160,\n
  \ #1163, #1166, #1169, #1175, #1179, #1182, #1190, #1191, #1196, #1197,\n  #1204,
  #1209, #1210, #1213, #1216, #1223, #1226, #1238, #1239, #1240,\n  #1241, #1250,
  #1256, #1259, #1261, #1266, #1274, #1275, #1283, and\n  #1291.\n\n* Merged pull
  requests #1048, #1128, #1129, #1130, #1131, #1135, #1136,\n  #1137, #1139, #1148,
  #1149, #1150, #1152, #1154, #1156, #1158, #1159,\n  #1161, #1164, #1165, #1168,
  #1170, #1171, #1172, #1173, #1174, #1176,\n  #1181, #1183, #1186, #1188, #1192,
  #1193, #1194, #1195, #1199, #1200,\n  #1202, #1203, #1205, #1207, #1211, #1214,
  #1215, #1218, #1219, #1221,\n  #1224, #1225, #1227, #1228, #1230, #1231, #1232,
  #1234, #1242, #1243,\n  #1244, #1245, #1246, #1247, #1248, #1251, #1252, #1254,
  #1255, #1258,\n  #1263, #1265, #1268, #1269, #1270, #1271, #1272, #1273, #1276,
  #1281,\n  #1282, #1284, #1285, #1286, #1287, #1288, #1293, #1294, and #1295.\n\n#
  2.11.0\n\n## Language changes\n\n* The `newtype` construct, which has existed in
  the interpreter in an\n  incomplete and undocumented form for quite a while, is
  now fully\n  supported. The construct is documented in section 1.22 of [Programming\n
  \ Cryptol](https://cryptol.net/files/ProgrammingCryptol.pdf). Note,\n  however,
  that the `cryptol-remote-api` RPC server currently does not\n  include full support
  for referring to `newtype` names, though it can\n  work with implementations that
  use `newtype` internally.\n\n## New features\n\n* By default, the interpreter will
  now track source locations of\n  expressions being evaluated, and retain call stack
  information.\n  This information is incorporated into error messages arising from\n
  \ runtime errors. This additional bookkeeping incurs significant\n  runtime overhead,
  but may be disabled using the `--no-call-stacks`\n  command-line option.\n\n* The
  `:exhaust` command now works for floating-point types and the\n  `:check` command
  now uses more representative sampling of\n  floating-point input values to test.\n\n*
  The `cryptol-remote-api` RPC server now has methods corresponding to\n  the `:prove`
  and `:sat` commands in the REPL.\n\n* The `cryptol-eval-server` executable is a
  new, stateless server\n  providing a subset of the functionality of `cryptol-remote-api`\n
  \ dedicated entirely to invoking Cryptol functions on concrete inputs.\n\n## Internal
  changes\n\n* A single running instance of the SMT solver used for type checking\n
  \ (Z3) is now used to check a larger number of type correctness queries.\n  This
  means that fewer solver instances are invoked, and type checking\n  should generally
  be faster.\n\n* The Cryptol interpreter now builds against `libBF` version 0.6,
  which\n  fixes a few bugs in the evaluation of floating-point operations.\n\n##
  Bug fixes\n\n* Closed issues #118, #398, #426, #470, #491, #567, #594, #639, #656,\n
  \ #698, #743, #810, #858, #870, #905, #915, #917, #962, #973, #975,\n  #980, #984,
  #986, #990, #996, #997, #1002, #1006, #1009, #1012, #1024,\n  #1030, #1035, #1036,
  #1039, #1040, #1044, #1045, #1049, #1050, #1051,\n  #1052, #1063, #1092, #1093,
  #1094, and #1100.\n\n# 2.10.0\n\n## Language changes\n\n* Cryptol now supports primality
  checking at the type level. The\n  type-level predicate `prime` is true when its
  parameter passes the\n  Miller-Rabin probabilistic primality test implemented in
  the GMP\n  library.\n\n* The `Z p` type is now a `Field` when `p` is prime, allowing
  additional\n  operations on `Z p` values.\n\n* The literals `0` and `1` can now
  be used at type `Bit`, as\n  alternatives for `False` and `True`, respectively.\n\n##
  New features\n\n* The interpreter now includes a number of primitive functions that\n
  \ allow faster execution of a number of common cryptographic functions,\n  including
  the core operations of AES and SHA-2, operations on GF(2)\n  polynomials (the existing
  `pmod`, `pdiv`, and `pmult` functions), and\n  some operations on prime field elliptic
  curves. These functions are\n  useful for implementing higher-level algorithms,
  such as many\n  post-quantum schemes, with more acceptable performance than possible\n
  \ when running a top-to-bottom Cryptol implementation in the\n  interpreter.\n\n
  \ For a full list of the new primitives, see the new Cryptol\n  [`SuiteB`](https://github.com/GaloisInc/cryptol/blob/master/lib/SuiteB.cry)\n
  \ and\n  [`PrimeEC`](https://github.com/GaloisInc/cryptol/blob/master/lib/PrimeEC.cry)\n
  \ modules.\n\n* The REPL now allows lines containing only comments, making it easier\n
  \ to copy and paste examples.\n\n* The interpreter has generally improved performance
  overall.\n\n* Several error messages are more comprehensible and less verbose.\n\n*
  Cryptol releases and nightly builds now include an RPC server\n  alongside the REPL.
  This provides an alternative interface to the same\n  interpreter and proof engine
  available from the REPL, but is\n  better-suited to programmatic use. Details on
  the protocol used by the\n  server are available\n  [here](https://github.com/GaloisInc/argo/blob/master/docs/Protocol.rst).\n
  \ A Python client for this protocol is available\n  [here](https://github.com/GaloisInc/argo/tree/master/python).\n\n*
  Windows builds are now distributed as both `.tar.gz` and `.msi` files.\n\n## Bug
  Fixes\n\n* Closed issues #98, #485, #713, #744, #746, #787, #796, #803, #818,\n
  \ #826, #838, #856, #873, #875, #876, #877, #879, #880, #881, #883,\n  #886, #887,
  #888, #892, #894, #901, #910, #913, #924, #926, #931,\n  #933, #937, #939, #946,
  #948, #953, #956, #958, and #969.\n\n# 2.9.1\n\n## Language changes\n\n* The type
  of `generate` which is used for `a@i` sequence definitions,\n   is generalized so
  that the index type can be any `Integral` type\n   large enough to index the entire
  array being defined.\n\n## Bug Fixes\n\n* Closed issues #848, #850, #851, #859,
  and #861.\n\n* Fixed Windows installer paths.\n\n# 2.9.0\n\n## Language changes\n\n*
  Removed the `Arith` class. Replaced it instead with more specialized\n  numeric
  classes: `Ring`, `Integral`, `Field`, and `Round`.  `Ring`\n  is the closest analogue
  to the old `Arith` class; it contains the\n  `fromInteger`, `(+)`, `(*)`, `(-)`
  and `negate` methods.  `Ring`\n  contains all the base arithmetic types in Cryptol,
  and lifts\n  pointwise over tuples, sequences and functions, just as `Arith` did.\n\n
  \ The new `Integral` class now contains the integer division and\n  modulus methods
  (`(/)` and `(%)`), and the sequence indexing,\n  sequence update and shifting operations
  are generalized over\n  `Integral`.  The `toInteger` operation is also generalized
  over this\n  class.  `Integral` contains the bitvector types and `Integer`.\n\n
  \ The new `Field` class contains types representing mathematical\n  fields (or types
  that are approximately fields). It is currently\n  inhabited by the new `Rational`
  type, and the `Float`\n  family of types.  It will eventually also contain the\n
  \ `Real` type. It has the operation `recip` for reciprocal\n  and `(/.)` for field
  division (not to be confused for `(/)`,\n  which is Euclidean integral division).\n\n
  \ There is also a new `Round` class for types that can sensibly be\n  rounded to
  integers.  This class has the methods `floor`, `ceiling`,\n  `trunc`, `roundToEven`
  and `roundAway` for performing different\n  kinds of integer rounding.  `Rational`
  and `Float` inhabit `Round`.\n\n  The type of `(^^)` is modified to be\n  `{a, e}
  (Ring a, Integral e) => a -> e -> a`. This makes it clear\n  that the semantics
  are iterated multiplication, which makes sense\n  in any ring.\n\n  Finally, the
  `lg2`, `(/$)` and `(%$)` methods of `Arith` have\n  had their types specialized
  so they operate only on bitvectors.\n\n* Added an `Eq` class, and moved the equality
  operations\n  from `Cmp` into `Eq`. The `Z` type becomes a member of `Eq`\n  but
  not `Cmp`.\n\n* Added a base `Rational` type.  It is implemented as a pair of\n
  \ integers, quotiented in the usual way.  As such, it reduces to the\n  theory of
  integers and requires no new solver support (beyond\n  nonlinear integer arithmetic).
  \ `Rational` inhabits the new\n  `Field` and `Round` classes.  Rational values can
  be\n  constructed using the `ratio` function, or via `fromInteger`.\n\n* The `generate`
  function (and thus `x @ i= e` definitions) has had\n  its type specialized so the
  index type is always `Integer`.\n\n* The new typeclasses are arranged into a class
  hierarchy, and the\n  typechecker will use that information to infer superclass
  instances\n  from subclasses.\n\n* Added a family of base types, `Float e p`, for
  working with\n  floating point numbers.  The parameters control the precision of\n
  \ the numbers, with `e` being the number of bits to use in the exponent\n  and `p-1`
  being the number of bits to use in the mantissa.\n  The `Float` family of types
  may be used through the usual overloaded\n  functionality in Cryptol, and there
  is a new built-in module called\n  `Float`, which contains functionality specific
  to floating point numbers.\n\n* Add a way to write fractional literals in base 2,8,10,
  and 16.\n  Fractional literals are overloaded, and may be used for different types\n
  \ (currently `Rational` and the `Float` family).  Fractional literal in base\n  2,8,and
  16 must be precise, and will be rejected statically if they cannot be\n  represented
  exactly.  Fractional literals in base 10 are rounded to the\n  nearest even representable
  number.\n\n* Changes to the defaulting algorithm. The new algorithm only applies\n
  \ to constraints arising from literals (i.e., `Literal` and `FLiteral`\n  constraints).
  \ The guiding principle is that we now default these\n  to one of the infinite precision
  types `Integer` or `Rational`.\n  `Literal` constraints are defaulted to `Integer`,
  unless the corresponding\n  type also has `Field` constraint, in which case we use
  `Rational`.\n  Fractional literal constraints are always defaulted to `Rational.\n\n\n##
  New features\n\n* Document the behavior of lifted selectors.\n\n* Added support
  for symbolic simulation via the `What4` library\n  in addition to the previous method
  based on `SBV`. The What4\n  symbolic simulator is used when selecting solvers with
  the `w4`\n  prefix, such as `w4-z3`, `w4-cvc4`, `w4-yices`, etc.\n  The `SBV` and
  `What4` libraries make different tradeoffs in how\n  they represent formulae. You
  may find one works better than another\n  for the same problem, even with the same
  solver.\n\n* More detailed information about the status of various symbols\n  in
  the output of the `:browse` command (issue #688).\n\n* The `:safe` command will
  attempt to prove that a given Cryptol\n  term is safe; in other words, that it will
  not encounter a run-time\n  error for all inputs. Run-time errors arise from things
  like\n  division-by-zero, index-out-of-bounds situations and\n  explicit calls to
  `error` or `assert`.\n\n* The `:prove` and `:sat` commands now incorporate safety
  predicates\n  by default. In a `:sat` call, models will only be found that do not\n
  \ cause run-time errors. For `:prove` calls, the safety conditions are\n  added
  as additional proof goals.  The prior behavior\n  (which ignored safety conditions)
  can be restored using\n  `:set ignore-safety = on`.\n\n* Improvements to the `any`
  prover. It will now shut down external\n  prover processes correctly when one finds
  a solution. It will also\n  wait for the first _successful_ result to be returned
  from a prover,\n  instead of failing as soon as one prover fails.\n\n* An experimental
  `parmap` primitive that applies a function to a\n  sequence of arguments and computes
  the results in parallel.  This\n  operation should be considered experimental and
  may significantly\n  change or disappear in the future, and could possibly uncover\n
  \ unknown race conditions in the interpreter.\n\n## Bug fixes\n\n* Closed issues
  #346, #444, #614, #617, #636, #660, #662, #663, #664,\n  #667, #670, #702, #711,
  #712, #716, #723, #725, #731, #835, #836,\n  #839, #840, and #845\n\n# 2.8.0 (September
  4, 2019)\n\n## New features\n\n* Added support for indexing on the left-hand sides
  of declarations,\n  record field constructors, and record updaters (issue #577).
  This\n  builds on a new primitive function called `generate`, where the new\n  syntax
  `x @ i = e` is sugar for `x = generate (\\i -> e)`.\n\n* Added support for element
  type ascriptions on sequence enumerations.\n  The syntax `[a,b..c:t]` indicates
  that the elements should be of type\n  `t`.\n\n* Added support for wildcards in
  sequence enumerations. For example, the\n  syntax `[1 .. _] : [3][8]` yields `[0x01,
  0x02, 0x03]`. It can also be\n  used polymorphically. For example, the most general
  type of `[1 .. _]`\n  is `{n, a} (n >= 1, Literal n a, fin n) => [n]a`\n\n* Changed
  the syntax of type signatures to allow multiple constraint\n  arrows in type schemas
  (issue #599). The following are now equivalent:\n\n        f : {a} (fin a, a >=
  1) => [a] -> [a]\n\n        f : {a} (fin a) => (a >= 1) => [a] -> [a]\n\n* Added
  a mechanism for user-defined type constraint operators, and use\n  this to define
  the new type constraint synonyms (<) and (>) (issues\n  #400, #618).\n\n* Added
  support for primitive type declarations. The prelude now uses\n  this mechanism
  to declare all of the basic types.\n\n* Added support for Haskell-style \"block
  arguments\", reducing the need\n  for parentheses in some cases. For example, `generate
  (\\i -> i +1)`\n  can now be written `generate \\i -> i + 1`.\n\n* Improved shadowing
  errors (part of the fix for issue #569).\n\n## Bug fixes\n\n* Closed many issues,
  including #265, #367, #437, #508, #522, #549,\n  #557, #559, #569, #578, #590, #595,
  #596, #601, #607, #608, #610,\n  #615, #621, and #636.\n\n# 2.7.0 (April 30, 2019)\n\n##
  New features\n\n* Added syntax for record updates (see #399 for details of implemented\nand
  planned features).\n\n* Updated the `:browse` command to list module parameters
  (issue #586).\n\n* Added support for test vector creation (the `:dumptests` command).\nThis
  feature computes a list of random inputs and outputs for the\ngiven expression of
  function type and saves it to a file. This is\nuseful for generating tests from
  a trusted Cryptol specification to\napply to an implementation written in another
  language.\n\n## Breaking changes\n\n* Removed the `[x..]` construct from the language
  (issue #574). It\nwas shorthand for `[x..2^^n-1]` for a bit vector of size `n`,
  which was\noften not what the user intended. Users should instead write either\n`[x..y]`
  or `[x...]`, to construct a smaller range or a lazy sequence,\nrespectively.\n\n*
  Renamed the value-level `width` function to `length`, and generalized\nits type
  (issue #550). It does not behave identically to the\ntype-level `width` operator,
  which led to confusion. The name\n`length` matches more closely with similar functions
  in other\nlanguages.\n\n## Bug fixes\n\n* Improved type checking performance of
  decimal literals.\n\n* Improved type checking of `/^` and `%^` (issues #581, #582).\n\n*
  Improved performance of sequence updates with the `update` primitive\n(issue #579).\n\n*
  Fixed elapsed time printed by `:prove` and `:sat` (issue #572).\n\n* Fixed SMT-Lib
  formulas generated for right shifts (issue #566).\n\n* Fixed crash when importing
  non-parameterized modules with the\nbacktick prefix (issue #565).\n\n* Improved
  performance of symbolic execution for `Z n` (issue #554).\n\n* Fixed interpretation
  of the `satNum` option so finding multiple\nsolutions doesn't run forever (issue
  #553).\n\n* Improved type checking of the `length` function (issue #548).\n\n* Improved
  error message when trying to prove properties in\nparameterized modules (issue #545).\n\n*
  Stopped warning about defaulting at the REPL when `warnDefaulting` is\nset to `false`
  (issue #543).\n\n* Fixed builds on non-x86 architectures (issue #542).\n\n* Made
  browsing of interactively-bound identifiers work better (issue #538).\n\n* Fixed
  a bug that allowed changing the semantics of the `_ # _`\npattern and the `-` and
  `~` operators by creating local definitions\nof functions that they expand to (issue
  #568).\n\n* Closed issues #498, #547, #551, #562, and #563.\n"
changelog-type: markdown
description: Cryptol is a domain-specific language for specifying cryptographic algorithms.
  A Cryptol implementation of an algorithm resembles its mathematical specification
  more closely than an implementation in a general purpose language. For more, see
  <http://www.cryptol.net/>.
description-type: haddock
hash: 58212d917e71859b34eb9d4e745b2e9ca48ada69fae7fcc3b60a1d30f683f06f
homepage: https://tools.galois.com/cryptol
latest: 3.5.0
license-name: BSD-3-Clause
maintainer: cryptol@galois.com
synopsis: 'Cryptol: The Language of Cryptography'
test-bench-deps:
  base: '>=4.9 && <5'
  criterion: '>=0'
  cryptol: '>=0'
  deepseq: '>=0'
  directory: '>=0'
  filepath: '>=0'
  haskeline: '>=0'
  sbv: '>=0'
  tasty: '>=0'
  tasty-hunit: '>=0'
  text: '>=0'
