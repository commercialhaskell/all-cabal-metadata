homepage: http://www.yesodweb.com/book/persistent
changelog-type: markdown
hash: 7c68de6624ff83e14b674745e1c895dcf7c8676f6f24be131c89e2e4c2fa4510
test-bench-deps: {}
maintainer: Michael Snoyman <michael@snoyman.com>, Greg Weber <greg@gregweber.info>
synopsis: Type-safe, non-relational, multi-backend persistence.
changelog: "## Unreleased changes\n\n## 2.12.0.0\n\n* Decomposed `HaskellName` into
  `ConstraintNameHS`, `EntityNameHS`, `FieldNameHS`. Decomposed `DBName` into `ConstraintNameDB`,
  `EntityNameDB`, `FieldNameDB` respectively. [#1174](https://github.com/yesodweb/persistent/pull/1174)\n*
  [#1214](https://github.com/yesodweb/persistent/pull/1214):\n    * This package was
  asborbed into `persistent` itself.\n\n## 2.9.1.0\n\n* [#1145](https://github.com/yesodweb/persistent/pull/1148)\n
  \   * Fix a bug where the `SqlType` for a shared primary key was being\n      incorrectly
  set to `SqlString` instead of whatever the target primary key\n      sql type was.\n*
  [#1151](https://github.com/yesodweb/persistent/pull/1151)\n    * Automatically generate
  `SymbolToField` instances for datatypes, allowing\n      `OverloadedLabels` to be
  used with the `EntityField` type.\n\n## 2.9\n\n* Always use the \"stock\" strategy
  when deriving Show/Read for keys [#1106](https://github.com/yesodweb/persistent/pull/1106)\n\t*
  This fixes a regression from 2.8.0, which started using the `newtype` strategy when
  deriving `Show`/`Read` for keys\n\t* In practice, this means that from 2.8.0–2.8.3.1,
  for the following schema:\n\n\t```\n\tPerson\n\t\tname Text\n\tCustomPrimary\n\t\tanInt
  Int\n\t\tPrimary anInt\n\t\tname Text\n\t```\n\n\t`PersonKey 1` would show as `\"SqlBackendKey
  {unSqlBackendKey = 1}\"`\n\tand `CustomPrimaryKey 1` would show as `\"1\"`\n\n\tThis
  was generally poor for debugging and logging, since all tables keys would print
  the same. For Persistent < 2.8.0 and > 2.8.3.1, they instead will show as:\n\n\t`\"PersonKey
  {unPersonKey = SqlBackendKey {unSqlBackendKey = 1}}\"`\n\tand `\"CustomPrimaryKey
  {unCustomPrimaryKey = 1}\"`\n\n\tThis could be a breaking change if you have used
  `Show` on a key, wrote that string into some persistent storage like a database,
  and are trying to `Read` it back again later.\n\n## 2.8.3.1\n\n* Allow aeson 1.5.
  [#1085](https://github.com/yesodweb/persistent/pull/1085)\n\n## 2.8.3.0\n\n* Add
  `Lift` instances for the cascade types. [#1060](https://github.com/yesodweb/persistent/pull/1060)\n*
  Use `DeriveLift` to implement all `Lift` instances. Among other benefits,\n  this
  provides implementations of `liftTyped` on `template-haskell-2.16` (GHC\n  8.10)
  or later. [#1064](https://github.com/yesodweb/persistent/pull/1064)\n\n## 2.8.2.3\n\n*
  Require extensions in a more friendly manner. [#1030](https://github.com/yesodweb/persistent/pull/1030)\n*
  Specify a strategy for all deriving clauses, which avoids the `-Wmissing-deriving-strategy`
  warning introduced in GHC 8.8.2. [#1030](https://github.com/yesodweb/persistent/pull/1030)\n\n##
  2.8.2.2\n\n* Fix the `mkPersist` function to not require importing the classes explicitly.
  [#1027](https://github.com/yesodweb/persistent/pull/1027)\n\n## 2.8.2.1\n\n* Fix
  the test-suite for persistent-template. [#1023](https://github.com/yesodweb/persistent/pull/1023)\n\n##
  2.8.2\n\n* Add `fieldError` to the export list of `Database.Persist.TH` [#1008](https://github.com/yesodweb/persistent/pull/1008)\n\n##
  2.8.1\n\n* Let the user pass instances that will be derived for record and for key
  types (https://github.com/yesodweb/persistent/pull/990\n\n## 2.8.0.1\n\n* Small
  optimization/code cleanup to generated Template Haskell code size, by slimming the
  implementation of to/fromPersistValue for Entities. [#1014](https://github.com/yesodweb/persistent/pull/1014)\n\n##
  2.8.0\n\n* Reduces the amount of code generated by Template Haskell. The amount
  of code generated for a certain function was O(N^2) with respect to the number of
  fields on a given Entity. This change shows dramatic improvements in benchmarks
  for compiling Persistent models. [#]()\n* Drops support for GHC 8.0, so that `DerivingStrategies`
  can be used by `persistent-template`\n* `persistent-template` now requires `DerivingStrategies`,
  `GeneralizedNewtypeDeriving`, and `StandaloneDeriving` to be enabled in the file
  where Persistent entities are created\n* Fixes a long-standing issue where persistent-template
  would fail when `DeriveAnyClass` was enabled (See #578)\n* [#1002](https://github.com/yesodweb/persistent/pull/1002)\n\n##
  2.7.4\n\n* Remove an overlapping instance for `Lift a`. [#998](https://github.com/yesodweb/persistent/pull/998)\n\n##
  2.7.3\n\n* Update module documentation for `Database.Persist.TH` to better describe
  the purpose of the module [#968](https://github.com/yesodweb/persistent/pull/968)\n*
  Support template-haskell-2.15 [#959](https://github.com/yesodweb/persistent/pull/959)\n\n##
  2.7.2\n\n* Expose the knot tying logic of `parseReferences` so that users can build\n
  \ migrations from independently define entities at runtime [#932](https://github.com/yesodweb/persistent/pull/932)\n\n##
  2.7.1\n\n* Add the `mkEntityDefList` function to work around [#902](https://github.com/yesodweb/persistent/issues/902).
  [#904](https://github.com/yesodweb/persistent/pull/904)\n\n## 2.7.0\n\n* Depends
  on `persistent-2.10.0` which provides the `OnlyOneUniqueKey` and `AtLeastOneUniqueKey`
  classes. Automatically generates instances for these classes based on how many unique
  keys the entity definition gets. This changes requires `UndecidableInstances` to
  be enabled on each module that generates entity definitions. [#885](https://github.com/yesodweb/persistent/pull/885)\n*
  Removed deprecated `sqlOnlySettings`. Please use `sqlSettings` instead. [#894](https://github.com/yesodweb/persistent/pull/894)\n\n##
  2.6.0\n* [persistent#846](https://github.com/yesodweb/persistent/pull/846): Improve
  error message when marshalling fails\n* [persistent#826](https://github.com/yesodweb/persistent/pull/826):
  Change `Unique` derive `Show`\n\n## 2.5.4\n\n* [persistent#778](https://github.com/yesodweb/persistent/issues/778):
  Add `persistManyFileWith`.\n\n## 2.5.3.1\n\n* Slight improvement to the error message
  when a Persistent field can't be parsed from database results\n\n## 2.5.3\n\n* Exposed
  `parseReferences` to allow custom QuasiQuoters\n\n## 2.5.2\n\n* Fix incorrect `ToJSON`/`FromJSON`
  instance generation for generic\n  backends\n\n## 2.5.1.6\n\nAllow non-null self-references
  in a list\n\n## 2.5.1.4\n\n* Allow composite Primary keys for tables that contain
  nullable fields.\n* Support foreign keys to non-integer ids\n\n## 2.5.1.3\n\n* fix
  GHC 7.8 bug when a field name is \"type\"\n\n## 2.5.1.2\n\n* fix a bad Eq instance
  /= definition for Key when mpsGenetric=True\n\n## 2.5.0.1\n\n* workaround TH bug
  in GHC 7.10\n\n## 2.5\n\n* read/write typeclass split\n\n## 2.1.6\n\n* aeson 0.11\n*
  transformers 0.5\n## 2.1.4\n\nsupport http-api-data for url serialization\n\n##
  2.1.3.3\n\nBy default explicitly use Int64 for foreign key references.\nThis avoids
  confusion on a 32 bit system.\n\n## 2.1.3.1\n\nSupport foreign key references to
  composite primary keys\n\n## 2.1.0.1\n\nSupport for monad-control 1.0\n"
basic-deps:
  base: '>=4.10 && <5'
all-versions:
- 0.5.0
- 0.5.0.1
- 0.5.1
- 0.6.1
- 0.6.2
- 0.6.3
- 0.6.3.1
- 0.7.0
- 0.8.0
- 0.8.1
- 0.8.1.1
- 0.8.1.2
- 0.8.2
- 0.9.0
- 0.9.0.1
- 0.9.0.2
- 1.0.0
- 1.0.0.1
- 1.0.0.2
- 1.1.0
- 1.1.1
- 1.1.2
- 1.1.2.1
- 1.1.2.2
- 1.1.2.3
- 1.1.2.4
- 1.1.2.5
- 1.1.3
- 1.1.3.1
- 1.2.0
- 1.2.0.1
- 1.2.0.2
- 1.2.0.3
- 1.2.0.4
- 1.2.0.5
- 1.2.0.6
- 1.3.0
- 1.3.1
- 1.3.1.1
- 1.3.1.2
- 1.3.1.3
- 1.3.1.4
- 1.3.2.1
- 1.3.2.2
- 2.0.1.1
- 2.0.5
- 2.0.7
- 2.0.8
- '2.1'
- 2.1.0.1
- 2.1.1
- 2.1.3
- 2.1.3.1
- 2.1.3.3
- 2.1.3.4
- 2.1.3.6
- 2.1.3.7
- 2.1.4
- 2.1.5
- 2.1.6
- 2.1.7
- 2.1.8
- 2.1.8.1
- '2.5'
- 2.5.1
- 2.5.1.1
- 2.5.1.2
- 2.5.1.3
- 2.5.1.4
- 2.5.1.5
- 2.5.1.6
- 2.5.2
- 2.5.3
- 2.5.3.1
- 2.5.4
- 2.6.0
- 2.7.0
- 2.7.1
- 2.7.2
- 2.7.3
- 2.7.4
- 2.8.0
- 2.8.0.1
- 2.8.1
- 2.8.2
- 2.8.2.1
- 2.8.2.2
- 2.8.2.3
- 2.8.3.0
- 2.8.3.1
- '2.9'
- 2.9.1.0
- 2.12.0.0
author: Michael Snoyman <michael@snoyman.com>
latest: 2.12.0.0
description-type: markdown
description: "# Begone!\n\nThis package was absorbed into `persistent` with the 2.12.0.1
  release.\n\n## persistent-template\n\nProvides Template Haskell helpers for persistent.
  For more information, see\n[the chapter in the Yesod book](http://www.yesodweb.com/book/persistent).\n\n###
  code organization\n\nThe TH.hs module contains code generators.\npersistent-template
  uses `EntityDef`s that it gets from the quasi-quoter.\nThe quasi-quoter is in persistent
  Quasi.hs\nSimilarly many of the types come from the persistent library\n\n### Development
  tips\n\nTo get a better idea of what code you're generating, you can output the
  content of Template Haskell expressions to a file:\n\n```\nstack test persistent-template
  --ghc-options='-ddump-splices -ddump-to-file'\n```\n\nThe output will be in the
  `.stack-work` directory. The exact path will depend on your specific setup, but
  if you search for files ending in `.dump-splices` you'll find the output (`find
  .stack-work -type f -name '*.dump-splices'`)\n\nIf you make changes to the generated
  code, it is highly recommended to compare the output with your changes to output
  from `master` (even better if this diff is included in your PR!). Seemingly small
  changes can have dramatic changes on the generated code. \n\nFor example, embedding
  an `EntityDef` in a function that was called for every field of that `Entity` made
  the number of generated lines O(N^2) for that function—very bad!\n"
license-name: MIT
