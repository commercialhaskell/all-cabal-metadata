homepage: https://github.com/EdutainmentLIVE/servant-serf#readme
changelog-type: ''
hash: c9153b99a372b5e792d77c02c56586641b7f1b37d01218968d50e9aa8a422667
test-bench-deps: {}
maintainer: ACI Learning
synopsis: Generates a servant API module
changelog: ''
basic-deps:
  base: <=5.2.0.0
  text: -any
  regex-tdfa: '>=1.3.1.0'
  regex-base: -any
  mtl: -any
  attoparsec: -any
  optparse-applicative: -any
  hpack: -any
all-versions:
- 0.0.3
- 0.1.0
- 0.1.1
- 0.2.0
author: ''
latest: 0.2.0
description-type: markdown
description: "# \U0001F69C servant-serf\n\n## Example\n\n### Input:\n```haskell\n{-#
  OPTIONS_GHC -F -pgmF servant-serf\n  -optF --package-name=servant-serf-example\n
  \ -optF --is-handler-module=Foo.Handler.*\n  -optF --ghc-options=-freduction-depth=0\n#-}\n\nmodule
  Foo.Api where\n\nimport Foo.Handler.HelloWorld\nimport Foo.Handler.GoodbyeWorld\n```\n\n###
  Output:\n```haskell\n{-# OPTIONS_GHC -fno-warn-partial-type-signatures -freduction-depth=0
  #-}\n{-# LANGUAGE PartialTypeSignatures #-}\n{-# LANGUAGE ExplicitNamespaces #-}\n{-#
  LANGUAGE TypeOperators #-}\nmodule Foo.Api (type Route, handler) where\n\nimport
  Servant ((:<|>)((:<|>)))\nimport qualified GHC.Stack as Stack\nimport qualified
  Servant\n\nimport qualified Foo.Handler.HelloWorld\nimport qualified Foo.Handler.GoodbyeWorld\n\ntype
  Route\n  = Foo.Handler.HelloWorld.Route\n  :<|> Foo.Handler.GoodbyeWorld.Route\n\nhandler
  :: Stack.HasCallStack => Servant.ServerT Route _\nhandler\n  = Foo.Handler.HelloWorld.handler\n
  \ :<|> Foo.Handler.GoodbyeWorld.handler\n```\n\n### Module discovery:\nWhen the
  preprocessor runs it looks at your package.yaml and the `is-handler-module` option\nto
  determine which modules should be imported to the generated API module.\nBecause
  the ordering of the routes matters, you must explicitly import each route in the
  order\nthey will appear in the Route type. If you haven't yet imported a module
  which `servant-serf` has\ndisovered, you'll receive a helpful error message like
  the following:\n```\n/home/zach/Dev/servant-serf/servant-serf-example//tmp/ghc32747_0/ghc_1.hspp:9:11:
  error:\n    â€¢ Missing handler imports. Consider adding the following imports to
  the file src/Foo/Api.hs\n       or updating the is_handler_module regular expression
  in your .servant-serf.toml\n      import Foo.Handler.GoodbyeWorld\n```\n"
license-name: MIT
