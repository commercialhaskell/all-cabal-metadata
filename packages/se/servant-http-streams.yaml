homepage: http://docs.servant.dev/
changelog-type: markdown
hash: 94fb79c3c80b820aeabef73cc9da9c0fe85449908553cbd0932ef52d818d23b0
test-bench-deps:
  warp: -any
  tdigest: ! '>=0.2 && <0.3'
  bytestring: -any
  wai: -any
  stm: -any
  base: -any
  hspec: ! '>=2.6.0 && <2.8'
  text: -any
  markdown-unlit: -any
  http-api-data: -any
  kan-extensions: -any
  servant-client-core: -any
  entropy: ! '>=0.4.1.3 && <0.5'
  network: ! '>=2.8.0.0 && <3.2'
  HUnit: ! '>=1.6.0.0 && <1.7'
  servant-server: ==0.16.*
  servant: ==0.16.*
  base-compat: -any
  http-streams: -any
  mtl: -any
  transformers: -any
  deepseq: -any
  QuickCheck: ! '>=2.12.6.1 && <2.14'
  http-types: -any
  servant-http-streams: -any
  aeson: -any
  transformers-compat: -any
maintainer: haskell-servant-maintainers@googlegroups.com
synopsis: Automatic derivation of querying functions for servant
changelog: |2
    [The latest version of this document is on GitHub.](https://github.com/haskell-servant/servant/blob/master/servant-http-streams/CHANGELOG.md)
  [Changelog for `servant` package contains significant entries for all core packages.](https://github.com/haskell-servant/servant/blob/master/servant/CHANGELOG.md)

  0.16.0.1
  --------

  - Allow `base-compat-0.11`

  0.16
  ----

  - Initial release
basic-deps:
  semigroupoids: ! '>=5.3.1 && <5.4'
  exceptions: ! '>=0.10.0 && <0.11'
  bytestring: ! '>=0.10.8.1 && <0.11'
  case-insensitive: -any
  base: ! '>=4.9 && <4.14'
  time: ! '>=1.6.0.1 && <1.10'
  text: ! '>=1.2.3.0 && <1.3'
  http-common: ! '>=0.8.2.0 && <0.9'
  kan-extensions: ! '>=5.2 && <5.3'
  servant-client-core: ! '>=0.16 && <0.16.1'
  monad-control: ! '>=1.0.2.3 && <1.1'
  servant: ==0.16.*
  containers: ! '>=0.5.7.1 && <0.7'
  base-compat: ! '>=0.10.5 && <0.12'
  io-streams: ! '>=1.5.0.1 && <1.6'
  bifunctors: ! '>=5.5.3 && <5.6'
  http-streams: ! '>=0.8.6.1 && <0.9'
  mtl: ! '>=2.2.2 && <2.3'
  transformers-base: ! '>=0.4.5.2 && <0.5'
  transformers: ! '>=0.5.2.0 && <0.6'
  deepseq: ! '>=1.4.2.0 && <1.5'
  http-types: ! '>=0.12.2 && <0.13'
  http-media: ! '>=0.7.1.3 && <0.9'
  transformers-compat: ! '>=0.6.2 && <0.7'
all-versions:
- '0.16'
- 0.16.0.1
author: Servant Contributors
latest: 0.16.0.1
description-type: markdown
description: |
  # servant-client

  ![servant](https://raw.githubusercontent.com/haskell-servant/servant/master/servant.png)

  This library lets you automatically derive Haskell functions that let you query each endpoint of a *servant* webservice.

  ## Example

  ``` haskell
  {-# LANGUAGE DataKinds #-}
  {-# LANGUAGE TypeOperators #-}

  import Data.Proxy
  import Data.Text
  import Servant.API
  import Servant.HttpStreams


  type Book = Text

  type MyApi = "books" :> Get '[JSON] [Book] -- GET /books
          :<|> "books" :> ReqBody '[JSON] Book :> Post '[JSON] Book -- POST /books

  myApi :: Proxy MyApi
  myApi = Proxy

  -- 'client' allows you to produce operations to query an API from a client.
  postNewBook :: Book -> ClientM Book
  getAllBooks :: ClientM [Book]
  (getAllBooks :<|> postNewBook) = client myApi

  -- the IOException happens already in withClientEnvIO
  main' :: IO ()
  main' = do
      let burl = BaseUrl Http "localhost" 8081 ""
      withClientEnvIO burl $ \env -> do
          res <- runClientM getAllBooks env
          case res of
              Left err -> putStrLn $ "Error: " ++ show err
              Right books -> print books

  main :: IO ()
  main = return ()
  ```
license-name: BSD-3-Clause
