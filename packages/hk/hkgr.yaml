homepage: https://github.com/juhp/hkgr
changelog-type: markdown
hash: 3d414526b1946bbbac49d6998a1ec62abeb5c5a5575326d854a5d438f120ce93
test-bench-deps: {}
maintainer: juhpetersen@gmail.com
synopsis: Simple Hackage release workflow for package maintainers
changelog: |
  # Changelog

  ## 0.2.1 (2019-06-24)
  - fix creation of published symlink lockfile
  - tagdist before `cabal upload` if no tarball

  ## 0.2 (2019-06-24)
  - merge tag and dist commands into tagdist
  - if sdist fails then reset tag
  - drop push-tags command

  ## 0.1 (2019-06-24)
  - add published lock file: prevents tagging/dist/upload after publish
  - tag before sdist if no tag
  - push tag after publishing

  ## 0.0 (2019-06-08)
  * Initially created.
basic-deps:
  base: <5
  simple-cmd-args: -any
  filepath: -any
  simple-cabal: -any
  simple-cmd: ! '>=0.2.0'
  directory: ! '>=1.3.1.0'
all-versions:
- '0.0'
- '0.1'
- 0.2.1
author: Jens Petersen
latest: 0.2.1
description-type: markdown
description: |
  # Hkgr

  [![Hackage](https://img.shields.io/hackage/v/hkgr.svg)](https://hackage.haskell.org/package/hkgr)
  [![GPL-3 license](https://img.shields.io/badge/license-GPL--3-blue.svg)](LICENSE)
  [![Build status](https://secure.travis-ci.org/juhp/hkgr.svg)](https://travis-ci.org/juhp/hkgr)

  `hkgr` (pronounced "Hackager") is a tool for making releases of
  Haskell packages on Hackage.

  ## Usage

  ```
  $ hkgr
  HacKaGe Release workflow

  Usage: hkgr [--version] COMMAND
    A tool to help Hackage maintainers with releasing packages

  Available options:
    -h,--help                Show this help text
    --version                Show version

  Available commands:
    tagdist                  'git tag' version and 'cabal sdist' tarball
    upload                   'cabal upload' candidate tarball to Hackage
    publish                  Publish to Hackage ('cabal upload --publish')
    upload-haddock           Upload candidate documentation to Hackage
    publish-haddock          Publish documentation to Hackage
    version                  Show the package version from .cabal file
  ```

  ## Example
  ```
  $ git commit -m "new release"
  $ git push
  $ hkgr tagdist
  $ hkgr upload
  $ hkgr upload-haddock
  $ hkgr publish
  $ hkgr publish-haddock
  ```
license-name: GPL-3.0-only
