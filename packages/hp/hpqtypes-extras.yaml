homepage: https://github.com/scrive/hpqtypes-extras
changelog-type: markdown
hash: a1612f8be3f99354af16c70c918a56d0abea99dd25d05eaf8a53be3ab106e826
test-bench-deps:
  exceptions: -any
  log-base: -any
  hpqtypes: -any
  base: -any
  text: -any
  monad-control: -any
  lifted-base: -any
  hpqtypes-extras: -any
  tasty-hunit: -any
  transformers: -any
  tasty: -any
maintainer: |-
  Andrzej Rybczak <andrzej@rybczak.net>,
  Jonathan Jouty <jonathan@scrive.com>,
  Mikhail Glushenkov <mikhail@scrive.com>
synopsis: Extra utilities for hpqtypes library
changelog: |
  # hpqtypes-extras-1.8.0.0 (2019-04-30)
  * Make composite types subject to migration process
    ([#21](https://github.com/scrive/hpqtypes-extras/pull/21)).
  * Add migration type for concurrent creation of an index
    ([#21](https://github.com/scrive/hpqtypes-extras/pull/21)).

  # hpqtypes-extras-1.7.1.0 (2019-02-04)
  * Fix an issue where unnecessary migrations were run sometimes
    ([#18](https://github.com/scrive/hpqtypes-extras/pull/18)).

  # hpqtypes-extras-1.7.0.0 (2019-01-08)
  * Added support for no-downtime migrations
    ([#17](https://github.com/scrive/hpqtypes-extras/pull/17)):
      - `sqlCreateIndex` is deprecated. Use either
        `sqlCreateIndexSequentially` or `sqlCreateIndexConcurrently`
        (no-downtime migration variant) instead.
      - `sqlAddFK` is deprecated. Use either `sqlAddValidFK` or
        `sqlAddNotValidFK` (no-downtime migration variant) instead.
      - API addition: `sqlValidateFK`, for validating a foreign key
        previously added with `sqlAddNotValidFK`.
      - `sqlAddCheck` is deprecated. Use either `sqlAddValidCheck` or
        `sqlAddNotValidCheck` (no-downtime migration variant) instead.
      - API addition: `sqlValidateCheck`, for validating a check
        previously added with `sqlAddNotValidCheck`.
      - API addition: `sqlAddPKUsing`, converts a unique index to a
        primary key.
      - New `Table` field: `tblAcceptedDbVersions`.
  * `ValidationResult` is now an abstract type.
  * `ValidationResult` now supports info-level messages in addition to errors.

  # hpqtypes-extras-1.6.4.0 (2019-02-04)
  * Fix an issue where unnecessary migrations were run sometimes
    ([#19](https://github.com/scrive/hpqtypes-extras/pull/19)).

  # hpqtypes-extras-1.6.3.0 (2018-11-19)
  * API addition: `sqlWhereAnyE`
    ([#16](https://github.com/scrive/hpqtypes-extras/pull/16)).

  # hpqtypes-extras-1.6.2.0 (2018-07-11)
  * Support hpqtypes-1.6.0.0.
  * Drop support for GHC < 8.

  # hpqtypes-extras-1.6.1.0 (2018-03-18)
  * Add support for GHC 8.4.
  * Drop support for GHC 7.8.

  # hpqtypes-extras-1.6.0.0 (2018-01-25)
  * Introduce `checkPKPresence` to enforce primary keys on all tables supplied to `checkDatabase`
  * Introduce an options data type, `ExtrasOptions`

  # hpqtypes-extras-1.5.0.1 (2018-01-09)
  * Changed `getDBTableNames` to only schemas explicitly in search path, rather
    than an exclusion list. Affects table version and unknown tables checks.

  # hpqtypes-extras-1.5.0.0 (2017-12-08)
  * Changed internal representation of PrimaryKey to NubList (#11)
    This will break existing PKs set on multiple columns unless they are
    alphabetically sorted in the defining list.

  # hpqtypes-extras-1.4.0.0 (2017-11-24)
  * Introduced tsvector postgres type and indexing methods GIN and BTree

  # hpqtypes-extras-1.3.1.1 (2017-07-21)
  * Now depends on 'log-base' instead of 'log'.

  # hpqtypes-extras-1.3.1.0 (2017-07-20)
  * Improved migration order sanity checking (#7).

  # hpqtypes-extras-1.3.0.0 (2017-05-17)
  * Add drop table migrations.
  * Add a test suite.
  * Improve documentation.
  * Add option to force commit after every migration.

  # hpqtypes-extras-1.2.4 (2016-07-28)
  * Initial release.
basic-deps:
  fields-json: -any
  exceptions: -any
  log-base: ! '>=0.7'
  bytestring: -any
  hpqtypes: ==1.6.*
  base: ! '>4 && <4.13'
  text: -any
  monad-control: ! '>=1.0.0.0'
  text-show: -any
  lifted-base: -any
  data-default: -any
  semigroups: ! '>=0.16'
  containers: -any
  mtl: -any
  base16-bytestring: -any
  safe: -any
  cryptohash: -any
all-versions:
- 1.2.4
- 1.3.0.0
- 1.3.1.0
- 1.3.1.1
- 1.4.0.0
- 1.5.0.0
- 1.5.0.1
- 1.6.0.0
- 1.6.1.0
- 1.6.2.0
- 1.6.3.0
- 1.6.4.0
- 1.7.0.0
- 1.7.1.0
- 1.8.0.0
author: Scrive AB
latest: 1.8.0.0
description-type: markdown
description: |
  # hpqtypes-extras [![Hackage version](https://img.shields.io/hackage/v/hpqtypes-extras.svg?label=Hackage)](https://hackage.haskell.org/package/hpqtypes-extras) [![Build Status](https://secure.travis-ci.org/scrive/hpqtypes-extras.svg?branch=master)](http://travis-ci.org/scrive/hpqtypes-extras)

  The following extras
  for [hpqtypes](http://hackage.haskell.org/package/hpqtypes) library:

  * DSL for easy, modular construction of SQL queries.

  * System for automatic validation and migration of a database schema.
license-name: BSD-3-Clause
