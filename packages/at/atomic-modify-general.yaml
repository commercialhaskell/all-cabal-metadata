homepage: https://github.com/treeowl/atomic-modify-general
changelog-type: markdown
hash: d50a8c09e089017571fadda9b234127dd99d52bbd7aebcd1a89bdb4db6b3f2af
test-bench-deps:
  base: '>=4.11.0 && <4.19'
  atomic-modify-general: -any
maintainer: David.Feuer@gmail.com
synopsis: Generalizations of atomicModifyIORef
changelog: |
  # Revision history for atomic-modify-generic

  ## 0.1.0.0 -- YYYY-mm-dd

  * First version. Released on an unsuspecting world.
basic-deps:
  base: '>=4.11 && <4.19'
  primitive: -any
all-versions:
- 0.1.0.0
author: David Feuer
latest: 0.1.0.0
description-type: haddock
description: |-
  @base@ provides

  @
  atomicModifyIORef :: IORef a -> (a -> (a, b)) -> IO b
  atomicModifyIORef2 :: IORef a -> (a -> (a, b)) -> IO (a, (a, b))
  @

  to modify the value in an @IORef@ and return a result (and, in the
  case of @atomicModifyIORef2@, also return the old value).

  In "Data.IORef.AtomicModify", we generalize this from pairs to arbitrary
  types for which the user can provide a function to extract the new
  value to store in the @IORef@.

  In "Data.IORef.AtomicModify.Generic", we offer a faster but more restricted
  version taking advantage of the fact that the primop used to implement
  @atomicModifyIORef2@ actually works for /somewhat/ more general record types
  than @atomicModifyIORef2@ accepts.
license-name: BSD-2-Clause
