homepage: https://github.com/donatello/wai-rate-limit-postgres
changelog-type: markdown
hash: a3dc91dab1def4b54a20f41fedd9c0e5131a1710a036a7e3c933f79a75b7cf92
test-bench-deps:
  warp: -any
  http-client: -any
  wai: -any
  base: '>=4.12 && <5'
  text: ^>=1.2.4
  wai-rate-limit: '>=0.1.0.0 && <0.2'
  postgresql-simple-url: -any
  resource-pool: '>=0.2.3.2 && <0.3'
  wai-rate-limit-postgres: -any
  relude: ^>=1.0
  postgresql-simple: ^>=0.6
  tasty-hunit: -any
  tasty: -any
  http-types: -any
maintainer: Aditya Manthramurthy <aditya.mmy@gmail.com>
synopsis: See README for more info
changelog: |
  # Changelog

  `wai-rate-limit-postgres` uses [PVP Versioning][1].
  The changelog is available [on GitHub][2].

  ## 0.4.0.0

  * Fix encoding bug by changing key type to `bytea` (#5)

  ## 0.3.0.0

  * Removed unnecessary debug prints

  ## 0.2.0.0

  * Fix bug in table name reference (#1)

  ## 0.1.0.0

  Initial release

  ## 0.0.0.0

  * Initially created.

  [1]: https://pvp.haskell.org
  [2]: https://github.com/donatello/wai-rate-limit-postgres/releases
basic-deps:
  base: '>=4.12 && <5'
  text: ^>=1.2.4
  wai-rate-limit: ^>=0.1.0.0
  resource-pool: ^>=0.2.3.2
  relude: ^>=1.0
  postgresql-simple: ^>=0.6
all-versions:
- 0.0.0.0
- 0.1.0.0
- 0.2.0.0
- 0.3.0.0
- 0.4.0.0
author: Aditya Manthramurthy
latest: 0.4.0.0
description-type: markdown
description: |
  # wai-rate-limit-postgres

  [![GitHub CI](https://github.com/donatello/wai-rate-limit-postgres/workflows/CI/badge.svg)](https://github.com/donatello/wai-rate-limit-postgres/actions)
  [![Hackage](https://img.shields.io/hackage/v/wai-rate-limit-postgres.svg?logo=haskell)](https://hackage.haskell.org/package/wai-rate-limit-postgres)
  [![Apache-2.0 license](https://img.shields.io/badge/license-Apache--2.0-blue.svg)](LICENSE)

  This is a companion package to [wai-rate-limit](https://github.com/mbg/wai-rate-limit) that adds support to use PostgreSQL as a backend.

  Depending on traffic and latency of PostgreSQL, this backend may or may not be appropriate for you.

  # Testing locally with Docker

  Start a PostgreSQL docker container in a terminal:


  ```shell

  $ docker run --name some-postgres -e POSTGRES_PASSWORD=postgres -p 5432:5432 -it --rm postgres -c log_statement=all

  ```

  Run tests in another terminal with:

  ```shell

  $ export PG_DB_URI=postgres://postgres:postgres@localhost:5432/postgres
  $ cabal test
  ```
license-name: Apache-2.0
