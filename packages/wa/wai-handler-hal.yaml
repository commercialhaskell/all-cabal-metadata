homepage: http://github.com/bellroy/wai-handler-hal
changelog-type: markdown
hash: 871ae71b19808aa63d549dcc300ad9a65891fd4d8f6c210927142c577624b64d
test-bench-deps:
  bytestring: '>=0.10.8 && <0.12'
  wai: ^>=3.2.2
  case-insensitive: ^>=1.2.0.0
  base: '>=4.12 && <4.19'
  tasty-golden: ^>=2.3
  hal: '>=0.4.7 && <0.4.11 || >=1.0.0 && <1.1'
  base64-bytestring: '>=1.0.0.0 && <1.3'
  unordered-containers: ^>=0.2.10.0
  text: '>=1.2.3 && <1.3 || ==2.0.*'
  network: '>=2.8.0.0 && <3.2'
  vault: ^>=0.3.1.0
  wai-handler-hal: -any
  pretty-simple: ^>=4.1.0.0
  tasty: '>=1.3 && <1.5'
  http-types: ^>=0.12.3
  aeson: '>=1.5.6.0 && <1.6 || >=2.0 && <2.2'
maintainer: Bellroy Tech Team <haskell@bellroy.com>
synopsis: Wrap WAI applications to run on AWS Lambda
changelog: |
  # Revision history for wai-handler-hal

  ## 0.2.0.0 -- 2023-03-17

  - Breaking change: `toWaiRequest` now sorts request headers and query string
    parameters.

  ## 0.1.2.0 -- 2022-06-03

  - Fix construction of `rawPathInfo`.

  ## 0.1.1.0 -- 2021-10-14

  - When API Gateway sends nonsense IPs during a test invocation, sub in
    `127.0.0.1` instead of exploding.
    [#3](https://github.com/bellroy/wai-handler-hal/issues/3)
  - Removed debug `print`s left in by mistake.

  ## 0.1.0.0 -- 2021-04-15

  - First version. Released on an unsuspecting world.
basic-deps:
  bytestring: '>=0.10.8 && <0.12'
  wai: ^>=3.2.2
  case-insensitive: ^>=1.2.0.0
  base: '>=4.12 && <4.19'
  hal: '>=0.4.7 && <0.4.11 || >=1.0.0 && <1.1'
  base64-bytestring: '>=1.0.0.0 && <1.3'
  unordered-containers: ^>=0.2.10.0
  text: ^>=1.2.3 || ^>=2.0
  network: '>=2.8.0.0 && <3.2'
  vault: ^>=0.3.1.0
  http-types: ^>=0.12.3
all-versions:
- 0.1.0.0
- 0.1.1.0
- 0.1.2.0
- 0.2.0.0
author: Bellroy Tech Team <haskell@bellroy.com>
latest: 0.2.0.0
description-type: markdown
description: |
  # wai-handler-hal

  [![Haskell-CI](https://github.com/bellroy/wai-handler-hal/actions/workflows/haskell-ci.yml/badge.svg)](https://github.com/bellroy/wai-handler-hal/actions/workflows/haskell-ci.yml)

  This library lets you run `wai` `Application`s on AWS Lambda, which
  means you can now use mature web frameworks like
  [`servant`](https://hackage.haskell.org/package/servant).

  The main entry point is `Network.Wai.Handler.Hal.run`, which wraps an
  `Application` and returns a function that can be passed to `hal`'s
  `AWS.Lambda.Runtime.mRuntime`.

  **NOTE:** The function returned by `Network.Wai.Handler.Hal.run` is
  only for [Lambda Proxy
  Integrations](https://docs.aws.amazon.com/apigateway/latest/developerguide/set-up-lambda-proxy-integrations.html)
  of AWS API Gateway **REST APIs** (`AWS::ApiGateway::RestApi` in
  CloudFormation). If you try to use such a Lambda with an API Gateway
  **HTTP API** (`AWS::ApiGatewayV2::Api` in CloudFormation), it will
  return 500s.
license-name: BSD-3-Clause
