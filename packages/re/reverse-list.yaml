homepage: https://github.com/edemko/reverse-list
changelog-type: markdown
hash: 7678d543862e7c83b1ccb918af572625c4de41b3bf0a0378c6b52a3cf39c44fb
test-bench-deps: {}
maintainer: zankoku.okuno@gmail.com
synopsis: reversed lists/snoc lists
changelog: |
  # Revision history for reverse-list

  ## 0.2.0 -- 2022-01-27

  * Remove `Foldable` instance until I determine the correct semantics.
  * Add `init`, `last`.
  * Add `Data.List.Cons` module and `Tsil` synonym for "symmetry".
  * Rename `Data.List.RList` to `Data.List.Snoc`
  * `RList.{safeLast,safeInit}`
  * `RList.toSet`

  ## 0.1.0 -- 2021-12-27

  * First version. Released on an unsuspecting world.
basic-deps:
  base: '>=4.14.3 && <4.18'
  containers: '>=0.6 && <0.7'
  contiguous: '>=0.6 && <0.7'
  deepseq: '>=1.4 && <1.5'
all-versions:
- 0.2.0
author: Eric Demko
latest: 0.2.0
description-type: markdown
description: |-
  # reverse-list

  The key idea of this library is to leverage the type system to control the performance characteristics of list-manipulation code.
  It defines the type `RList`, which is a snoc-list rather than a cons-list.
  It also creates a symmetric module for cons-lists, which focuses on the efficient and safe use of linked lists.

  Admittedly, parsing `String`s as in this example is bad for performance anyway, but the potential bugs are the same for any use of lists as accumulators:
  ```
  import qualified Data.List.Snoc as RList

  parseSqlString :: String -> Maybe String
  parseSqlString str0 = case str0 of
    '\'':rest -> loop "" rest
    _ -> Nothing
    where
    loop :: RList Char -> [Char] -> Maybe [Char]
    loop acc [] = Nothing
    -- it is impossible to accidentally return the accumulator without reversing
    loop acc "\'" = Just $ Rlist.toList acc
    loop acc ('\'':'\'':rest) = loop (Snoc acc '\'') rest
    loop acc (c:rest) = loop (Snoc acc c) rest
  ```

  Currently, we only support the basic introduction/elimination forms (though reasonably ergonomically), and conversions.
  Additional functions should certainly be exposed, after due consideration is given to their semantics, including performance.
  If you run into anything you think deserved to be exported, open an issue or a pull request and I'll be happy to get it done.
license-name: BSD-3-Clause
