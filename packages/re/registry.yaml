homepage: ''
changelog-type: ''
hash: 9a846224b8bc59710a829895f0ddc41dc077f65d1358c24cb981426a3eb4936f
test-bench-deps:
  semigroupoids: '>=5.0 && <5.4'
  exceptions: '>=0.8 && <0.11'
  io-memoize: <1.2
  bytestring: <0.12
  tasty-th: <0.2
  unliftio: '>=0.2 && <1'
  MonadRandom: <1
  base: '>=4.14 && <5'
  multimap: <2
  tasty-hedgehog: '>=1.2 && <2.0'
  tasty-discover: <6
  text: <3
  universum: <2
  hedgehog: '>=1.0 && <3.0'
  async: <2.3
  protolude: '>=0.2 && <0.4'
  semigroups: <0.30
  containers: '>=0.5 && <0.7'
  mtl: '>=2.0 && <3'
  registry: -any
  mmorph: '>=1.0 && <2'
  hashable: '>=1.2 && <1.5'
  transformers-base: ==0.4.*
  generic-lens: '>=1.0 && <3.0'
  random: <2.0
  tasty: <1.5
  resourcet: '>=1.1 && <1.3'
  template-haskell: '>=2.13 && <3.0'
  directory: <1.4
maintainer: etorreborre@yahoo.com
synopsis: data structure for assembling components
changelog: ''
basic-deps:
  semigroupoids: '>=5.0 && <5.4'
  exceptions: '>=0.8 && <0.11'
  unliftio: '>=0.2 && <1'
  base: '>=4.14 && <5'
  multimap: '>=1.0 && <2'
  text: '>=1.1 && <3'
  protolude: '>=0.2 && <0.4'
  semigroups: '>=0.15 && <0.30'
  containers: '>=0.5 && <0.7'
  mtl: '>=2.0 && <3'
  mmorph: '>=1.0 && <2'
  hashable: '>=1.2 && <1.5'
  transformers-base: ==0.4.*
  resourcet: '>=1.1 && <1.3'
  template-haskell: '>=2.13 && <3.0'
all-versions:
- 0.1.0.0
- 0.1.0.1
- 0.1.0.2
- 0.1.0.3
- 0.1.0.4
- 0.1.0.5
- 0.1.1.0
- 0.1.1.1
- 0.1.1.2
- 0.1.2.0
- 0.1.2.2
- 0.1.2.3
- 0.1.2.4
- 0.1.2.5
- 0.1.2.6
- 0.1.3.0
- 0.1.3.1
- 0.1.3.2
- 0.1.3.3
- 0.1.3.4
- 0.1.3.5
- 0.1.3.6
- 0.1.4.0
- 0.1.4.1
- 0.1.4.2
- 0.1.5.0
- 0.1.5.1
- 0.1.5.2
- 0.1.5.3
- 0.1.5.4
- 0.1.5.5
- 0.1.6.0
- 0.1.6.1
- 0.1.6.2
- 0.1.6.3
- 0.1.7.0
- 0.1.7.1
- 0.1.8.0
- 0.1.9.0
- 0.1.9.1
- 0.1.9.3
- 0.2.0.0
- 0.2.0.1
- 0.2.0.2
- 0.2.0.3
- 0.2.1.0
- 0.3.0.0
- 0.3.0.1
- 0.3.0.2
- 0.3.0.3
- 0.3.0.4
- 0.3.0.5
- 0.3.0.6
- 0.3.0.7
- 0.3.0.8
- 0.3.0.9
- 0.3.1.0
- 0.3.2.0
- 0.3.2.1
- 0.3.3.0
- 0.3.3.1
- 0.3.3.2
- 0.3.3.3
- 0.3.3.4
- 0.4.0.0
- 0.5.0.0
- 0.6.0.0
- 0.6.1.0
author: ''
latest: 0.6.1.0
description-type: markdown
description: |
  # Registry [![Hackage](https://img.shields.io/hackage/v/registry.svg)](https://hackage.haskell.org/package/registry) [![Build Status](https://github.com/etorreborre/registry/workflows/CI/badge.svg)](https://github.com/etorreborre/registry/actions)


  [![Join the chat at https://gitter.im/etorreborre/registry](https://badges.gitter.im/etorreborre/registry.svg)](https://gitter.im/etorreborre/registry?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)

  ##### *It's functions all the way down* <img src="https://raw.githubusercontent.com/etorreborre/registry/main/doc/images/unboxed-bottomup.jpg" border="0"/>

  #### Presentation

  This library provides a data structure, a "Registry", to control the creation of functions from other functions. You can use this technique to:

   - create applications out of software components ("dependency injection")
   - fine tune encoders/decoders (see the [`registry-aeson`][registry-aeson] and the [`registry-messagepack`][registry-messagepack] projects)
   - create composable data generators for nested datatypes (see the [`registry-hedgehog`][registry-hedgehog] and the [`registry-hedgehog-aeson`][registry-hedgehog-aeson] projects)

  You can watch a video presenting the main ideas behind the library [here](https://skillsmatter.com/skillscasts/12299-wire-once-rewire-twice).

  The following sections introduce in more details the problem that this library is addressing, the concepts behind the solution and various use-cases which can arise on real projects:

   1. [what is the problem?][motivation]
   1. the concept of a [Registry][registry] and the resolution algorithm
   1. how does this [compare to monad transformers and effects](https://github.com/etorreborre/effects)?

  #### Tutorials

   1. tutorial: use a `Registry` to create [applications][tutorial] and define components
   1. use a `Registry` to compose [Hedgehog generators][generators]
   1. [workshop][workshop]: implement your own simplified registry and understand the basic concepts behind it

  #### How-tos

   1. how to [install this library][install]?
   1. how to do [mocking][mocking]?
   1. how to [specialize some values in some contexts][specialize]?
   1. how to [control effects][caching] occurring when creating a component (like a connection pool)?
   1. how to [allocate resources][resources] which must be finalized?
   1. how to [extract a dot graph from the registry][dot] in an application?
   1. how to [interact with a library using monad transformers](https://github.com/etorreborre/registry/blob/master/test/Test/Data/Registry/MonadRandomSpec.hs)?
   1. how to [remove boilerplate][boilerplate] due to parameter passing?
   1. how to [create a typeclass from a record of functions][typeclass]?
   1. how to [read type errors][errors]?

  #### Reference guides

   1. [main operators and functions][reference]
   1. [implementation notes][implementation]


  [motivation]: http://github.com/etorreborre/registry/blob/main/doc/motivation.md
  [registry]: http://github.com/etorreborre/registry/blob/main/doc/registry.md
  [tutorial]: http://github.com/etorreborre/registry/blob/main/doc/tutorial.md
  [applications]: http://github.com/etorreborre/registry/blob/main/doc/applications.md
  [mocking]: http://github.com/etorreborre/registry/blob/main/doc/applications.md#integration
  [install]: http://github.com/etorreborre/registry/blob/main/doc/install.md
  [specialize]: http://github.com/etorreborre/registry/blob/main/doc/applications.md#context-dependent-configurations
  [caching]: http://github.com/etorreborre/registry/blob/main/doc/applications.md#caching
  [resources]: http://github.com/etorreborre/registry/blob/main/doc/applications.md#resources
  [dot]: http://github.com/etorreborre/registry/blob/main/doc/dot.md
  [boilerplate]: http://github.com/etorreborre/registry/blob/main/doc/boilerplate.md
  [typeclass]: http://github.com/etorreborre/registry/blob/main/doc/typeclass.md
  [generators]: http://github.com/etorreborre/registry-hedgehog/blob/main/doc/tutorial.md
  [registry-hedgehog]: http://github.com/etorreborre/registry-hedgehog
  [registry-messagepack]: http://github.com/etorreborre/registry-messagepack
  [registry-aeson]: http://github.com/etorreborre/registry-aeson
  [registry-hedgehog-aeson]: http://github.com/etorreborre/registry-hedgehog-aeson
  [reference]: http://github.com/etorreborre/registry/blob/main/doc/reference.md
  [implementation]: http://github.com/etorreborre/registry/blob/main/doc/implementation.md
  [errors]: http://github.com/etorreborre/registry/blob/main/doc/errors.md
  [workshop]: https://github.com/etorreborre/registry-workshop
license-name: MIT
