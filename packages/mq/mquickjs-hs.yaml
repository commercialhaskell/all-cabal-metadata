all-versions:
- 0.1.2.4
author: Sam Balco, Adrian Sieber
basic-deps:
  aeson: '>=2.0 && <2.3'
  base: '>=4.11 && <5'
  bytestring: '>=0.10 && <0.13'
  containers: '>=0.5 && <0.8'
  exceptions: '>=0.8 && <0.11'
  inline-c: '>=0.5 && <0.10'
  mtl: '>=2.2.2 && <2.4'
  scientific: '>=0.3.5 && <0.4'
  string-conv: '>=0.1.2 && <0.3'
  text: '>=1.2.0 && <2.2'
  time: '>=1.8 && <1.14'
  transformers: '>=0.5 && <0.7'
  unliftio-core: '>=0.1 && <0.3'
  unordered-containers: '>=0.2.8 && <0.3'
  vector: '>=0.12 && <0.14'
changelog: |
  # Changelog for mquickjs-hs

  ## 2026-01-14 - 0.1

  * Initial implementation based on
    [quickjs-hs](https://github.com/haskell-github-trust/quickjs-hs)
changelog-type: markdown
description: |
  # mquickjs-hs

  This package provides a Haskell wrapper for the [Micro QuickJS](https://github.com/bellard/mquickjs) JavaScript Engine.
  It has been inspired by the [quickjs-rs](https://github.com/theduke/quickjs-rs)
  and [ocaml-quickjs](https://github.com/dhcmrlchtdj/ocaml-quickjs) libraries.


  ## Features

  The functionality is quite basic and is currently limited to:
  - Evaluating JS code
  - Calling a JS function in the global scope
  - Marshalling [Aeson Values](https://hackage.haskell.org/package/aeson-1.5.3.0/docs/Data-Aeson.html#t:Value)
      to and from JSValues.


  ## Examples

  Evaluate an expression:

  ```hs
  import MQuickJS

  one_plus_two = mquickjs $ do
    res <- eval "1+2"
    liftIO $ print res
  ```

  Declare a function and call it on an argument:

  ```hs
  call_f = mquickjs $ do
    _ <- eval_ "function f(x) { return x + 1; }"
    res <- eval "f(2)"
    liftIO $ print res
  ```

  Pass a Haskell value
  (which has a [ToJSON](https://hackage.haskell.org/package/aeson-1.5.3.0/docs/Data-Aeson.html#t:ToJSON) instance)
  to the JS runtime:

  ```hs
  aeson_marshall = mquickjs $ do
    _ <- eval_ "function f(x) { return x + 1; }"
    res <- withJSValue (3::Int) $ \x -> call "f" [x]
    liftIO $ print res
  ```


  ## Contributing

  Please feel free to report bugs/submit feature requests via the
  [github issue tracker](https://github.com/ad-si/mquickjs-hs/issues)
  and submit any pull requests to the
  [git repository](https://github.com/ad-si/mquickjs-hs/).
description-type: markdown
hash: 24a0ebbe6eb6ec3b6a85619cc1adcd15246df425552bfee5450cb0b6002604e8
homepage: https://github.com/ad-si/mquickjs-hs#readme
latest: 0.1.2.4
license-name: MIT
maintainer: haskell@ad-si.com
synopsis: Wrapper for the Micro QuickJS JavaScript Engine
test-bench-deps:
  HUnit: '>=1.6.0.0'
  QuickCheck: '>=2.9'
  aeson: '>=0'
  base: '>=0'
  exceptions: '>=0'
  mquickjs-hs: '>=0'
  tasty: '>=1.0'
  tasty-hunit: '>=0.10'
  tasty-quickcheck: '>=0.9'
  text: '>=0'
  unordered-containers: '>=0'
  vector: '>=0'
