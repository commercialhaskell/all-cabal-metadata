all-versions:
- '0.4'
- '0.5'
- '1.0'
- 1.0.1
- '1.1'
- 1.1.1
author: Alex Suraci <suraci.alex@gmail.com>
basic-deps:
  CouchDB: '>=0'
  HUnit: '>=0'
  HsOpenSSL: '>=0'
  SHA: '>=0'
  aeson: '>=0'
  base: '>=4 && <5'
  base64-string: '>=0'
  blaze-builder: '>=0'
  blaze-html: '>=0.5 && <0.7'
  blaze-markup: '>=0'
  bytestring: '>=0'
  containers: '>=0'
  darcs: '>=2.8.4 && <2.9'
  directory: '>=0'
  filepath: '>=0'
  harp: '>=0'
  hashed-storage: '>=0'
  highlighting-kate: '>=0'
  hsp: '>=0.7.3 && <0.8'
  http-conduit: '>=0'
  json: '>=0'
  mime-mail: '>=0'
  mtl: '>=2 && <2.2'
  old-locale: '>=0'
  old-time: '>=0'
  pandoc: '>=1.10 && <1.12'
  pcre-light: '>=0'
  process: '>=0'
  pureMD5: '>=0'
  random: '>=0'
  redis: '>=0'
  safe: '>=0'
  snap-core: '>=0.8 && <0.10'
  snap-server: '>=0.8 && <0.10'
  split: '>=0'
  ssh: '>=0.3'
  system-uuid: '>=0'
  text: '>=0'
  time: '>=0'
  utf8-string: '>=0'
  webdriver: '>=0'
  xhtml: '>=0'
  xml: '>=0'
changelog: "# All changes by release\n\n\n## darcsden 1.1.1 (2015/4/22)\n\n  * require
  ssh 0.3+ to avoid a vulnerability\n\n## darcsden 1.1 (2013/07/20)\n\n  * finalise
  docs some more\n  * bump hsp dependency to the ghc 7.6 compatible version\n  * speed
  up user list on front page\n  * add missing web app files to cabal file\n  * consistent
  heading\n  * add missing web app files to cabal file\n  * update contributing/credits
  in the readme\n  * disable repo packing with darcs 2.8 to fix a build problem\n
  \ * depend on darcs 2.8.4+ or darcs 2.9+\n  * add missing modules to cabal file\n
  \ * bump version to 1.1\n  * finalise changelog\n  * finalise announcement\n  *
  add \"built\" in footer\n  * auto2 target, workaround for running dev builds as
  right user\n  * update 1.1 announcement\n  * changelog update\n  * small clarifications
  to register screen\n  * note the -E required to preserve env vars with sudo\n  *
  Remove charset parameter from mime if present\n  * Add test for edit/add file\n
  \ * Put the codemirror object into window\n  * Add ability to create files\n  *
  Resolve ambiguty of edit button, by\n  * Add instructions for running tests\n  *
  Add tests for Github OAuth, and \n  * Give more appropriate test failure messages\n
  \ * Add test for google sync\n  * Add test for google login\n  * Add test for creating
  account using google\n  * When resetting state, remove userDir only if it exists\n
  \ * Reset state before running create user test\n  * Add function to reset redis
  and couchdb states \n  * Move couchdb datbase creation from WebServer to State Util\n
  \ * Basic test for darcsden,\n  * Cabal entry for darcsden-test\n  * Configuration
  instructions for OAuth, Forgot Password, and File Edit\n  * Add xdgMimePath to Settings,\n
  \ * If xdg-mime fails somehow, default mime to text/plain\n  * Remove carriage returns
  before saving the file in file edit\n  * Edit link when browsing a file will direct
  to edit file\n  * Add repoBase', which allows custom pagenav\n  * Create a page
  for edit file feature\n  * Import codemirror 3.14 for edit file feature\n  * Add
  the javascript to load codemirror editor into the edit file page\n  * Add css rules
  for proper alignment of the editor form\n  * Create handlers for edit file\n  *
  markdown line break, test through the web editing\n  * depend on newer ssh which
  builds with latest libs\n  * add CHANGES.md showing all changes by release\n  *
  1.1 announcement WIP\n  * update author spellings to improve darcs show authors\n
  \ * tools: a place to configure OAuth env vars for dev build\n  * display \"DEV\"
  not \"DEBUG\" for developer builds\n  * set version back for a bit, 1.1 release
  delayed\n  * Use updated session variables if redirecting to register\n  * Give
  option to build packs in repository settings page, and\n  * Add a handler for creating
  packs to a repository\n  * Initialize rBuiltPacks to Nothing when creating a repository\n
  \ * Add a field to the Repository model indicating the last time packs was built\n
  \ * Show a current password field in user settings only if the user has a password\n
  \ * Insist on old password when changing passwords only if the account has a password\n
  \ * Change OAuth access functions to use http-conduit\n  * Use the new OAuth paths
  in user handlers\n  * Change OAuth paths to use http-conduit\n  * Switch to http-conduit
  instead of http-streams\n  * Remove ghc option threaded from executable darcsden\n
  \ * Resolve conflict between branches\n  * Add buttons for OAuth functions to the
  pages\n  * Add handlers for OAuth registration, login, and link\n  * Add a variable
  for oauth reg to Session\n  * Add OAuth utility functions, which:\n  * Update darcs
  import to match the latest API of screened\n  * Start OpenSSL when starting the
  webserver \n  * Add names of the environment variables storing OAuth app authentication
  to\n  * Add dependencies HSOpenSSL, network, http-streams for OAuth feature\n  *
  Create HSPages for forgot password feature, and\n  * Add handlers for Forgot password
  feature\n  * Add mime-mail to darcsden's dependency list for sending mails\n  *
  Add utility functions for forgot password:\n  * Add settings sendEmail, and sendName.
  You should be able to\n  * return the updated session with setUser\n  * Add OAuth
  identities to User feild, and add utility functions\n  * Change user handlers to
  the new password field\n  * Change the password fields of the user, so  that they
  are optional\n  * Load repository page after logging in\n  * bump version and tested-with\n
  \ * tools: fix http port option\n  * fix blaze-html warning, clarify dependency\n
  \ * fix WebServer warning\n  * tools: use current ghc for dev builds, add ghci rule,
  don't use dev darcs/ssh by default\n  * support current blaze-*\n  * support/require
  pandoc 1.10+\n  * document a couple of arguments to patches\n  * stop Snap being
  verbose when running as a service\n  * specify imports\n  * conditionalise Windows
  service\n  * document darcsden on Windows\n  * document new options\n  * renamed
  Win32-services-utils package\n  * run as service\n  * more debug utils\n  * recognise
  OWNER/repo path in some case or other\n  * add tested-with to cabal file\n  * more
  updates for latest darcs\n  * log accesses to ./access.log not console with a dev
  build\n  * require newer ssh (#46)\n  * we don't support pandoc 1.10 yet\n  * tools:
  build all of darcsden, darcs and ssh in dev builds, for easier debugging\n  * update
  for latest darcs\n  * Rename repositories when forking, if neccessary\n  * Support
  for Vagrant\n  * getUsersWithRepos placeholder\n  * old: disable hard-coded assignment
  & issue type fields, don't want to encourage enhancement issues right now\n  * support/require
  blaze 0.5\n  * check security question answer case-insensitively\n  * drop some
  debug helpers now in the lib\n  * 29: disconnect after ssh/scp to a bad path\n  *
  28: when forking, handle an existing private repo with the same name properly\n
  \ * 28: make bootstrapRepository less likely to put fs and db out of sync\n  * make
  most headings bold again, I guess it is better\n  * plain text readmes (and literal
  blocks in change notes) no longer have the gray bg & border\n  * hide branches button
  when there are no forks\n  * add bootstrap responsive design (width-adapting) styles,
  commented\n  * front page: widen users column to reduce overlap in narrow windows\n
  \ * reduce source code font size a notch\n  * show a border below file list; drop
  unnecessary readme heading\n  * reduce heading sizes back towards normal browser
  defaults\n  * set body font-size to 100% not 16px to respect browser settings better
  (per donri)\n  * more robust layout of front page content and markdown lists generally\n
  \ * roll back some accidentally committed hunks\n  * branches: use the \"name's
  repo\" format like all repos\n  * changes: prevent line breaks in author name too\n
  \ * consistent change layout on changes and branches pages\n  * drop unnecessary
  changes page header\n  * use consistent style for next/prev buttons\n  * all repos:
  whitespace fix\n  * all repos: link \"forks\" to the parent repo's branches page
  as a convenience\n  * all repos: show page controls at top also; increase page size
  from 50 to 500\n  * don't show page controls if there is only one page\n  * don't
  buttonize forks on branches page\n  * another page layout: content at left, repo
  buttons at right, site buttons at top right (#16)\n  * don't bother linking reporter
  name in issue list\n  * use tables for more robust issue list layout with long issue
  names\n  * allow prettier monospace font in markdown areas\n  * let wide source
  code overflow to right as before\n  * fix line numbers wrapping, enlarge & lighten
  source code\n  * fix issue form bg color\n  * don't gray out repo description\n
  \ * make issue page revise form layout a little more robust\n  * lighten issues
  list\n  * lighten branches list\n  * fix branches page title\n  * fluid page layout
  using bootstrap columns (#16)\n  * lighten form styles\n  * lighten headings\n  *
  demote some more h1s I missed\n  * begin using bootstrap's grid for page layout\n
  \ * adjust button icon alignment\n  * make hyperlinks (other than main navigation
  links) blue\n  * bump footer font size\n  * where can I put this.. expose global
  layout more\n  * drop the monospace font !\n  * consistent non-dotted borders\n
  \ * drop excess heading line height\n  * use bootstrap's default font family & size\n
  \ * restore patch page subheader\n  * demote patch section headings and branch names
  to h3\n  * more compact non-heading style for changes, issues, and patch file names\n
  \ * change secondary page headings to h2\n  * remove dead code\n  * keep bootstrap's
  pagination styles out of our pagination controls, minor cleanups\n  * enable bootstrap
  css/js along with the rest\n  * add bootstrap css/js to project\n  * bump version
  description in footer\n  * switch to 8901 for default dev instance port\n  * include
  highlight.css only when built with highlighter\n  * move javascripts back to the
  top, order matters\n  * drop media=screen for consistency, till there's a clear
  need\n  * move js scripts to end of page\n  * bump jquery to latest release\n\n##
  darcsden 1.0-hub (2012/09/19)\n\n  * sync with latest docs/cabal file from 1.0\n
  \ * port the alternate highlightingkate/highlighter flags from 1.0\n  * switch highlighting
  theme from kate to pygments\n  * remove disabled font size styles\n  * hcar participants
  update\n  * move repos below users on the front page for now as suggested\n  * Give
  better errors on SSH command misuse\n  * Give better error on missing SSH key\n
  \ * bring HCAR up to date\n  * bring draft announcement up to date\n  * fix numbered
  list style in markdown\n  * doMarkdown variant that doesn't escape html\n  * clarify
  fixEscapes\n  * remove unnecessary import from Base\n  * indent list items in markdown\n
  \ * add moz and opera transition styles as for webkit\n  * remove obsolete browser
  prefixes on border-radius, box-shadow styles\n  * disable 36 of 40 font size adjustments,
  simplifying styling\n  * remove unused .error class\n  * unnecessary inline style\n
  \ * settings cleanup\n\nThe darcsden 1.0 and 1.0.1 releases diverged from this branch,
  here\nare their approximate change logs:\n\n> ## darcsden 1.0.1 (2012/09/20)\n>
  \n>   * bump version\n>   * readme/release note links for hackage\n>   * point to
  1.0 source repo\n>   * restore missing highlightingkate/highlighter flags\n>   *
  update HCAR\n> \n> ## darcsden 1.0 (2012/09/15)\n> \n>   * final 1.0 docs\n>   *
  latest draft of cabal file from hub branch\n>   * latest draft of release docs from
  hub branch\n>   * fix numbered list style in markdown\n>   * replace \"highlighting\"
  flag with \"highlightingkate\" (default) and \"highlighter\", to select one or other\n>
  \  * indent list items in markdown\n>   * add moz and opera transition styles as
  for webkit\n>   * remove obsolete browser prefixes on border-radius, box-shadow
  styles\n>   * fix Control.Monad.Trans warning\n>   * available patches -> branches
  button\n>   * shorten explore button name\n>   * revert many UI style changes from
  darcsden-hub branch, restoring \"square\" style\n\n## darcsden-hub/-1.0 fork\n\n
  \ * create a repo -> new repo button\n  * render markdown files to html instead
  of highlighting them\n  * extract isMarkdown\n  * don't show non-viewable private
  branches in branches view\n  * try a little whitespace separating repo \"view\"
  and \"action\" buttons\n  * try \"branches\" instead of \"available patches\" button\n
  \ * list all related repos on the patches page, even with nothing to merge\n  *
  make Fork showable for debugging\n  * small refactor in repoPatches\n  * getForkChanges
  formatting\n  * allow repo members to merge patches\n  * add owst to credits\n  *
  simplify flags description\n  * clarify draft status of release announcement\n  *
  add build flags to makefile\n  * fix compilation warnings\n  * Abstract out forked-from
  string generation. Now use it on users' repo listings\n  * Fix build against current
  screeened darcslib\n  * Fix build error due to missing definition of frontPageContent\n
  \ * cabal file updates\n  * readme, announce updates\n  * move db hosts/ports to
  Settings.hs\n  * drop --readme option\n  * tweak default settings\n  * update release
  notes\n  * re-enable new issue form's assignment and type fields in default build\n
  \ * draft 1.0 announcement, in progress\n  * add .authorspellings to clean up darcs
  show authors\n  * streamline front page layout, compress user/repo lists a little\n
  \ * code cleanup\n  * tweak patch timeout error msg\n  * show an error message on
  the patch page if fetching the patch times out\n  * show the patch page right away,
  and the patch data when it's ready\n  * fix compilation issues\n  * potential fix
  for #12 - private repos being darcs gettable\n  * set up the db view for browsing
  issues by tag\n  * don't bother logging the full request in error log even in DEBUG
  mode\n  * fix compilation warnings\n  * drop unnecessary curly braces in cabal file\n
  \ * fix cabal build failure when ssh is enabled\n  * update error message humanisations\n
  \ * add compile-time flag to control auto-closing of issues\n  * add a flag to enable
  the ssh server\n  * add flag to enable highlighting\n  * use DARCS28 flag for subsidiary
  executables too\n  * darcs 2.8 build fixes\n  * fix favicon\n  * fix clipped file/folder
  icons in files list\n  * fix reversed file order in patch summary\n  * 10: fix patch
  view hunk reverse-order regression\n  * 7: give a proper 404 when viewing a nonexistent
  patch id\n  * disable h-k's blue .fu style that is mysterious in haskell source\n
  \ * increase readme font size\n  * let long source lines overflow right if they
  want\n  * reorganise styles a bit\n  * switch to \"kate\" highlighting theme\n  *
  increase source code font size\n  * /delay/SECS route for testing timeouts, prints
  a message after the specified delay up to 300s\n  * more user-friendly error messages\n
  \ * enable line anchors in highlighted source\n  * \"patches from others\" -> \"available
  patches\", fix button alignment\n  * takeUpTo cleanups\n  * elide large patches;
  reduce max request time to 10s and max file/patch display size to 200K\n  * import
  both highlighting libs, make it easy to switch between them for testing\n  * sync
  with latest darcs-screened\n  * Darcs.Util renamed to Darcs.Util in latest darcs
  (respects DARCS28)\n  * move log files to a subdirectory\n  * keep user files in
  a subdirectory\n  * fix a warning\n  * Fix missing whitespace on replace summary\n
  \ * Remove extra whitespace\n  * fix markdown pre/code block colours, second attempt\n
  \ * fix h-k styles interfering with markdown code blocks\n  * keep line numbers
  aligned with highlighted lines\n  * add the remaining h-k styles, use tango\n  *
  add some more highlighting-kate styles, use \"pygments\" for now\n  * use same source
  code font size in changes\n  * simplify highlighting error handling, let it render
  binary since it seems able\n  * bump source code font size a bit\n  * mention utf8-string
  dependency\n  * begin switch from highlighter to highlighting-kate\n  * Fix background
  overflow on code blocks\n  * Fix merging upstream patches\n  * Fix indenting on
  withParent\n  * Make /patches link active on forked repos\n  * Show upstream changes
  on /patches\n  * latest developer makefile\n  * make request timeout a setting\n
  \ * 6: show logged-in users their private repos\n  * refactor error pages, use same
  layout for 404, intentional 500, and exceptions\n  * move exception handler's error
  page to WebUtils with the rest\n  * move db schemas to their own module\n  * give
  a prettier error page (and log message) when exceptions happen. First cut.\n  *
  adjust darcs-screened api options following chat with gh\n  * build with latest
  darcs-screened, if the on-by-default \"darcs28\" cabal flag is turned off\n  * fix
  issue tracker flag warning in SSHServer\n  * hide repo settings issue tracker checkbox
  when when issue trackers are disabled globally\n  * alphabetise users\n  * make
  page heading more consistent when browsing files\n  * explore -> all repos button\n
  \ * refactor issues button\n  * reword the patches button and gray it out when there
  are no forks\n  * add an \"all issues\" view, keep issue view buttons visible\n
  \ * rounded button corners\n  * tweak my repos, settings button icons\n  * set NOINDEX
  meta tag on patch and misc. form pages to discourage search indexing\n  * \\#3:
  show a message instead of an error when browsing a file that can't be highlighted
  (eg images)\n  * switch to underlining links by default\n  * clarify renderHtml's
  source, import debug helpers\n  * switch order of private and issue tracker checkboxes
  in repo settings\n  * underlink links in issues\n  * switch fork and issues buttons,
  keeping views and actions grouped\n  * make the issue comment form consistent\n
  \ * fix clipping of issue comment headings\n  * remove hard-coded issue assignment,
  type fields for now\n  * let issue trackers be enabled/disabled per-repo\n  * issues
  need the by_repository_and_number view now, update the db designs accordingly\n
  \ * when issues trackers are disabled disable url handlers as well\n  * add a \"my
  repos\" button when logged in\n  * drop cabal build flags since you have to edit
  Settings in any case\n  * add DEBUG to version string in footer for debug builds\n
  \ * clearer elided message when viewing a patch with many hunks\n  * Fix DSA public
  key identifier.\n  * partial workaround for errors viewing too-large patches\n  *
  README updates\n  * footer layout; underline links there and in a few other places\n
  \ * move type signatures to the end of settings, and log everything to console in
  debug mode\n  * add a footer with version and contact info, and debug build options,
  to settings\n  * more messing around with changes font sizes\n  * fix excessive
  borders in lists in patch notes, keep patch list font size consistent\n  * increase
  maxlength of input fields to 1000\n  * serve a /robots.txt, allowing all bots by
  default\n  * build unthreaded by default, to avoid intermittent errors and eventual
  stylesheet loss due to non-threadsafe cwd setting by libdarcs\n  * serve the public
  directory with an absolute path to be robust against thread cwd issues\n  * move
  log file paths to Settings\n  * don't hide fork/patches buttons in single-user builds\n
  \ * fix display of non-user patch authors with no real name part, showing email
  address up to @\n  * replace patch author email addresses with usernames more reliably,
  eg in changes\n  * make user list bold, again\n  * keep log in/out buttons on one
  line\n  * underline hyperlinks in the front page intro text\n  * de-bold website
  links in repo list\n  * show create repo button only on the user's own repo list\n
  \ * smoother change borders\n  * show repo website link with consistent style\n
  \ * underlined hyperlinks, begone\n  * embolden user list, directories in files
  view\n  * lighten explore page styles\n  * add a files button to repo sidebar\n
  \ * miscellaneous old and new style tweaks.. site font, whitespace, emphasize repo
  & patch names\n  * improve pagination controls layout, show at top as well\n  *
  less whitespace and decoration for changes and markdown content\n  * disable the
  bootstrap feature, it is too slow/fragile  for now\n  * make user page repo links
  absolute so they work when url has a trailing slash\n  * show create repo button
  only when logged in\n  * move explore repos button to the front page only\n  * move
  create repo link to a sidebar button\n  * don't hide the front page from logged-in
  users\n  * fix setting TCP port on the command-line\n  * three cabal build flags
  for personal use (multiuser, deletefiles, issuetrackers)\n  * list users on front
  page\n  * make breadcrumbs' site link and front page content configurable\n  * make
  hostname, base path and base url configurable in Settings.hs\n  * clean up cabal
  file a little, forget about ghc 6.12\n  * fix remaining warnings\n  * fix redundant
  imports\n  * fix more Snap.Types warnings\n  * fix a snap types warning\n  * make
  text fields bigger\n  * fix redirect after merging\n  * extract global Settings.hs\n
  \ * centralise userRoot setting and change it to /home/darcsden\n  * provide debug
  helpers from DarcsDen.Util\n  * allow latest snap (0.9)\n  * require darcs > 2.8.1
  (with prim v1 job patch)\n  * bump version to \"0.6 alpha\"\n  * support latest
  GHC, darcs, and snap, aggregating previous work\n  * discourage spam registrations
  with a security question similar to darcs wiki\n  * disable browser autofill on
  register form fields\n  * fix emailFrom with blank author info\n\n## darcsden 0.5
  (2012/04/14)\n\n  * version 0.5\n  * ignore LC_* env var set requests\n  * add initial
  high-level darcslib wrapper\n  * add favicon png\n  * constrain snap version number\n
  \ * cabal file version updates\n  * updates for latest darcs/blaze-html/snap\n  *
  PostHook.hs takes into account the case where the repository is private\n  * a less-scary
  error message when $DARCS_PATCHES_XML isn't set\n  * use `get` for forking and bootstrapping
  rather than `init` and `pull`\n  * added getOneOf for getting alternative attributes
  (i.e. if one was renamed); fixes changes made in an issue comment that changed something
  to an empty value\n  * allow obliterate over ssh\n  * allow scp -f without --\n
  \ * footer cleanups; added a donate button\n  * sort in alphabetical order at /explore\n
  \ * corrected user name displayed in issue body\n  * oi. really corrected commenting.
  note to self: don't read other things while I'm typing.\n  * corrected commenting\n
  \ * bump up font size for inline code in markdown\n  * correct double-escaping\n
  \ * show issue number in page title\n  * use issue number for its URL. closes #9.\n
  \ * viewing issues by tag; use ^ for \"and\" and ~ for \"or\". closes #1.\n  * keep
  track of \"from\" values in comment changes\n  * allow revising an issue's description.
  closes #3.\n  * minor change, again to test post-hooks (use strip in authorFrom).
  closes #5 (not really).\n  * corrected post-hook\n  * tiny meaningless change so
  I can test the closing mechanism. closes #5.\n  * corrected getIssueByNumber\n  *
  add comments for closing issues. closes #5.\n  * allow a few other phrases for post-hook\n
  \ * added initial post-hook for closing issues\n  * list issues with newest up top\n
  \ * corrected double shadow in blob view\n  * woops; save issue numbers\n  * a few
  defaults for some state object fields\n  * update the \"updated\" field when updating
  an issue\n  * issue numbers + some cleanups\n  * use getAttr for other state objects,
  added getAttrOr/getTime/getID/getRev\n  * list issues in reverse-chronological order\n
  \ * corrected comment author name\n  * slight tweak for add-tag form\n  * spruced
  up the new-issue form, implemented adding arbitrary tags\n  * corrected issue closing,
  added reopening\n  * correct issue comment gravatar sizes\n  * sort issues and their
  comments by their updated date\n  * properly escape text before markdown'ing it\n
  \ * any logged-in user can update issues\n  * css fixes\n  * --install now sets
  up issues and comments databases\n  * initial work on issue commenting/updating\n
  \ * added getAttr helper for reading a value from a JSON object\n  * normalize line
  endings before using pandoc for markdown\n  * rMember record field is now a list
  of usernames, not user IDs (any repositories with members must be updated to reflect
  this)\n  * don't set uid/gid/ just start it as the user\n  * password changing\n
  \ * ensure we're only bootstrapping http/https urls, corrected `Or' validation,
  and added isEmpty validator\n  * init ssh command with a given repository description\n
  \ * cleanups\n  * shrunk the favicon a bit\n  * added favicon\n  * correct $PATH
  for darcsden god config\n  * corrected SSH authorization, and log login attempts\n
  \ * added god file\n  * hspygments -> highlighter, cleaned up DarcsDen.Handler.Repository.Util\n
  \ * issues system updates\n  * use hspygments and text for highlighting and bytestring
  <-> string conversion, respectively\n  * progress on the issues system, plus some
  cleanups\n  * orphan a repository's forks when deleting it\n  * /forks -> /patches,
  removed console.logs, plus other fixes to make /patches usable\n  * improved checkbox
  ticking in forks view\n  * corrected repo links being shadowed by the canvas\n  *
  updated boringfile\n  * update to darcs 2.5.1+, mtl, and snap 0.3+, correcting forks
  view along the way (thanks Heffalump!)\n  * cleaned up main.js\n  * cleaned up findAllDeps/etc.;
  removed HiddenFrom\n  * removed QuickCheck dependency\n\n## darcsden 0.4 (2010/12/20)\n\n
  \ * updated synopsis\n  * updated description\n  * added Setup.hs, version bumped
  to 0.4, bumped cabal-version\n  * corrected non-markdown READMES getting the white-on-black
  treatment\n  * don't check DBs for --readme or --install, and just generate a README
  from --readme\n  * added a note to the README about --readme\n  * moved INSTALL
  file to a --readme flag\n  * added --install, which sets up CouchDB for you\n  *
  tweaked location for keypair\n  * UI tweaks\n  * use new rsaKeyPairFromFile function
  in ssh 0.2.5 rather than convoluted .keypair format\n  * corrected login button
  background CSS\n  * /browse -> /explore, added button for it, and changed the main
  links to the button-style\n  * corrected repository grouping at /browse\n  * corrected
  changes list when there's a `darcs replace` log\n  * highlight patch hunks in parallel\n
  \ * big ol' code style update\n  * reorganization & cabal file cleanups\n  * need
  ssh 0.2.4+\n  * removed unused variable\n  * corrected highlighting of source code
  containing utf8\n  * atomo pygments lexer updates\n  * corrected pygments highlighter;
  kills runaway processes\n  * added Atomo lexer for pygments\n  * corrected fallback
  highlighting\n  * use Pygments for highlighting\n  * slight forks list correction\n
  \ * /browse corrections; show forks of forks on their own for now\n  * teeny tiny
  tweak\n  * bumped ssh dependency to 0.2.2, which uses transformers\n  * moved repository
  control links over to the left\n  * reorganized breadcrumb for file browsing\n  *
  group repository forks together at /browse\n  * split the darcsden ssh server into
  another executable, plus misc. cleanups\n  * improved scp security\n  * use SHA512
  for passwords\n  * specify /srv/darcs for http logs\n  * don't allow any tomfoolery
  with the scp path\n  * corrected response for unknown requests, bumped ssh dependency
  number\n  * ignore LANG env requests\n  * handle scp requests\n  * allow debug commands\n
  \ * removed Crypto and uuid dependency\n  * updated darcs dependency version\n  *
  split SSH server into its own package: http://darcsden.com/alex/ssh\n  * bumped
  up snap versions\n  * output invalid requests\n  * ensure that redis/couchdb are
  usable at startup\n  * use 127.0.0.1 rather than localhost\n  * corrected notifications
  added during same response that shows the page\n  * Corrected empty repository logic
  and fixed whitespace.\n  * Corrected Python import in INSTALL file.\n  * More INSTALL
  file stuff.\n  * Updated INSTALL file.\n  * Only show the \"remove members\" field
  if there are members to remove.\n  * Show 404 pages rather than warnings for invalid
  repository views.\n  * Show different messages with the proper push URLs when vieweing
  an empty repository.\n  * Fixed SSH stuff using getRepository rather than getOwnerRepository.\n
  \ * Fixed repository viewing logic.\n  * Members of private repositories can now
  access the repository.\n  * Ability to edit repository private status.\n  * Tweaked
  icon positioning for private repositories in user repo list.\n  * Added repository
  public/private classes to user repository listings.\n  * Don't include private repositories
  in getRepositories.\n  * Fixed .private-repo class showing edit icon, tweaked icon
  positioning.\n  * Save rIsPrivate as is_private in JSON Repository instance.\n  *
  Private repositories.\n  * Take HTTP/SSH port numbers as arguments.\n  * Fixed getRepositories.\n
  \ * Cleanups.\n  * Removed bin directory.\n  * Specify cookie path as /; fixes weird
  logged in/logged out state possibly changing while browsing around.\n  * Cleaned
  up DarcsDen's SSH request handling and verification; added init command for quick
  repository creation.\n  * Channel cleanups and helper functions.\n  * Use Redis
  for storing sessions.\n  * Removed ssOutSeq (no longer used), cleaned up a few minor
  warnings.\n  * Preemptively check if the handle is closed to prevent \"end of file\"
  messages.\n  * Might as well bump up the version number (twice; once for the Snap
  changeover, another for the new SSH server).\n  * Swapped a few lingering putStrLns
  that were used for debugging.\n  * Woops, added DarcsDen.Debug module.\n  * Converted
  print debugging statements to calls to a new DarcsDen.Debug.dump function.\n  *
  Tweaked saneRepo to catch more odd cases.\n  * Added KeyPair to SessionConfig for
  the server's private/public key.\n  * Removed redundant rprivN; it's always in the
  pubkey anyway.\n  * Removed CTR TODOs.\n  * Initial integration of the new SSH server
  into DarcsDen, removed old Python server.\n  * Tweaked PublicKey authentication
  to just contain a username and PublicKey.\n  * Generalized read functions into NetReader,
  added blobToKey, plus various cleanups.\n  * Added ssh-dss (DSA) public/private
  key support.\n  * Send random bytes as padding.\n  * Handle other AES key sizes.\n
  \ * Proper channel handling and reorganization to accomodate it.\n  * Made SSH more
  flexible; authentication and channel requests are now handled by a configuration.\n
  \ * Keep track of window size and send WINDOW_ADJUST when we need to so that gigantic
  data transfers work.\n  * Improved process I/O redirecting, fixed sending EOF in
  response to EOF, plus misc. cleanups.\n  * Print a message when we lose the connection.\n
  \ * Ensure packets are sent sequentially by having a single \"sender\" thread that
  reads from a channel. Also added initial exec channel request support.\n  * Naming
  convention tweaks for Packet monad and packet handlers.\n  * Fixed `unmpint` and
  `toBlocks` overflow.\n  * A much-needed cleanup.\n  * Cryptography overhaul; proper
  CBC stream decryption/encryption, and use Crypto package instead of AES.\n  * Initial
  SSH server work; transport layer (RFC 4253) functional.\n  * Added CouchDB to required
  packages list for darcs-ssh.py.\n  * Removed \"code\" class wrapping markdown patch
  notes.\n  * Markdown patch notes, removed patch notes from atom feed summaries.\n
  \ * CSS tweaks for repository READMEs.\n  * Fixed settings page.\n  * Added access/error
  logging.\n  * Fixed user viewing, this time keeping repository actions working.\n
  \ * Rolled back previous record since it breaks repo viewing instead.\n  * Fixed
  / and /(user) conflicting.\n  * Updated SSH server CouchDB URL.\n  * fixed CSS class
  for preference changes in summary\n  * No more warnings.\n  * Serve static files
  without grabbing the user's session.\n  * Fixed repository browsing, raw file viewing,
  and darcs get over HTTP.\n  * Minor fixes for Snap, bumped required Snap version
  to 0.1.3, and changed the CouchDB port to 5984.\n  * Initial Snap conversion work.\n
  \ * Fixed duplicates in patch summaries.\n  * Added initial structure for private
  repositories. Not enabled or complete yet.\n  * Tweaked ID for code lines; #L123
  looks nicer than #LC123 in urls.\n  * Fixed doubled title at user index.\n  * Fixed
  \"again\" text on registration form.\n  * Fixed viewing un-parseable source, and
  added clickable line numbers.\n  * Fixed source code leaving `highlight' unescaped
  if the parse fails.\n  * Refactored getReadme and added an isTooLarge function for
  checking blob source.\n  * Added a filesize check to blob viewing, and added raw
  file viewing.\n  * Fixed darcsden :: darcsden as title for /.\n  * Fixed a few warnings.\n
  \ * Fixed some spots where raw authors would be displayed for patches, and fixed
  repositories with no changes showing up at /forks.\n  * Small fixes in the ssh server.\n
  \ * Changed ssh server to run on a higher port number.\n  * Use python 2.x syntax
  for exception catching.\n  * More SSH server fixes and tweaks.\n  * Updated the
  SSH server a bit.\n  * Fixed full name in website field on settings page.\n  * More
  readJSON cleanups and tweaks.\n  * Fixed merge checkbox names, changed to merge:(rid):(pid).\n
  \ * Added initial installation instructions.\n  * Fixed main updated tag in changes
  atom feed, and changed PatchLogs to contain UTCTimes instead of Strings for pDate.\n
  \ * Added member stuff back in; stored per repository. Also cleaned up Repository.readJSON.\n
  \ * Added getUserByID.\n  * Grab the latest session when notifying the user of something
  so they don't just replace each other if more than one is displayed on a page.\n
  \ * Redirect to / after deleting a repository, rather than the user's profile.\n
  \ * Don't grab the session when we don't need to (e.g. /public). Also removed unneeded
  arguments from notFound and errorPage.\n  * Moved the user-grabbing parts of toLog
  into a separate function that goes over the log and checks users only if they haven't
  already been checked. (30 CouchDB requests per page in the changelog -> number of
  different users in the log)\n  * Fixed getRepositoryByID and repository forking.\n
  \ * Added old-time to cabal file (boo!), added a startup message so I don't sit
  there like a fool waiting for it to say something before I realize it doesn't, plus
  some more minor cleanups.\n  * Re-added bootstrapping.\n  * Grab forked repos much
  more effectively and less-crashingly. Also fixed some more whitespace quirks.\n
  \ * Cleaned up handler function.\n  * Fixed serveDirectory for /public.\n  * Lots
  of page serving tweaks.\n  * Re-added serveDirectory (without MIME stuff) for serving
  public/ and _darcs directories, and cleaned up Main.hs.\n  * Fixed double escaping
  and removed old commented-out code.\n  * Bumped the version number.\n  * Initial
  code for the rest of the repo pages, plus some helper functions for user/repo URLs.\n
  \ * Cleaned up and cabalized.\n  * Lots o' cleanups.\n  * Removed some more old
  unix stuff.\n  * Removed setRepoPermissions.\n  * Added submit button to init page.\n
  \ * Initial repo init and browse pages.\n  * Fixed stale session being passed to
  pages.\n  * Fixed settings form and tweaked register form for internal consistency.\n
  \ * Fixed User.showJSON\n  * Only update the session if it has notifications to
  wipe.\n  * Read the inputs and cookies once, and then store them in an Env. Fixes
  blocking on a second attempted input read.\n  * Expanded that debug info.\n  * Added
  base page wrapper around user pages.\n  * Fixed the nav showing the wrong stuff
  for logged in/logged out.\n  * Initial move to HSP and WAI, plus tons of other vaguely
  related stuff.\n  * Removed defunct Darcsden.State module.\n  * Initial conversion
  to CouchDB.\n  * Added initial SSH server.\n  * Added some styling for code in READMEs.\n
  \ * Show token replaces on patch views.\n  * show long comment on changes view\n
  \ * show long comment on patch view\n  * Dependency indicators at the forks listing.\n
  \ * Removed some debugging code.\n  * Added dependency information to id/classes
  in the fork log.\n  * Fixed up fork merging.\n  * Notices now return IO () instead
  of a new Session; the reason it was like that before no longer applies.\n  * Removed
  `merge' from the global scope in DarcsDen.State.User; it's only used in hashPassword.\n
  \ * DarcsDen.Validate.when -> DarcsDen.Validate.iff\n  * Added forks listing page,
  which lets repo admins bring in patches from forked repos.\n  * Fixed forkRepository
  setting the wrong information, and fixed the console help dialogue being wrong with
  \"exit\".\n  * refactor: gather instance declarations\n  * preliminary devmode setting,
  change this to run without creating users/groups\n  * refactor: gather settings
  in one place\n  * Show repo members with 'get group'.\n  * user -> owner\n  * Shell
  cleanups.\n  * Fixed a typo in the shell help dialogue.\n  * Fixed up admin shell
  stuff, and added unset command.\n  * Added user and repository editing to the admin
  shell.\n  * Reorganized some State stuff, and added an initial admin shell.\n  *
  Added MonadIO instance for Dirty.\n  * Forked repositories now keep a reference
  to the original. Also updated the User and Repository records to remove rUsers and
  uPubkeys, which are not used.\n  * Added pubkeys to the registration form, plus
  slight cleanups.\n  * Fixed checking if there are any repositories to show; show
  a message when viewing a user with no repositories.\n  * Ignore case when sorting
  repositories.\n  * HLint changes.\n  * Sort repositories at /browse by their name
  rather than their owner.\n  * Added public repository browsing.\n  * Kill the web
  server thread on shutdown. Helpful for debugging in GHCi.\n  * Fixed getting members
  of a repository.\n  * Fixed removeMember.\n  * Cleaned up Dirty usage and running
  shell commands.\n  * Compile with -threaded to avoid blocking system calls.\n  *
  New repositories can now be bootstrapped from a URL.\n  * Added a improved system
  of working with shell commands and error handling.\n  * Fixed others not being able
  to read public directories.\n  * Added a repository fixer.\n  * Change repository
  permissions so that others can read them.\n  * Removed DarcsDen.Data; no longer
  needed.\n  * workaround for \"no instance ToSElem ClockTime\" with ghc 6.10\n  *
  feeds: various fixes to make the changes feed more valid\n  * feeds: link to changes
  feed from repo and changes pages\n  * add \"extrahead\" field to the base template\n
  \ * feeds: fix repo name\n  * indentation\n  * provide a .../changes/atom feed\n
  \ * restore the Makefile with tag/clean/ci rules for cleaning/tagging/auto-recompiling\n
  \ * fix \"no instance ToSElem String\" with 6.10\n  * Removed the silly shell scripting
  in removeMember; use System.Posix again.\n  * Slight cleanups.\n  * Fixed empty
  file listings being shown.\n  * Ensure that darcsden is run as root.\n  * Replaced
  as many System.Cmd.system calls as possible with System.Posix usage.\n  * add missing
  ghc option in Data.hs\n  * adapt ghc-options to 6.10 also\n  * Added ghc-options
  to cabal file and removed Makefile.\n  * Fixed patch summaries.\n  * Initial cabalization.\n
  \ * Switched to HStringTemplate.\n  * Use Data.List.Split in State.Repository.\n
  \ * Heeded HLint.\n  * Hash group names.\n  * Oodles of icons.\n  * When forking
  and the target repository name is already in use by the user, ask for a different
  one.\n  * Removed chgrp hack; use setgid.\n  * Cleanups.\n  * Fixed up repository
  editing and renaming.\n  * Fixed getInputs breaking with empty fields.\n  * Notices
  will now re-grab the session to make sure nothing gets lost (e.g. repeated notices
  in a loop overwriting each other).\n  * Use wordsBy rather than splitOn.\n  * Moved
  a couple more functions to DarcsDen.Handler.Repository.Changes.\n  * Added exhaustive
  pattern-match for pageFor.\n  * Fixed index match for splitOn behaviour.\n  * Split
  up Darcs.Handler.Repository a bit.\n  * Use split package.\n  * Fixed footer being
  smashed up against forms and other floating elements.\n  * Handler cleanups.\n  *
  Tweaked repository verification to only check if a repository is valid if it exists.\n
  \ * Added a footer.\n  * Make repository directories unreadable by others.\n  *
  Adding and removing members to/from repositories.\n  * Removed redundant repository
  description from blob view.\n  * Delete a repository's group when destroying it.\n
  \ * Added per-repository user groups; this will be the backbone of adding committers
  to repositories.\n  * notFound now serves the proper error code.\n  * Tweaked serveDirectory
  to take absolute paths.\n  * Repository forking.\n  * Handler reorganization; added
  a general handleRepo which does the common validations and moved to Handler.Repository,
  and moved serveDirectory to HackUtils.\n  * Added a default crumb to repo-base.\n
  \ * Added edit/delete links.\n  * Shortened repository handler names and removed
  some redundant definitions.\n  * Moved repo desc/nav to a repo-base for all repo
  pages to extend.\n  * make clean now removes Main\n  * Fixed up patch view; summary
  links work, removed links for removed files, added files link to the files in the
  repo, and patch diffs link to the file they modify.\n  * Removed ./ part of filenames
  in patch view.\n  * Added Makefile.\n  * Cleaned up all warnings.\n  * Added GPL3
  license.\n  * Tweaked the intro page.\n  * Repository editing and deleting.\n  *
  Added some content to the index page when not logged in.\n  * Shorter patch view
  URLs.\n  * Only show the summary section if there's stuff to show.\n  * Show preference
  changes in patch summaries.\n  * Removed lib directory (highlighting-kate now has
  its own repository)\n  * Removed text-press from lib/ (has its own repository now)\n
  \ * Added pagination links.\n  * Fixed build-depends for text-press.\n  * Repository
  handler cleanups.\n  * Repository changes pagination.\n  * Removed dist directories
  from tree.\n  * Ignore dist directories.\n  * Added Go syntax highlighting.\n  *
  Change ownership of new repositories to its owner.\n  * Added a few warning displays
  to failed validation branches, and automatically log the user in after successful
  registration.\n  * Proper name sanity checking and filtering.\n  * Cleaned up HackUtils.\n
  \ * Serve darcs repositories with HTTP at the repo's URL.\n  * Added a little message
  to empty repositories so the user knows what the push target is.\n  * Bumped up
  source code size a notch.\n  * If a user's pubkey does not exist, return \"\".\n
  \ * Added settings link.\n  * Redirect to login if they try to create a repo while
  not logged in.\n  * Added user settings page and pubkey updating.\n  * Added a README.\n
  \ * User registration now creates the user on the system.\n  * Removed Hack.Contrib.Press
  dependency for now.\n  * Sanitize repository paths.\n  * Redirect and show errors
  on repository viewing failure.\n  * Added repoDir for getting the path for a directory
  with a given user/repo name, changed repo dir to /jail/home/(username)/(reponame),
  and removed no-longer-needed withDirectory.\n  * log -> changes\n  * Added some
  basic navigation.\n  * Add entire session for page context, not just notifications.\n
  \ * Use relatize-dates instead of building up a wonky string from a CalendarTime.\n
  \ * No need for the log description to link to the page we're already on.\n  * Added
  notification system, and updated most templates to reflect the new style (especially
  form stuff).\n  * Spruced up the index and user viewing pages, added a base template,
  and thinned up the diff add/remove indicators.\n  * Added modified text-press library
  pending cleanup and sending patches back to creator.\n  * {{var}} escapes var for
  safe output.\n  * Added {{{var}}} for unescaped output.\n  * Fixed {% if foo.bar
  %} being parsed as {% if foo.bar.baz %}\n  * Make sure requested paths to public/
  are sane.\n  * Cleanups.\n  * Get a user by a log's author's email address and use
  it (if a user exists for it) for log pages, etc. Also misc. css tweaks.\n  * Added
  handling for Binary changes.\n  * Initial patch viewing.\n  * Initial site design,
  repository browsing, and initial log viewing.\n  * Split User stuff into its own
  handler.\n  * Reorganization; moved some things from Handler to HackUtils. Also
  added repository viewing and browsing.\n  * Ignore boring repos dir.\n  * Redirect
  to index on repo init.\n  * Added repository viewing, and flipped how repository
  keys are stored: (name, user) -> (user, name)\n  * Redirect to / on succesful registration,
  and only show your repositories at the index if you have any.\n  * Added sessions,
  logging in, and repository creation, and repository listing.\n  * Added basic logging-in
  (not actually functioning yet; no sessions), and cleaned up some debugging junk.\n
  \ * Fixed If validation not collecting the validations from the predicate.\n  *
  Added Show instances for OK, Valid, and Invalid. (show Valid is just explain since
  some things are not easily Showable)\n  * Swapped arguments for IOPred / io to make
  using them a bit nicer.\n  * Added cookie setting/getting HackUtils.\n  * Split
  Invalid and OK into their own types, Result is now an Either on both.\n  * Removed
  listToOctets use, refactored password hashing to intersperse the salt through the
  password.\n  * No need to use `show' on a string when explaining it.\n  * Refactored
  validation, simplfying code and adding IO capabilities. Added username existence
  validation.\n  * Added passwords to users, with a migration from the old form (mostly
  for practice).\n  * Added a slightly prettier and less confusing naming for If validation.\n
  \ * Ignore my TODO file.\n  * Initial user registration.\n  * Added initial input
  validation system.\n  * Added HackUtils module, moved getInput(s) to it.\n  * Ignore
  compiled Main.\n  * Slight State tweaks.\n  * Added highlighting-kate library for
  later.\n  * State updates; added main State type that is a combination of everything.\n
  \ * Slight cleanup for Handler.\n  * Added .boring file.\n  * Initial state structure.\n
  \ * Cleaned up DarcsDen.Handler a little bit.\n  * Initial record.\n"
changelog-type: markdown
description: |
  darcsden is a darcs repository hosting platform, providing a web
  application for browsing and managing repos, users, and issues, and a SSH
  server for push/pull and quick repository creation.

  Home: http://hackage.haskell.org/package/darcsden

  To install:
  -----------

  "cabal install darcsden" will install darcsden and darcsden-ssh
  executables with generic settings. In particular, the web app's base url
  will be "http://localhost:8900", and multi-user features will be enabled.

  For more control, get the darcsden source, adjust
  src/DarcsDen/Settings.hs, and run "cabal install" in the top source
  directory.  There are also several optional build flags in darcsden.cabal,
  mainly to assist with building on windows.

  To run darcsden you also need:

  - Redis   (for storing web session data)
  - CouchDB (for storing user/repo/repository data)

  Both should be running on their default port, or you can change that in
  Settings.hs. You should configure them by running:

      darcsden --install

  You should have a "darcsden" user account (for running the app and owning
  the files), with a ssh key:

      adduser --system --home /home/darcsden --shell /bin/bash --group --gecos DarcsDen darcsden
      sudo -u darcsden ssh-keygen

  To avoid obscure errors due to mixed file ownership in ~/.darcs/cache,
  always run darcsden as the darcsden user, with $HOME set properly.
  So if using sudo, include the -H flag, like this:

      sudo -Hu darcsden COMMAND...

  The directory where you start the web app should contain darcsden's
  public/ directory. Or you can run it behind a web server that'll serve
  /public/* requests from that directory.

  Some features require extra configuration to work:

  - OAuth:

      - Create developer applications for the oauth services:
         - Github: https://github.com/settings/applications
         - Google: https://code.google.com/apis/console
      - Set callback urls:
         - Github: same as your baseUrl
         - Google: multiple callbacks:
             - baseUrl ++ "register/google/response"
             - baseUrl ++ "login/google/response"
             - baseUrl ++ "sync/google/response"
      - Enter Client ID and Client secret into environment variables:
         - Github: Add these lines to your shell startup
             export GITHUB_CLIENT_ID=your_client_id
             export GITHUB_CLIENT_SECRET=your_client_secret
         - Google: Add these lines to your shell startup
             export GOOGLE_CLIENT_ID=your_client_id
             export GOOGLE_CLIENT_SECRET=your_client_secret

  - Forgot Password:
      - Configure your default sendmail to be able to send emails
      - Edit sendEmail, and sendName to the email address you can use

  - File edit:
      - For proper file type detection, ensure that you have xdg-utils installed.
      - Set xdgMimePath appropriately if xdg-mime is not in PATH

  - Webdriver Tests:
      - Download and start selenium server from http://docs.seleniumhq.org/download/
      - Ensure that you have configured OAuth
      - You need a test google and github account:
          - export GOOGLE_USERNAME, GOOGLE_PASSWORD, GITHUB_USERNAME,
            GITHUB_PASSWORD.
      - run ./dist/build/darcsden-test/darcsden-test


  To start:
  ---------

  For a quick test, run:

      sudo -Hu darcsden darcsden

  and visit http://localhost:8900 (or other url configured in Settings.hs)
  in your web browser.

  This package provides separate executables for the web and SSH servers,
  `darcsden` and `darcsden-ssh` respectively. You could run them manually
  while logged in as the `darcsden` user via screen or dtach. Or, configure them
  as daemons. See `darcsden.god`, or these sample supervisord.conf entries:

      [program:darcsden]
      command=sudo -EHu darcsden /path/to/darcsden --port 8900
      directory=/home/darcsden
      priority=3
      redirect_stderr=true
      autostart=true
      autorestart=true
      environment=LANG="en_US.UTF-8"

      [program:darcsden-ssh]
      command=sudo -EHu darcsden /path/to/darcsden-ssh 22
      directory=/home/darcsden
      priority=3
      redirect_stderr=true
      autostart=true
      autorestart=true
      environment=LANG="en_US.UTF-8"

  Here's a sample apache vhost config:

      <VirtualHost *:80>
      ServerName my.host.name
      RewriteEngine on
      ProxyPreserveHost On
      ProxyErrorOverride On
      RewriteRule ^/(.*) http://127.0.0.1:8900/$1 [P]
      </VirtualHost>

  Windows:
  --------

  darcsden indirectly depends on two external libraries: OpenSSL and pcre.

  The -f-ssh flag can be used to disable the ssh server and remove the
  dependency on OpenSSL.

  The -f-closing flag disables the ability for checkins to automatically
  close issues, removing the dependency on pcre.

  OpenSSL can be installed from http://slproweb.com/products/Win32OpenSSL.html -
  download "Win32 OpenSSL v1.0.1e" or whatever similar version is current.
  [At the time of writing, darcs doesn't work with 64 bit Windows, but
  if this changes then a 64 bit version can be downloaded from the same location.]

  Pick a directory to install it to, e.g. c:/OpenSSL-Win32 - and install HsOpenSSL
  with
  cabal install HsOpenSSL --extra-include-dirs="c:/OpenSSL-Win32/include" --extra-lib-dirs="c:/Win32OpenSSL"

  Running as a Windows service:
  -----------------------------

  darcsden depends on having CouchDB and redis running, so it also
  makes sense to install these as services, though it's not essential.

  redis can be setup as a Windows service using
  https://github.com/kcherenkov/redis-windows-service

  The redis service name is redis-instance.

  CouchDB comes as a service already.

  The CouchDB service name is something like
  "Apache CouchDB01cd861ad1dbd850", look for "CouchDB" in the output
  of "sc query" to get the exact name.

  To install darcsden as a Windows service given the above names for
  the redis and CouchDB services, identify the path to darcsden.exe
  and to the darcsden source tree. Then alter the following command
  appropriately and run it all on one line:

  sc create DarcsDen
     binPath= "c:\path\to\darcsden.exe --root c:\path\to\source\of\darcsden --service"
     start= auto
     depend= redis-instance/"Apache CouchDB01cd861ad1dbd850"

  To uninstall the service, use "sc delete DarcsDen".


  Contributing:
  -------------

  darcsden is a small, clean codebase that is fun to hack on. Discussion
  takes place on the #darcs IRC channel, and useful changes will quickly
  be deployed at hub.darcs.net, providing a tight dogfooding/feedback
  loop. Here's how to contribute a patch there:

  1. register at hub.darcs.net
  2. add your ssh key in settings so you can push
  3. fork your own branch: http://hub.darcs.net/simon/darcsden , fork
  4. copy to your machine: darcs get http://hub.darcs.net/yourname/darcsden
  5. make changes, darcs record
  6. push to hub: darcs push yourname@hub.darcs.net:darcsden --set-default
  7. your change will appear at http://hub.darcs.net/simon/darcsden/patches
  8. discuss on #darcs, or ping me (sm, simon@joyful.com) to merge it

  Credits:
  --------

  Alex Suraci created darcsden. Simon Michael led this release, which
  includes contributions from Alp Mestanogullari, Jeffrey Chu, Ganesh
  Sittampalam, and BSRK Aditya (sponsored by Google's Summer of Code).
  And last time I forgot to mention two 1.0 contributors: Bertram
  Felgenhauer and Alex Suraci.

  darcsden depends on Darcs, Snap, GHC, and other fine projects from the
  Haskell ecosystem, as well as Twitter Bootstrap, JQuery, and many more.
description-type: markdown
hash: 384e7faf8f1c93ed8bdb52f0ae1a2bdc96c415ca0c041cd0545ee23c6352e329
homepage: http://hackage.haskell.org/package/darcsden
latest: 1.1.1
license-name: LicenseRef-GPL
maintainer: Alex Suraci <suraci.alex@gmail.com>, Simon Michael <simon@joyful.com>
synopsis: Darcs repository UI and hosting/collaboration app (hub.darcs.net branch).
test-bench-deps: {}
