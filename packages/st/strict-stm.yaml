homepage: ''
changelog-type: markdown
hash: 5f73d5104003de2faa955fbca11f381d5d2712ba870dbf584daa1ae9e8671b3d
test-bench-deps: {}
maintainer: Duncan Coutts dunca@well-typed.com, Marcin Szamotulski coot@coot.me
synopsis: Strict STM interface polymorphic over stm implementation.
changelog: |
  # Changelog

  ## next release

  ### Breaking changes

  ### Non-breaking changes

  ## 1.3.0.0

  - `io-sim-1.3.0.0`.
  * Support `ghc-9.8`.

  ## 1.2.0.0

  ### Breaking changes

  * Remove invariants for `StrictTVar`s.

  ## 1.1.0.1

  ### Non-breaking changes

  * Fixed the `checkinvariant` cabal flag.

  ## 1.1.0.0

  ### Breaking changes

  * Removed deprecated API

  ### Non-breaking changes

  * `io-classes-1.1.0.0`

  ## 1.0.0.1

  ### Non-breaking changes

  * Support `ghc-9.6`.

  ## 1.0.0.0

  ## 0.6.0.0

  ## 0.5.0.0

  ## 0.4.0.0

  ## 0.3.0.0

  * split modules in a similar way that the `stm` package is.
  * added `StrictTChan`, `TSem` and `StrictTArray`
  * added `unGetTQueue` & `unGetTBQueue`
  * added `StrictTQueue` & `StrictTBQueue`
  * support `ghc-9.2` & `ghc-9.4`
basic-deps:
  stm: '>=2.5 && <2.6'
  base: '>=4.9 && <4.20'
  array: -any
  io-classes: ^>=1.3
all-versions:
- 1.0.0.0
- 1.0.0.1
- 1.1.0.0
- 1.1.0.1
- 1.2.0.0
- 1.3.0.0
author: Alexander Vieth, Duncan Coutts, Marcin Szamotulski, Thomas Winant
latest: 1.3.0.0
description-type: markdown
description: |
  # Strict Software Transaction Memory

  The `strict-stm` package provides a strict interface to software transaction
  memory.  It builds on top of [`io-classes`] and thus it provides the interface
  for both [`stm`] as well as [`io-sim`].

  # Novel testing / space-leak elimination approach

  The strict interface provides a novel way of testing/eliminating space-leaks
  which might lurk in `stm` shared mutable variables.  Together with the
  [`nothunks`] library it was successfully used to eliminate and keep a large
  system ([`cardano-node`]) space leak free.

  [`cardano-node`]: https://www.github.com/input-output-hk/cardano-node
  [`io-classes`]: https://hackage.haskell.org/package/io-classes
  [`io-sim`]: https://hackage.haskell.org/package/io-sim
  [`nothunks`]: https://hackage.haskell.org/package/nothunks
  [`stm`]: https://hackage.haskell.org/package/stm
license-name: Apache-2.0
