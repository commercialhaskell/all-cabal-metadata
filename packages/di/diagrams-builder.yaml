homepage: https://diagrams.github.io/
changelog-type: markdown
hash: 661c3e81c3de2dc161a6ee477d951b9158a322ce8364010b4cdb992296983c40
test-bench-deps: {}
maintainer: diagrams-discuss@googlegroups.com
synopsis: hint-based build service for the diagrams graphics EDSL.
changelog: "## [v0.8.0.5](https://github.com/diagrams/diagrams-builder/tree/v0.8.0.5)
  (2020-01-21)\n\n- Bump upper bounds: allow\n    - `base-4.13` (GHC 8.8)\n    - `haskell-src-exts-1.22`\n
  \   - `haskell-src-exts-simple-1.22`\n    - `lens-4.18`\n    - `hashable-1.3`\n\n##
  [v0.8.0.4](https://github.com/diagrams/diagrams-builder/tree/v0.8.0.4) (2019-02-08)\n\n-
  Bump upper bounds: allow\n    - `base-4.12`\n    - `lens-4.17`\n    - `hint-0.9`\n
  \   - `JuicyPixels-3.3`\n- New options added to `diagrams-latex.sty`\n\n## [v0.8.0.3](https://github.com/diagrams/diagrams-builder/tree/v0.8.0.3)
  (2018-06-09)\n\n- Bump upper bounds: allow `exceptions-0.10`, `lens-4.16`, `hint-0.8`,\n
  \ `base-4.11`, `base-orphans-0.7`\n- Test with GHC 8.4\n- Drop GHC 7.8 support\n\n##
  [v0.8.0.2](https://github.com/diagrams/diagrams-builder/tree/v0.8.0.2) (2018-01-21)\n\n-
  Allow `haskell-src-exts-1.20` and `haskell-src-exts-simple-1.20`\n- Bug fix for
  GHC 8.2: temp module generation now uses a valid name ([#32](https://github.com/diagrams/diagrams-builder/issues/32))\n\n##
  [v0.8.0.1](https://github.com/diagrams/diagrams-builder/tree/v0.8.0.1) (2016-11-28)\n\n-
  Allow `haskell-src-exts-1.19` and `haskell-src-exts-simple-1.19`\n\n- Allow `hint-0.7`
  in Hackage revision 2.\n- Allow `base-4.10` in Hackage revision 3.\n\n## [v0.8](https://github.com/diagrams/diagrams-builder/tree/v0.8)
  (2016-10-26)\n\n- `diagrams-builder-pgf`: add catch-all case for file extension\n-
  Better defaults ([#29](https://github.com/diagrams/diagrams-builder/issues/29)):\n
  \   - default extension will be chosen based on backend\n    - `input` option automatically
  selected when using `pgf` backend\n    - `diagrams` is now default output directory\n-
  Modules [can now be imported qualified](https://github.com/diagrams/diagrams-builder/pull/17)\n-
  allow `lens-4.15`\n- Require `haskell-src-exts-1.18` and `haskell-src-exts-simple`\n-
  Require `diagrams-*-1.4`\n\n## [v0.7.2.4](https://github.com/diagrams/diagrams-builder/tree/v0.7.2.4)
  (2016-09-05)\n\nUpdate upper bounds, and build with GHC 8.  Allow:\n\n- `transformers-0.5`\n-
  `lens-4.14`\n- `base-4.9`\n- `hint-0.6`\n\nNow requires `diagrams-svg-1.4` and `svg-builder`.\n\n##
  [v0.7.2.3](https://github.com/diagrams/diagrams-builder/tree/v0.7.2.3) (2016-03-19)\n\n-
  allow `hint-0.5`\n\n## [v0.7.2.2](https://github.com/diagrams/diagrams-builder/tree/v0.7.2.2)
  (2016-01-16)\n\n- allow `base-orphans-0.5`\n\n## [v0.7.2.1](https://github.com/diagrams/diagrams-builder/tree/v0.7.2.1)
  (2015-12-06)\n\n- allow `haskell-src-exts-1.17.*`\n\n## [v0.7.2.0](https://github.com/diagrams/diagrams-builder/tree/v0.7.2.0)
  (2015-09-22)\n\n- allow `lens-4.13`\n- Add `TypeFamilies` and `FlexibleContexts`
  extensions automatically\n  to diagrams code, so users do not have to add them manually
  when\n  building with GHC 7.10\n\n[Full Changelog](https://github.com/diagrams/diagrams-builder/compare/v0.7.1.1...v0.7.2.0)\n\n##
  [v0.7.1.1](https://github.com/diagrams/diagrams-builder/tree/v0.7.1.1) (2015-07-19)\n\n[Full
  Changelog](https://github.com/diagrams/diagrams-builder/compare/v0.7.1...v0.7.1.1)\n\n0.7.1
  (16 June 2015)\n--------------------\n\n- allow `base-orphans-0.4`\n- add `diagrams-pgf`
  executable\n- add diagrams-latex option to use \\input instead of \\includegraphics,\n
  \ for use with diagrams-pgf\n\n0.7.0.4 (1 June 2015)\n---------------------\n\n-
  `diagrams-builder-svg` now builds again (does not build in any other\n  `0.7.0.x`
  releases)\n\n0.7.0.3 (1 June 2015)\n---------------------\n\n- get `Typeable Any`
  instance from `base-orphans` package\n\n[v0.7.0.2](https://github.com/diagrams/diagrams-builder/tree/v0.7.0.2)
  (2015-05-26)\n-----------------------------------------------------------------------------------\n\n-
  allow `lens-4.11`\n\n0.7.0.1 (20 April 2015)\n-----------------------\n\n- Fix compilation
  errors in diagrams-builder-rasterific executable\n\n0.7 (19 April 2015)\n-------------------\n\n-
  Update to `diagrams-lib-1.3`.\n- Add `diagrams-rasterific` support.\n- Add support
  for `DIAGRAMS_SANDBOX` environment variable.\n- Allow `exceptions-0.8`\n- Fix `diagrams-latex`
  directory creation on Windows\n\n0.6.0.4 (2 April 2015)\n----------------------\n\n-
  allow `lens-4.9`\n\n0.6.0.3 (13 Jan 2015)\n---------------------\n\n- Allow `lens-4.7`\n\n0.6.0.2
  (20 November 2014)\n--------------------------\n\n- Allow `lens-4.6`\n- Allow and
  require `haskell-src-exts-1.16`\n\n0.6.0.1 (22 August 2014)\n------------------------\n\n
  \ - Allow lens-4.4\n\n0.6 (5 June 2014)\n-----------------\n\n  - Require `diagrams-lib-1.2`\n
  \ - Change to the type of `buildDiagram` in `0.5.0.11` actually required a major\n
  \   version bump.\n\n0.5.0.11 (2 June 2014) (BROKEN)\n----------------------\n\n
  \ - Allow `transformers-0.4`\n  - Allow `lens-4.2`\n  - Allow `mtl-2.2`\n\n0.5.0.10
  (21 May 2014)\n----------------------\n\n  - Module parse error messages now include
  the error location\n    (thanks to Yiding Jia)\n\n0.5.0.9 (15 April 2014)\n-----------------------\n\n
  \ - Fix bug introduced by 0.5.0.8 release (accidentally included\n    commit meant
  for compatibility with unreleased versions of other\n    diagrams packages)\n\n0.5.0.8
  (15 April 2014) (BROKEN)\n--------------------------------\n\n  - Allow `haskell-src-exts-1.15`\n\n0.5.0.7
  (7 April 2014)\n----------------------\n\n  - Allow `exceptions-0.5`\n\n0.5.0.6
  (20 March 2014)\n----------------------\n\n  - Allow `lens-4.1` in executables also\n\n0.5.0.5
  (19 March 2014)\n----------------------\n\n  - Allow `lens-4.1`\n\n0.5.0.4 (15 March
  2014)\n-----------------------\n\n    - Update for `hint-0.4`\n\t- Allow `diagrams-lib-1.1`
  and `diagrams-cairo-1.1`\n\t- Allow `lens-4.0`\n\n0.5.0.3 (8 March 2014)\n----------------------\n\n
  \   - Allow `base-4.7`\n\n0.5.0.2 (6 March 2014)\n----------------------\n\n    -
  Allow `diagrams-lib-1.1`\n\t- Allow `lens-4.0`\n\n0.5.0.1 (27 January 2014)\n-------------------------\n\n
  \   - Allow hashable-1.1\n\n0.5 (27 January 2014)\n---------------------\n\n    -
  Consolidate buildDiagram arguments into a single record of\n      arguments.\n    -
  Add a `postProcess` argument, a function to be applied to the\n      interpreted
  diagram.\n\n0.4.2 (26 November 2013)\n------------------------\n\n    - `buildDiagram`
  now accepts expressions of type `Diagram` or `IO\n      Diagram`: it just tries
  both.\n    - Add dependency on `mtl`.\n\n0.4.1 (24 November 2013)\n------------------------\n\n\t-
  bug fix: avoid ambiguity errors when parsing unknown operators\n    - update to
  work with diagrams-1.0\n\n0.4.0.6 (2 October 2013)\n------------------------\n\n
  \   - allow cryptohash-0.11\n\n0.4.0.5 (11 September 2013)\n---------------------------\n\n
  \   - require diagrams-svg >= 0.8.0.1\n\n0.4.0.4 (11 September 2013)\n---------------------------\n\n
  \   - fix compile error in diagrams-builder-svg executable\n    - require diagrams-svg
  >= 0.8\n\n0.4.0.3 (10 September 2013) [BROKEN]\n------------------------------------\n\n
  \   - allow diagrams-svg-0.8\n\n0.4.0.2 (31 August 2013)\n------------------------\n\n
  \   - allow cryptohash-0.10\n\n0.4.0.1 (22 August 2013)\n------------------------\n\n
  \   - allow haskell-src-exts 1.14\n\n0.4: 9 August 2013\n------------------\n\n*
  Add hsenv compatibility.\n* Big improvements in the way rebuilding is handled:\n
  \   - Strip comments before deciding whether to rebuild, so\n      changing only
  comments does not trigger a rebuild\n    - Take local imports into account: if a
  diagram has an import\n      which corresponds to a local file, rebuild if that
  file has\n      changed\n    - Rebuild when options (e.g. size) change\n\n0.3.0.1
  (3 April 2013)\n----------------------\n\n* depend on cryptohash >= 0.8 && < 0.10
  (use new unified API)\n* remove base16-bytestring dependency\n\n0.3: 3 Feburary
  2013\n--------------------\n\n+ new `diagrams-builder-postscript` tool\n+ miscellaneous
  improvements to `diagrams-latex.sty`\n\n0.2.1.0: 11 December 2012\n-------------------------\n\n+
  new `diagrams-builder-svg` tool\n+ deal properly with an empty list of sources ([\\#2](https://github.com/diagrams/diagrams-builder/issues/2))\n+
  put cached diagrams in `.diagrams_cache` instead of `diagrams` by default\n+ bug
  fix: cached files should use same extension as requested output, not \"png\"\n+
  bug fix: create output directory for cached images if it doesn't exist\n+ new module
  `Diagrams.Builder.CmdLine`; factor out common utilities\n  for command-line tools\n+
  depend on 0.6 versions of diagrams libs\n\n0.2.0.0: 26 August 2012\n-----------------------\n\nInitial
  release\n"
basic-deps:
  diagrams-lib: '>=1.4 && <1.5'
  exceptions: '>=0.3 && <0.11'
  haskell-src-exts-simple: '>=1.18 && <1.24'
  split: '>=0.2 && <0.3'
  base: '>=4.10 && <4.17'
  hint: '>=0.4 && <0.10'
  filepath: -any
  base-orphans: '>=0.3 && <0.9'
  haskell-src-exts: '>=1.18 && <1.24'
  lens: '>=4.0 && <5.3'
  mtl: '>=2.1 && <2.3'
  cmdargs: '>=0.6 && <0.11'
  hashable: '>=1.1 && <1.5'
  transformers: '>=0.3 && <0.6'
  directory: -any
all-versions:
- 0.2.0.0
- 0.2.1.0
- '0.3'
- 0.3.0.1
- '0.4'
- 0.4.0.1
- 0.4.0.2
- 0.4.0.3
- 0.4.0.4
- 0.4.0.5
- 0.4.0.6
- 0.4.1
- 0.4.2
- '0.5'
- 0.5.0.1
- 0.5.0.2
- 0.5.0.3
- 0.5.0.4
- 0.5.0.5
- 0.5.0.6
- 0.5.0.7
- 0.5.0.8
- 0.5.0.9
- 0.5.0.10
- '0.6'
- 0.6.0.1
- 0.6.0.2
- 0.6.0.3
- 0.6.0.4
- 0.7.0.0
- 0.7.0.1
- 0.7.0.2
- 0.7.0.3
- 0.7.0.4
- 0.7.1
- 0.7.1.1
- 0.7.2.0
- 0.7.2.1
- 0.7.2.2
- 0.7.2.3
- 0.7.2.4
- '0.8'
- 0.8.0.1
- 0.8.0.2
- 0.8.0.3
- 0.8.0.4
- 0.8.0.5
author: Brent Yorgey
latest: 0.8.0.5
description-type: markdown
description: |
  [![Build Status](https://travis-ci.org/diagrams/diagrams-builder.png?branch=master)](http://travis-ci.org/diagrams/diagrams-builder)

  `diagrams-builder` provides backend-agnostic tools for dynamically
  turning code into rendered
  [diagrams](http://projects.haskell.org/diagrams), using the
  [hint](http://hackage.haskell.org/package/hint) wrapper to the GHC
  API.  It supports conditional recompilation using hashing of diagrams
  source code, to avoid recompiling code that has not changed.  It is
  useful for creating tools which compile diagrams code embedded in
  other documents.  For example, it is used by the
  [BlogLiterately-diagrams](http://hackage.haskell.org/package/BlogLiterately%2Ddiagrams)
  package (a plugin for
  [BlogLiterately](http://hackage.haskell.org/package/BlogLiterately))
  to compile diagrams embedded in
  [Markdown](http://daringfireball.net/projects/markdown/)-formatted
  blog posts, and by the
  [diagrams-latex.sty](https://github.com/diagrams/diagrams-builder/blob/master/latex/diagrams-latex.sty)
  package for embedding diagrams in LaTeX documents (see below).

  Executables specific to the
  [cairo](http://github.com/diagrams/diagrams-cairo), [svg](http://github.com/diagrams/diagrams-svg),
  [postscript](http://github.com/diagrams/diagrams-postscript), [rasterific](http://github.com/diagrams/diagrams-rasterific), and [PGF](http://github.com/diagrams/diagrams-pgf) backends are included.  Each
  takes an input file and an expression to render and outputs an image
  file using the appropriate backend.  You must explicitly enable
  whichever executables you want using flags like `-fcairo`, `-fsvg`,
  and so on.

  A LaTeX package, `diagrams-latex.sty`, is also provided in the
  `latex/` directory of the source distribution, which renders diagrams
  code found within `diagram` environments.  It can make use of any of
  the `diagrams-builder-cairo`, `diagrams-builder-postscript`, or
  `diagrams-builder-pgf` executables, so if you want to use
  `diagrams-latex.sty` you should install `diagrams-builder` with the
  appropriate option.  Note that `diagrams-latex.sty` is licensed under
  the GPL.  For more information on using `diagrams-latex.sty`, see
  [this tutorial](http://projects.haskell.org/diagrams/doc/latex.html).
license-name: BSD-3-Clause
