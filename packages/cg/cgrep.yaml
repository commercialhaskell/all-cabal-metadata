all-versions:
- '6.4'
- 6.4.1
- 6.4.2
- 6.4.3
- 6.4.3.1
- 6.4.4
- 6.4.5
- 6.4.6
- 6.4.7
- 6.4.8
- 6.4.9
- 6.4.10
- 6.4.11
- 6.4.12
- 6.4.13
- 6.4.14
- 6.4.15
- 6.4.16
- 6.4.17
- 6.4.18
- 6.4.19
- 6.4.20
- 6.4.21
- 6.4.22
- 6.5.0
- 6.5.1
- 6.5.2
- 6.5.3
- 6.5.4
- 6.5.5
- 6.5.6
- 6.5.7
- 6.5.8
- 6.5.9
- 6.5.10
- 6.5.11
- 6.5.12
- 6.5.13
- 6.5.15
- '6.6'
- 6.6.1
- 6.6.2
- 6.6.3
- 6.6.4
- 6.6.7
- 6.6.8
- 6.6.9
- 6.6.10
- 6.6.11
- 6.6.12
- 6.6.13
- 6.6.14
- 6.6.15
- 6.6.16
- 6.6.17
- 6.6.20
- 6.6.22
- 6.6.23
- 6.6.24
- 6.6.25
- 6.6.30
- 6.6.32
- 8.0.0
- 8.1.0
- 9.0.0
author: Nicola Bonelli
basic-deps:
  aeson: '>=0'
  ansi-terminal: '>=0'
  array: '>=0'
  async: '>=0'
  atomic-primops: '>=0'
  base: '>=4.15.0.0 && <4.16'
  bitarray: '>=0'
  bitwise: '>=0'
  bytestring: '>=0'
  bytestring-strict-builder: '>=0'
  clock: '>=0'
  concurrency: '>=0'
  containers: '>=0'
  deepseq: '>=0'
  directory: '>=0'
  dlist: '>=0'
  either: '>=0'
  exceptions: '>=0'
  extra: '>=0'
  filepath: '>=0'
  ghc-prim: '>=0'
  mmap: '>=0'
  monad-loops: '>=0'
  mtl: '>=0'
  optparse-applicative: '>=0'
  os-string: '>=0'
  process: '>=0'
  regex-base: '>=0'
  regex-tdfa: '>=0'
  safe: '>=0'
  split: '>=0'
  stm: '>=0'
  stringsearch: '>=0'
  template-haskell: '>=0'
  text: '>=0'
  transformers: '>=0'
  unicode-show: '>=0'
  unix-compat: '>=0'
  unordered-containers: '>=0'
  utf8-string: '>=0'
  vector: '>=0'
  yaml: '>=0'
changelog: ''
changelog-type: ''
description: "# CGrep: a context-aware grep for source codes\n\n[![Hackage](https://img.shields.io/hackage/v/cgrep.svg?style=flat)](https://hackage.haskell.org/package/cgrep)\n[![Join
  the chat at https://gitter.im/awgn/cgrep](https://badges.gitter.im/awgn/cgrep.svg)](https://gitter.im/awgn/cgrep?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)\n\n**Version
  9.0.0** - A powerful, context-aware search tool designed specifically for source
  code.\n\nCGrep extends the capabilities of traditional grep by understanding the
  structure and semantics of source code across multiple programming languages. It
  allows developers to search within specific contexts like code, comments, or string
  literals, and provides advanced pattern matching with semantic awareness.\n\n---\n\n##
  What's New in Version 9.0\n\n### \U0001F680 Major Performance Improvements\n\n-
  **75% faster plain token search** - Dramatically improved performance for standard
  token-based searches\n- **39% faster semantic search** - Significant speed boost
  for advanced semantic pattern matching\n- **Full UTF-8 support** - Switched from
  bytestream to text processing, enabling proper handling of UTF-8 character sets
  and international characters\n\n### âœ¨ Enhanced Features\n\n- **Semantic Test Filtering**
  - New capability to filter out test code from search results across 27+ programming
  languages and their respective testing frameworks (see [Test Framework Support](#test-framework-support)
  below)\n- **Improved Text Processing** - Native support for Unicode and multi-byte
  character encodings with accurate column positioning\n\n---\n\n## Installation\n\n###
  From Hackage\n\n```bash\ncabal update\ncabal install cgrep\n```\n\n### From Source\n\n```bash\ngit
  clone https://github.com/awgn/cgrep.git\ncd cgrep\ncabal install\n```\n\nor using
  stack:\n\n```bash\nstack build\nstack install\n```\n\n---\n\n## Usage\n\n```\ncgrep
  9.0.0 - Usage: cgrep [OPTION] [PATTERN] files...\n\nUsage: cgrep [--file FILE] [-w|--word]
  [-p|--prefix] [-s|--suffix] [-e|--edit]\n             [-G|--regex] [-i|--ignore-case]
  [-c|--code] [-m|--comment]\n             [-l|--literal] [--identifier|--name] [--native|--type]
  [--keyword]\n             [--number] [--string] [--op] [--type TYPE] [--kind KIND]\n
  \            [--code-only] [--hdr-only] [-T|--tests ARG] [--prune-dir DIR]\n             [-r|--recursive]
  [-L|--follow] [-S|--semantic] [--strict]\n             [--max-count INT] [--force-type
  TYPE] [--type-list]\n             [-v|--invert-match] [-j|--threads INT] [--show-match]
  [--color]\n             [--no-color] [-h|--no-filename] [--no-numbers] [--no-column]\n
  \            [--count] [--filename-only] [--json] [--vim] [--editor]\n             [--fileline]
  [--verbose] [--stats] [--null-output] [--palette]\n             [PATTERN FILES...]
  [--version]\n\n  Context-aware grep for source codes\n\nAvailable options:\n  --file
  FILE              Read PATTERNs from file (one per line)\n  -w,--word                Force
  word matching\n  -p,--prefix              Force prefix matching\n  -s,--suffix              Force
  suffix matching\n  -e,--edit                Use edit distance\n  -G,--regex               Use
  regex matching (posix)\n  -i,--ignore-case         Ignore case distinctions\n  -c,--code
  \               Enable search in source code\n  -m,--comment             Enable
  search in comments\n  -l,--literal             Enable search in string literals\n
  \ --identifier,--name      Identifiers\n  --native,--type          Native Types\n
  \ --keyword                Keywords\n  --number                 Literal numbers\n
  \ --string                 Literal strings\n  --op                     Operators\n
  \ --type TYPE              Specify file types. ie: Cpp, +Haskell, -Makefile\n  --kind
  KIND              Specify file kinds. Text, Config, Language, Data,\n                           Markup
  or Script\n  --code-only              Parse code modules only (skip headers/interfaces)\n
  \ --hdr-only               Parse headers/interfaces only (skip modules)\n  -T,--tests
  ARG           Filter tests: 'True' tests only, 'False' code only,\n                           omitted
  (search all)\n  --prune-dir DIR          Do not descend into dir\n  -r,--recursive
  \          Enable recursive search (don't follow symlinks)\n  -L,--follow              Follow
  symlinks\n  -S,--semantic            \"code\" pattern: _, _1, _2... (identifiers),
  ANY, KEY,\n                           STR, LIT, NUM, HEX, OCT\n  --strict                 Enable
  strict semantic for operators\n  --max-count INT          Stop search in files after
  INT matches\n  --force-type TYPE        Force the type of file\n  --type-list              List
  the supported file types\n  -v,--invert-match        Select non-matching lines\n
  \ -j,--threads INT         Approximate number of threads to run search\n  --show-match
  \            Show list of matching tokens\n  --color                  Use colors
  to highlight the match strings\n  --no-color               Do not use colors (override
  config file)\n  -h,--no-filename         Suppress the file name prefix on output\n
  \ --no-numbers             Suppress both line and column numbers on output\n  --no-column
  \             Suppress the column number on output\n  --count                  Print
  only a count of matching lines per file\n  --filename-only          Print only the
  name of files containing matches\n  --json                   Format output as json
  object\n  --vim                    Run vim editor passing the files that match\n
  \ --editor                 Run the editor specified by EDITOR var., passing the\n
  \                          files that match\n  --fileline               When edit
  option is specified, pass the list of\n                           matching files
  in file:line format (e.g. vim\n                           'file-line' plugin)\n
  \ --verbose                Enable verbose mode\n  --stats                  Print
  statistics about the search\n  --null-output            Disable output for performance
  evaluation\n  --palette                Show color palette\n  -h,--help                Show
  this help text\n  --version                Show version information and exit\n```\n\n---\n\n##
  Examples\n\n### Basic Searches\n\nSearch for a simple pattern in source files:\n\n```bash\ncgrep
  \"main\" *.c\n```\n\nSearch recursively in a directory:\n\n```bash\ncgrep -r \"TODO\"
  src/\n```\n\nCase-insensitive search:\n\n```bash\ncgrep -i \"buffer\" *.cpp\n```\n\n###
  Context-Aware Searching\n\nSearch only in code (exclude comments and strings):\n\n```bash\ncgrep
  -c \"malloc\" *.c\n```\n\nSearch only in comments:\n\n```bash\ncgrep -m \"TODO\"
  -r src/\n```\n\nSearch only in string literals:\n\n```bash\ncgrep -l \"hello\" *.cpp\n```\n\nSearch
  in both code and comments, but not in strings:\n\n```bash\ncgrep -c -m \"config\"
  *.js\n```\n\n### Token Filters\n\nSearch for identifiers only:\n\n```bash\ncgrep
  --identifier \"main\" *.c\n```\n\nSearch for native types:\n\n```bash\ncgrep --type
  \"int\" *.c\n```\n\nSearch for string literals containing specific text:\n\n```bash\ncgrep
  --string \"hello\" *.cpp\n```\n\n### File Type and Kind Filters\n\nSearch only in
  C++ files (recursively):\n\n```bash\ncgrep --type=Cpp -r \"char\" test/\n```\n\nSearch
  in Haskell files, but exclude test code:\n\n```bash\ncgrep --type=Haskell -T False
  \"function\" -r .\n```\n\nSearch by file kind (configuration files):\n\n```bash\ncgrep
  --kind=Config \"database\" -r /etc/\n```\n\n### Test Filtering (New in v9)\n\nSearch
  only in production code, excluding all tests:\n\n```bash\ncgrep -T False \"function\"
  -r src/\n```\n\nSearch only in test code:\n\n```bash\ncgrep -T True \"mock\" -r
  tests/\n```\n\nThis feature automatically detects and filters test code based on
  language-specific conventions (see [Test Framework Support](#test-framework-support)).\n\n###
  Semantic Search\n\nSemantic search allows you to match code patterns using wildcards:\n\n-
  `_`, `_1`, `_2`, ... : Match any identifier\n- `ANY` : Match any token\n- `KEY`
  : Match any keyword\n- `STR` : Match any string literal\n- `LIT` : Match any literal\n-
  `NUM` : Match any number\n- `HEX` : Match any hexadecimal number\n- `OCT` : Match
  any octal number\n\nFind variable assignments with numeric literals:\n\n```bash\ncgrep
  -S \"_ = NUM\" *.c\n```\n\n### Advanced Pattern Matching\n\nUse regular expressions
  (POSIX):\n\n```bash\ncgrep -G \"main|return\" *.c\n```\n\nUse word boundaries:\n\n```bash\ncgrep
  -w \"read\" *.c    # Matches \"read\" but not \"thread\" or \"reader\"\n```\n\nPrefix
  matching:\n\n```bash\ncgrep -p \"ma\" *.c   # Matches \"main\", etc.\n```\n\nSuffix
  matching:\n\n```bash\ncgrep -s \"rn\" *.c  # Matches \"return\", etc.\n```\n\nCase-insensitive
  search:\n\n```bash\ncgrep -i \"SED\" test.cpp  # Matches \"Sed\", \"sed\", etc.\n```\n\n###
  Output Formatting\n\nShow only filenames of files containing matches:\n\n```bash\ncgrep
  --filename-only \"char\" *.cpp\n```\n\nCount matches per file:\n\n```bash\ncgrep
  --count \"char\" test.cpp\n```\n\nJSON output (useful for scripting):\n\n```bash\ncgrep
  --json \"error\" *.log\n```\n\nSuppress filename prefix:\n\n```bash\ncgrep -h \"pattern\"
  file.c\n```\n\nShow matching tokens:\n\n```bash\ncgrep --show-match \"std::\" *.cpp\n```\n\n###
  Editor Integration\n\nOpen matching files in vim:\n\n```bash\ncgrep --vim \"FIXME\"
  -r src/\n```\n\nOpen with your default editor (set via EDITOR environment variable):\n\n```bash\ncgrep
  --editor \"bug\" -r src/\n```\n\nUse vim with file:line format (works with vim-file-line
  plugin):\n\n```bash\ncgrep --vim --fileline \"error\" -r src/\n```\n\n### Performance
  and Control\n\nLimit number of threads:\n\n```bash\ncgrep -j 4 \"pattern\" -r large_codebase/\n```\n\nStop
  after finding N matches in each file:\n\n```bash\ncgrep --max-count=5 \"TODO\" -r
  src/\n```\n\nShow search statistics:\n\n```bash\ncgrep --stats \"function\" -r src/\n```\n\n###
  UTF-8 and International Characters\n\nVersion 9's improved UTF-8 support allows
  searching in files with international characters:\n\n```bash\ncgrep \"Hello\" test.utf8\n```\n\n---\n\n##
  Test Framework Support\n\nVersion 9 introduces intelligent test code filtering across
  27+ programming languages. When using the `-T` flag, cgrep can automatically detect
  and filter test code based on language-specific conventions and testing frameworks.\n\n|
  Language | Testing Frameworks Detected | Detection Patterns |\n|----------|----------------------------|-------------------|\n|
  **Rust** | Built-in, cargo test | `#[test]`, `#[cfg(test)]` modules |\n| **Go**
  | Built-in testing | `func Test*`, `func Benchmark*` |\n| **Java** | JUnit | `@Test`
  annotations |\n| **Kotlin** | JUnit | `@Test` annotations |\n| **C** | Google Test,
  Catch2 | `TEST()`, `TEST_F()`, `TEST_CASE()`, `test_*` functions |\n| **C++** |
  Google Test, Catch2, Boost.Test | `TEST()`, `TEST_F()`, `TEST_CASE()`, `BOOST_AUTO_TEST`,
  `Test*` functions |\n| **Python** | pytest, unittest | `test_*` functions, `Test*`
  classes, `@pytest`, `@unittest` decorators |\n| **Zig** | Built-in | `test \"...\"`
  blocks |\n| **JavaScript** | Mocha, Jasmine, Jest | `describe()`, `it()`, `test()`,
  `context()` |\n| **TypeScript** | Mocha, Jasmine, Jest | `describe()`, `it()`, `test()`,
  `context()` |\n| **Scala** | ScalaTest, MUnit | `test()`, `it()`, `describe()`,
  `scenario()`, `feature()` |\n| **Haskell** | HSpec, Tasty, QuickCheck, HUnit | `describe`,
  `it`, `context`, `testCase`, `testGroup`, `testProperty`, `prop_*` functions |\n|
  **C#** | NUnit, xUnit, MSTest | `[Test]`, `[Fact]`, `[Theory]`, `[TestMethod]`,
  `[TestFixture]`, `[TestClass]` |\n| **F#** | NUnit, xUnit, Expecto | `[<Test>]`,
  `[<Fact>]`, `[<Theory>]`, `testCase`, `testList`, `test` |\n| **Dart** | Built-in
  test package, Flutter | `test()`, `group()`, `testWidgets()` |\n| **Elixir** | ExUnit
  | `test \"...\"`, `describe \"...\"`, `defmodule *Test` |\n| **Ruby** | RSpec, Minitest
  | `describe`, `context`, `it`, `test_*`, `def test_*` |\n| **PHP** | PHPUnit | `@test`
  annotations, `test*` methods, `*Test` classes |\n| **Swift** | XCTest | `XCTestCase`
  classes, `func test*()` |\n| **Objective-C** | XCTest | `XCTestCase` classes, test
  methods |\n| **R** | testthat | `test_that()`, `describe()`, `context()` |\n| **Julia**
  | Built-in Test | `@testset`, `@test` |\n| **Perl** | Test::More, Test::Simple |
  `subtest`, `*.t` files |\n| **OCaml** | OUnit, Alcotest | `let test_*`, `test_case`
  |\n| **Erlang** | EUnit | `*_test()`, `*_test_()` functions |\n| **Nim** | unittest
  | `unittest` module, `test \"...\"` |\n| **Clojure** | clojure.test | `(deftest
  ...)`, `(testing ...)` |\n| **D** | Built-in | `unittest { ... }` blocks |\n\n###
  Example: Finding Production Code Only\n\n```bash\n# Search for \"config\" only in
  production code, skipping all tests\ncgrep -T False \"config\" -r src/\n\n# Search
  for mock usage only in test files\ncgrep -T True \"mock\" -r .\n```\n\n---\n\n##
  Supported Languages\n\nCGrep supports a wide range of programming languages and
  file formats:\n\n**Programming Languages:** C, C++, C#, Java, Kotlin, Scala, JavaScript,
  TypeScript, CoffeeScript, Python, Ruby, Perl, PHP, Go, Rust, Haskell, OCaml, F#,
  Erlang, Elixir, Clojure, Lisp, Scheme, Lua, R, Julia, Dart, Nim, Zig, D, Swift,
  Objective-C, Chapel, Awk, Shell scripts (Bash, Fish)\n\n**Markup & Config:** HTML,
  XML, LaTeX, Markdown, YAML, JSON, TOML, INI, Dhall, CMake, Makefile, Cabal\n\nTo
  see the complete list of supported file types:\n\n```bash\ncgrep --type-list\n```\n\n---\n\n##
  Configuration\n\nCGrep can be configured using a configuration file located at `~/.cgreprc`
  (or `$XDG_CONFIG_HOME/cgrep/cgreprc`).\n\nExample configuration:\n\n```yaml\ncolors:
  true\nfile-types:\n  - +Cpp\n  - +Haskell\n  - -Test\njobs: 8\n```\n\n---\n\n##
  Performance Tips\n\n1. **Use file type filters** to reduce the number of files processed:\n
  \  ```bash\n   cgrep --type=Cpp \"pattern\" -r .\n   ```\n\n2. **Limit the search
  scope** with `--prune-dir` to exclude directories:\n   ```bash\n   cgrep --prune-dir=node_modules
  --prune-dir=.git \"pattern\" -r .\n   ```\n\n3. **Use context filters** when you
  know where to search:\n   ```bash\n   cgrep -c \"pattern\" -r .  # Search only in
  code\n   ```\n\n4. **Use test filtering** to focus on production code:\n   ```bash\n
  \  cgrep -T False \"pattern\" -r .  # Exclude all test code\n   ```\n\n5. **Adjust
  thread count** for optimal performance on your system:\n   ```bash\n   cgrep -j
  16 \"pattern\" -r .\n   ```\n\n---\n\n## Benchmarks (v9 vs v8)\n\n| Search Type
  | v8 | v9 | Improvement |\n|-------------|----|----|-------------|\n| Plain token
  search | 1.0x | **1.75x** | **+75%** |\n| Semantic search | 1.0x | **1.39x** | **+39%**
  |\n\n*Benchmarks performed on a typical codebase with ~100k lines of code.*\n\n---\n\n##
  Contributing\n\nContributions are welcome! Please feel free to submit issues or
  pull requests on [GitHub](https://github.com/awgn/cgrep).\n\n---\n\n## License\n\nCGrep
  is released under the GPL-2.0-or-later license. See the LICENSE file for details.\n\n---\n\n##
  Author\n\nNicola Bonelli <nicola@larthia.com>\n\n---\n\n## Links\n\n- **Homepage:**
  [http://awgn.github.io/cgrep/](http://awgn.github.io/cgrep/)\n- **Hackage:** [https://hackage.haskell.org/package/cgrep](https://hackage.haskell.org/package/cgrep)\n-
  **GitHub:** [https://github.com/awgn/cgrep](https://github.com/awgn/cgrep)\n- **Gitter
  Chat:** [https://gitter.im/awgn/cgrep](https://gitter.im/awgn/cgrep)"
description-type: markdown
hash: 0c65f0c17070efe654e13666e6e646300abe4da57b1cc99ca99ee97a150d6228
homepage: http://awgn.github.io/cgrep/
latest: 9.0.0
license-name: GPL-2.0-or-later
maintainer: Nicola Bonelli <nicola@larthia.com>
synopsis: Command line tool
test-bench-deps: {}
