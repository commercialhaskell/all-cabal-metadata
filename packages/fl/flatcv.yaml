all-versions:
- 0.3.0
author: Adrian Sieber
basic-deps:
  base: '>=4.12 && <5'
  vector: '>=0.12'
changelog: |
  # Changelog

  All notable changes to this project will be documented in this file.


  ## 2025-01-15 - 0.1

  - Initial release of Haskell bindings for FlatCV
  - Bindings for all public FlatCV functions:
    - Color conversion (grayscale, contrast stretching)
    - Filtering (Gaussian blur)
    - Thresholding (Otsu, global threshold)
    - Edge detection (Sobel, Foerstner)
    - Morphological operations (dilation, erosion, opening, closing)
    - Geometric transforms (flip, rotate, transpose, resize)
    - Cropping and trimming
    - Perspective transforms and document extraction
    - Drawing primitives (circles, disks, borders)
    - Histogram generation
    - Watershed segmentation
    - EXIF orientation reading
  - High-level Haskell API with `Data.Vector.Storable` integration
  - Type-safe wrappers for all C structures (Corners, Matrix3x3, Point2D)
changelog-type: markdown
description: |
  # FlatCV Haskell Bindings

  Haskell bindings for the [FlatCV](https://github.com/ad-si/FlatCV)
  image processing library.


  ## Usage

  ```hs
  import FlatCV
  import qualified Data.Vector.Storable as V

  main :: IO ()
  main = do
    -- Assuming you have RGBA image data as a Vector Word8
    let
      width = 640
      height = 480
      -- imageData :: V.Vector Word8

    -- Convert to grayscale
    grayData <- grayscale width height imageData

    -- Apply Gaussian blur
    blurredData <- gaussianBlur width height 2.0 imageData

    -- Detect edges
    edges <- sobelEdgeDetection width height 4 imageData

    -- Extract a document from a photo
    (outW, outH, docData) <- extractDocumentAuto width height imageData
  ```


  ## Available Functions

  ### Color Conversion

  - `grayscale` - Convert RGBA to grayscale (4-channel output)
  - `grayscaleStretch` - Grayscale with contrast stretching
  - `rgbaToGrayscale` - Convert to single-channel grayscale
  - `singleToMultichannel` - Convert grayscale to RGBA


  ### Filtering

  - `gaussianBlur` - Apply Gaussian blur


  ### Thresholding

  - `otsuThreshold` - Otsu's automatic thresholding
  - `bwSmart` - Smart black & white conversion
  - `applyGlobalThreshold` - Apply fixed threshold


  ### Edge Detection

  - `sobelEdgeDetection` - Sobel edge detection
  - `foerstnerCorner` - Foerstner corner detection


  ### Morphological Operations

  - `binaryDilationDisk` - Binary dilation
  - `binaryErosionDisk` - Binary erosion
  - `binaryClosingDisk` - Binary closing
  - `binaryOpeningDisk` - Binary opening


  ### Geometric Transforms

  - `flipX`, `flipY` - Flip horizontally/vertically
  - `transpose`, `transverse` - Transpose operations
  - `rotate90CW`, `rotate180`, `rotate270CW` - Rotations
  - `resize` - Resize with bilinear interpolation


  ### Cropping & Trimming

  - `crop` - Crop rectangular region
  - `trim` - Auto-trim borders
  - `trimThreshold` - Trim with threshold tolerance


  ### Perspective Transform

  - `calculatePerspectiveTransform` - Calculate transform matrix
  - `applyMatrix3x3` - Apply 3x3 transformation
  - `detectCorners` - Detect document corners


  ### Document Extraction

  - `extractDocument` - Extract with fixed output size
  - `extractDocumentAuto` - Extract with automatic sizing


  ### Drawing

  - `drawCircle` - Draw circle outline
  - `drawDisk` - Draw filled circle
  - `addBorder` - Add border around image


  ### Analysis

  - `generateHistogram` - Generate histogram visualization


  ### Segmentation

  - `watershedSegmentation` - Watershed segmentation


  ### Utility

  - `getExifOrientation` - Read JPEG EXIF orientation
  - `parseHexColor` - Parse hex color string
  - `convertToBinary` - Convert to binary with custom colors
description-type: markdown
hash: 408edae1b3e6f689ddc418c38828e8b4a6eda3e7e15caabff81f2841f87cb692
homepage: https://github.com/ad-si/FlatCV
latest: 0.3.0
license-name: ISC
maintainer: mail@adriansieber.com
synopsis: Haskell bindings for FlatCV image processing library
test-bench-deps:
  base: '>=4.12 && <5'
  flatcv: '>=0'
  hspec: '>=2.7'
  vector: '>=0.12'
