homepage: http://wiki.portal.chalmers.se/agda/
changelog-type: markdown
hash: e2df02e659429d95a893fa3e286ef7822335f0cd9255cd3fa918c8ccb2d70d2a
test-bench-deps: {}
maintainer: The Agda Team
synopsis: A dependently typed functional programming language and proof assistant
changelog: |
  Release notes for Agda version 2.6.2.2
  ======================================

  Highlights
  ----------

  * Agda 2.6.2.2 catches up to changes in the Haskell ecosystem
    (`bytestring-0.11.2.0`, `mtl-2.3-rc3/4`, `text-icu-0.8.0.1`,
    stackage `lts-19.0` and `nightly`).

  * Fixes inconsistency [#5838](https://github.com/agda/agda/issues/5838)
    in `--cubical`.

  * Fixes some regressions introduced in 2.6.1:

    - [#5809](https://github.com/agda/agda/issues/5809):
      internal error with `--irrelevant-projections`.

  * Fixes some regressions introduced in 2.6.2:

    - [#5705](https://github.com/agda/agda/issues/5705) and
      [#5706](https://github.com/agda/agda/issues/5706):
      inconsistency from universe level `Int` overflow.

    - [#5784](https://github.com/agda/agda/issues/5784):
      `primEraseEquality` does not compute.

    - [#5805](https://github.com/agda/agda/issues/5805):
      internal error involving holes and `with`.

    - [#5819](https://github.com/agda/agda/issues/5819):
      internal error when reducing in termination checker.

  * Other
    [fixes](https://github.com/agda/agda/issues?q=is%3Aissue+milestone%3A2.6.2.2+is%3Aclosed)
    and improvements (see below).

  Installation and infrastructure
  -------------------------------

  Agda supports GHC versions 8.0.2 to 9.2.2.

  * UTF-8 encoding is now used for the `libraries` and `executables`
    configuration files (issue
    [#5741](https://github.com/agda/agda/issues/5741)).

  Language
  --------

  * `macro` definitions can now be used even when they are declared as erased
    (PR [#5744](https://github.com/agda/agda/pull/5744)).
    For example, this is now accepted:
    ```agda
    macro
      @0 trivial : Term → TC ⊤
      trivial = unify (con (quote refl) [])

    test : 42 ≡ 42
    test = trivial
    ```

  * Fixed inconsistent `--cubical` reductions for `transp`:
    issue [#5838](https://github.com/agda/agda/issues/5838).

  * Fixed issues with reflection:

    - [#5762](https://github.com/agda/agda/issues/5762):
      do not eagerly check existence of commands in `executables` file.

    - [#5695](https://github.com/agda/agda/issues/5695):
      fix `elaborate-and-give` interaction command.

    - [#5700](https://github.com/agda/agda/issues/5700):
      scope of metas created during macro expansion.

    - [#5712](https://github.com/agda/agda/issues/5712):
      internal error with tactics on record fields of function type.

  * Fixed issues with instance search:

    - [#5583](https://github.com/agda/agda/issues/5583):
      constructor instances from parameterized modules.

    - [#5787](https://github.com/agda/agda/issues/5787):
      erased instance arguments.

  * Fixed issue [#5683](https://github.com/agda/agda/issues/5683) with
    generalization in `let`.

  Compiler backends
  -----------------

  * `.hs` files generated by the GHC backend now switch off the
    `warn-overlapping-patterns` warning (issue
    [#5758](https://github.com/agda/agda/issues/5758)).

  * The GHC backend now calls `ghc` with environment setting
    `GHC_CHARENC=UTF-8` (issue
    [#5742](https://github.com/agda/agda/issues/5742)).

  Performance
  -----------

  * Better caching of interfaces
    (issue [#2767](https://github.com/agda/agda/issues/2767)).

  * Various performance improvements concerning meta-variables:
    issue [#5388](https://github.com/agda/agda/issues/5388)
    and PR [#5733](https://github.com/agda/agda/pull/5733).
basic-deps:
  exceptions: '>=0.8 && <0.11'
  data-hash: '>=0.2.0.0 && <0.3'
  bytestring: '>=0.10.8.1 && <0.12'
  murmur-hash: '>=0.1 && <0.2'
  case-insensitive: '>=1.2.0.4 && <1.3'
  haskeline: '>=0.7.2.3 && <0.9'
  edit-distance: '>=0.2.1.2 && <0.3'
  split: '>=0.2.0.0 && <0.2.4'
  stm: '>=2.4.4 && <2.6'
  base: '>=4.9.0.0 && <4.17'
  time: '>=1.6.0.1 && <1.13'
  unordered-containers: '>=0.2.5.0 && <0.3'
  text: '>=1.2.3.1 && <2.1'
  strict: '>=0.3.2 && <0.5'
  Agda: -any
  monad-control: '>=1.0.1.0 && <1.1'
  filepath: '>=1.4.1.0 && <1.5'
  gitrev: '>=1.3.1 && <2.0'
  process: '>=1.4.2.0 && <1.7'
  async: '>=2.2 && <2.3'
  array: '>=0.5.1.1 && <0.6'
  containers: '>=0.5.11.0 && <0.7'
  binary: '>=0.8.3.0 && <0.9'
  hashtables: '>=1.2.0.2 && <1.4'
  regex-tdfa: '>=1.3.1.0 && <1.4'
  uri-encode: '>=1.5.0.4 && <1.6'
  zlib: ==0.6.*
  mtl: '>=2.2.1 && <2.4'
  hashable: '>=1.2.1.0 && <1.5'
  blaze-html: '>=0.8 && <0.10'
  transformers: '>=0.5 && <0.7'
  parallel: '>=3.2.2.0 && <3.3'
  deepseq: '>=1.4.2.0 && <1.5'
  boxes: '>=0.1.3 && <0.2'
  equivalence: '>=0.3.2 && <0.5'
  pretty: '>=1.1.3.3 && <1.2'
  aeson: '>=1.1.2.0 && <2.2'
  template-haskell: '>=2.11.0.0 && <2.19'
  directory: '>=1.2.6.2 && <1.4'
all-versions:
- 2.2.0
- 2.2.2
- 2.2.4
- 2.2.6
- 2.2.8
- 2.2.10
- 2.3.0
- 2.3.0.1
- 2.3.2
- 2.3.2.1
- 2.3.2.2
- 2.4.0
- 2.4.0.1
- 2.4.0.2
- 2.4.2
- 2.4.2.1
- 2.4.2.2
- 2.4.2.3
- 2.4.2.4
- 2.4.2.5
- 2.5.1.2
- 2.5.2
- 2.5.3
- 2.5.4.2
- 2.6.0.1
- 2.6.1.3
- 2.6.2
- 2.6.2.1
- 2.6.2.2
author: Ulf Norell and The Agda Team, see https://agda.readthedocs.io/en/latest/team.html
latest: 2.6.2.2
description-type: markdown
description: |
  Agda 2
  ======

  [![Hackage version](https://img.shields.io/hackage/v/Agda.svg?label=Hackage)](http://hackage.haskell.org/package/Agda)
  [![Stackage version](https://www.stackage.org/package/Agda/badge/lts?label=Stackage)](https://www.stackage.org/package/Agda)
  [![Test](https://github.com/agda/agda/workflows/Build,%20Test,%20and%20Benchmark/badge.svg?branch=master)](https://github.com/agda/agda/actions?query=workflow%3A%22Build%2C+Test%2C+and+Benchmark%22)
  [![Stack Build Status via GH Actions](https://github.com/agda/agda/workflows/stack%20build/badge.svg)](https://github.com/agda/agda/actions?query=workflow%3A%22stack+build%22)
  [![Documentation Status](https://readthedocs.org/projects/agda/badge/?version=latest)](http://agda.readthedocs.io/en/latest/?badge=latest)
  [![Agda Zulip](https://img.shields.io/badge/zulip-join_chat-brightgreen.svg)](https://agda.zulipchat.com)

  ![The official Agda logo](doc/user-manual/agda.svg)

  Note that this README is only about Agda, not its standard
  library. See the [Agda Wiki][agdawiki] for information about the
  library.

  Documentation
  -------------

  * [User manual](http://agda.readthedocs.io)
    (per-commit pdf can be downloaded from the
    [github actions](https://github.com/agda/agda/actions?query=workflow%3A%22User+Manual%22) page)
  * [CHANGELOG](https://github.com/agda/agda/blob/master/CHANGELOG.md)

  Getting Started
  ----------------

  * [Installation](https://agda.readthedocs.io/en/latest/getting-started/installation.html)
  * [Quick guide to editing, type checking and compiling Agda
    code](https://agda.readthedocs.io/en/latest/getting-started/a-taste-of-agda.html)

  Contributing to Agda
  --------------------

  * Contribution how-to: [`HACKING`](https://github.com/agda/agda/blob/master/HACKING.md)
  * [Haskell style-guide](https://github.com/andreasabel/haskell-style-guide/blob/master/haskell-style.md)

  [agdawiki]: http://wiki.portal.chalmers.se/agda/pmwiki.php
license-name: LicenseRef-OtherLicense
