all-versions:
- '0.0'
- '0.1'
- 0.1.1
author: Alice Rixte
basic-deps:
  aeson: '>=2.2 && <2.3'
  base: '>=4.18 && <5'
  bytestring: '>=0.12 && <0.13'
  cmdargs: '>=0.10 && <0.11'
  containers: '>=0.6 && <0.8'
  ghci4luatex: '>=0'
  network-simple: '>=0.4 && <0.5'
  process: '>=1.6.25 && <1.7'
  stm: '>=2.5 && <2.6'
  text: '>=2.1 && <2.2'
changelog: |
  # Changelog for `ghci4luatex`

  All notable changes to this project will be documented in this file.

  The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
  and this project adheres to the
  [Haskell Package Versioning Policy](https://pvp.haskell.org/).

  ## 0.0 - 2025-07-04

  * A server that executes GHCi commands and memoizes the results
  * A LuaTeX package that sends commands to that server

  ## 0.1 - 2025-07-07

  * Fix missing test for `cabal install ghci4luatex`

  ## 0.1.1 - 2025-07-10

  * Bump Quickcheck version for stackage upload
changelog-type: markdown
description: "# ghci4luatex : a GHCi session in LuaTeX\n\n[![Haskell](https://img.shields.io/badge/language-Haskell-orange.svg)](https://haskell.org)
  [![BSD3 License](https://img.shields.io/badge/license-BSD3-blue.svg)](https://github.com/AliceRixte/ghci4luatex/LICENSE)
  [![Hackage](https://img.shields.io/hackage/v/ghci4luatex.svg)](https://hackage.haskell.org/package/ghci4luatex)
  [![Nightly](https://www.stackage.org/package/ghci4luatex/badge/nightly)](https://www.stackage.org/nightly/package/ghci4luatex)
  [![LTS](https://www.stackage.org/package/ghci4luatex/badge/lts)](https://www.stackage.org/lts/package/ghci4luatex)
  \n\nRun a GHCi session within a LaTeX document :\n\n* The `ghci` environment evaluates
  Haskell code without printing anything :\n\n```latex\n\\begin{ghci}\nx :: Int\nx
  = 4\n\ny :: Int\ny = 5\n\\end{ghci}\n```\n\n* The `hask` command evaluates any GHCi
  command and prints in Haskell what GHCi printed :\n\n```latex\nThe sum of $x$ and
  $y$ when $x = \\hask{x}$ and $y = \\hask{y}$ is $\\hask{x + y}$.\n```\n\n\n## Documentation\n\nYou
  can find the full pdf documentation in [here](./doc/ghci-doc.pdf)\n\n## Quick start\n\n\n1.
  Install `haskell` and `cabal` or `stack`\n\n2. Install `ghci4luatex`by running either\n\n```\ncabal
  install ghci4luatex\n```\n\nor\n\n```\nstack install ghci4luatex\n```\n\n3. Copy
  `ghci.sty` and `dkjson.lua` in the folder containing a `main.tex` file with the
  following content :\n\n``` latex\n\\documentclass{article}\n\n\\usepackage{ghci}\n\n\\begin{document}\n\n\\begin{ghci}\nx
  :: Int\nx = 5\n\ny :: Int\ny = 6\n\\end{ghci}\n\nThe sum of $x$ and $y$ when $x
  = \\hask{x}$ and $y = \\hask{y}$ is $\\hask{x + y}$.\n\n\\end{document}\n```\n\n4.
  Within that folder, run the `ghci4luatex` server :\n\n```\nghci4luatex\n```\n\n5.
  Open another shell and compile with `luatex` :\n\n```\nlatexmk -shell-escape -lualatex
  main.tex\n```\n\n## Use any Haskell library\n\n### HaTeX\n\n```latex\n\n\\begin{ghci}\n:set
  -XOverloadedStrings\n\\end{ghci}\n\n\\begin{ghci}\nimport Text.LaTeX\nimport Text.LaTeX.Base.Pretty\n\nprintTex
  = putStrLn . prettyLaTeX\n\\end{ghci}\n\n\\hask{printTex (section \"A section using
  HaTeX\")}\n```\n\n### Diagrams\n\n```latex\n\n\\usepackage{svg}\n\n\\begin{ghci}\n{-#
  LANGUAGE NoMonomorphismRestriction #-}\n{-# LANGUAGE FlexibleContexts          #-}\n{-#
  LANGUAGE TypeFamilies              #-}\n\nimport Diagrams.Prelude hiding (section)\nimport
  Diagrams.Backend.SVG\n\nmyDia = circle 1 # fc green\n\\end{ghci}\n\n\\begin{ghci}\n
  \ renderSVG \"myDia.svg\" (dims2D 400 300) myDia\n\\end{ghci}\n\n\\begin{figure}[h]\n
  \ \\centering\n  \\includesvg[width=0.2\\textwidth]{myDia}\n  \\caption{A circle
  using Diagrams}\n\\end{figure}\n```\n\n## Workflow with `lhs2tex` in Visual Studio
  Code with LaTeX workshop\n\nIn this repository, you will find an [example](./example/README.md)
  that contains a [Makefile](./example/Makefile).\n\nYou can take inspiration from
  this to use `make` in a LateX Workshop receipe :\n\n1. Install the [LaTeX Workshop](https://marketplace.visualstudio.com/items?itemName=James-Yu.latex-workshop)
  extension.\n2. In `settings.json` , add the following\n```json\n\"latex-workshop.latex.recipes\":
  [\n        {\n            \"name\": \"ghci4luatex\",\n            \"tools\": [\n
  \               \"mklatex\"\n            ]\n        }\n    ],\n\"latex-workshop.latex.outDir\":
  \"./build/\",\n\"latex-workshop.latex.tools\": [\n        {\n            \"name\":
  \"mklatex\",\n            \"command\": \"make\",\n            \"args\": [\n                \"latex\",\n
  \               \"main=%DOCFILE%\"\n            ],\n            \"env\": {}\n        }\n
  \   ],\n```\n\n"
description-type: markdown
hash: 135ebb4ddbb52a2ab8c2091f051fc76782246f4524c0e78338033e0d3f7ce7a5
homepage: https://github.com/AliceRixte/ghci4luatex#readme
latest: 0.1.1
license-name: BSD-3-Clause
maintainer: alice.rixte@u-bordeaux.fr
synopsis: A GHCi session in LaTeX
test-bench-deps:
  QuickCheck: '>=2.14 && <2.17'
  aeson: '>=2.2 && <2.3'
  base: '>=4.18 && <5'
  bytestring: '>=0.12 && <0.13'
  cmdargs: '>=0.10 && <0.11'
  containers: '>=0.6 && <0.8'
  ghci4luatex: '>=0'
  hspec: '>=2.11 && <2.12'
  network-simple: '>=0.4 && <0.5'
  process: '>=1.6.25 && <1.7'
  stm: '>=2.5 && <2.6'
  text: '>=2.1 && <2.2'
