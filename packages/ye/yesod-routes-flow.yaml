homepage: https://github.com/freckle/yesod-routes-flow
changelog-type: markdown
hash: 0d14f28b9401c7dcb6c078391e20c032e29980bd9b2ddf88cfda49738bab68c1
test-bench-deps:
  shakespeare: '>=2.0.20'
  yesod-routes-flow: -any
  yesod-core: '>=1.4 && <2.0'
  base: '>=4.11.1.0 && <5'
  hspec: '>=2.5.5'
  text: '>=1.2.3.1'
  system-fileio: '>=0.3.16.4'
  semigroups: '>=0.18.5'
  containers: '>=0.5.11.0'
  classy-prelude: '>=0.7'
  attoparsec: '>=0.13.2.2'
  system-filepath: '>=0.4'
  hspec-expectations: '>=0.8.2'
maintainer: engineering@freckle.com
synopsis: Generate Flow routes for Yesod
changelog: |
  ## [_Unreleased_](https://github.com/freckle/yesod-routes-flow/compare/v3.0.0.2...main)

  None

  ## [v3.0.0.2](https://github.com/freckle/yesod-routes-flow/compare/v3.0.0.1...v3.0.0.2)

  - Support GHCs 9.0 and 9.2

  ## [v3.0.0.1](https://github.com/freckle/yesod-routes-flow/compare/2.0...v3.0.0.1)

  - Setup CI/CD
  - Starting in `yesod-core-1.6.2`, `yesod-core` started deriving `Show` for `ResourceTree` and `FlatResource`. To prevent duplicate instance errors, this package now only derives `Show` for `yesod-core < 1.6.2`.
  - An implication of this is that building anything less than `yesod-routes-flow-3.0.0.1` with `yesod-core-1.6.2` will cause duplicate instance compiler errors.
basic-deps:
  yesod-core: '>=1.4 && <2.0'
  base: '>=4.11.1.0 && <5'
  text: '>=1.2.3.1'
  system-fileio: '>=0.3.16.4'
  containers: '>=0.5.11.0'
  classy-prelude: '>=0.7'
  attoparsec: '>=0.13.2.2'
  system-filepath: '>=0.4'
all-versions:
- '1.0'
- 1.0.1
- 1.0.2
- '1.1'
- 1.1.1
- '2.0'
- 3.0.0.1
- 3.0.0.2
author: Freckle Engineering
latest: 3.0.0.2
description-type: markdown
description: |
  yesod-routes-flow
  =================

  Parse the Yesod routes data structure and generate routes that can be used in Flow.

  The routing structure is generated by:

      mkYesodDispatch "App" resourcesApp

  You can generate routes at startup inside the `makeApplication` function

      when development $
          genFlowRoutes resourcesApp "assets/ts/paths-gen.ts"


  This generates Flow code:

      class PATHS_TYPE_paths {
        contacts: PATHS_TYPE_paths_contacts;
        admin: PATHS_TYPE_paths_admin;

        constructor(){
          this.contacts = new PATHS_TYPE_paths_contacts();
          this.admin = new PATHS_TYPE_paths_admin();
        }
      }

      class PATHS_TYPE_paths_contacts {
        get(): string { return '/api/v1/contacts/get'; }
      }

      class PATHS_TYPE_paths_admin {
        adminDocs: PATHS_TYPE_paths_admin_adminDocs;

        constructor(){
          this.adminDocs = new PATHS_TYPE_paths_admin_adminDocs();
        }
      }

      class PATHS_TYPE_paths_admin_adminDocs {
        get(): string { return '/api/v1/admin/docs/get'; }
      }


      var PATHS:PATHS_TYPE_paths = new PATHS_TYPE_paths();


  In your Flow code you can now do:


      PATHS.admin.adminDocs.get()


  Please note that the Haskell code was hastily translated from
  Javascript code, then translated from TypeScript to Flow, and is
  pretty horrible.  There are bugs and edge cases to be addressed,
  but this works ok for us.
license-name: MIT
