all-versions:
- 0.0.1
author: Nikita Volkov <nikita.y.volkov@mail.ru>
basic-deps:
  attoparsec: '>=0.14 && <0.19'
  base: '>=4.11 && <5'
  bytestring: '>=0.10 && <0.13'
  ptr-peeker: ^>=0.1
  ptr-poker: ^>=0.1.2.16
  tagged: ^>=0.8.9
  text: '>=1.2 && <3'
  text-builder: ^>=1.0.0.4
changelog: ''
changelog-type: ''
description: "# postgresql-types-algebra\n\n[![Hackage](https://img.shields.io/hackage/v/postgresql-types-algebra.svg)](https://hackage.haskell.org/package/postgresql-types-algebra)\n[![Continuous
  Haddock](https://img.shields.io/badge/haddock-master-blue)](https://nikita-volkov.github.io/postgresql-types-algebra/)\n\nCore
  type classes and algebra for PostgreSQL type mappings, extracted from [\"postgresql-types\"](https://github.com/nikita-volkov/postgresql-types).\n\n##
  Overview\n\nThis package provides the fundamental abstractions for mapping Haskell
  types to PostgreSQL types:\n\n- **Type classes** defining the algebra for PostgreSQL
  type mappings\n- **Error types** for decoding failures\n- **Metadata support** for
  type names, OIDs, and parameters\n- **No concrete implementations** - just the algebra\n\n##
  Type Classes\n\n### `IsScalar`\n\nThe core type class for types that map to PostgreSQL
  values:\n\n```haskell\nclass IsScalar a where\n  -- Type metadata\n  typeName ::
  Tagged a Text\n  baseOid :: Tagged a (Maybe Word32)\n  arrayOid :: Tagged a (Maybe
  Word32)\n  typeParams :: Tagged a [Text]\n  typeSignature :: Tagged a Text\n  \n
  \ -- Binary format\n  binaryEncoder :: a -> Write.Write\n  binaryDecoder :: PtrPeeker.Variable
  (Either DecodingError a)\n  \n  -- Textual format\n  textualEncoder :: a -> TextBuilder.TextBuilder\n
  \ textualDecoder :: Attoparsec.Parser a\n```\n\nThis class enables:\n- **Binary
  encoding/decoding** using PostgreSQL's native binary format\n- **Textual encoding/decoding**
  using PostgreSQL's text representation  \n- **Type metadata** including OIDs and
  type signatures for parameterized types\n- **Round-trip fidelity** through all encoding
  combinations\n\n## Use Cases\n\n### For Library Authors\n\nUse this package to:\n-
  Define custom PostgreSQL type mappings compatible with the \"postgresql-types\"
  ecosystem\n- Create adapter libraries for different PostgreSQL client libraries\n-
  Build generic tools that work with any `IsScalar` instance\n\n### For Application
  Developers\n\nThis package is typically used indirectly through:\n- [\"postgresql-types\"](https://github.com/nikita-volkov/postgresql-types)
  - Concrete type implementations\n- [\"hasql-postgresql-types\"](https://github.com/nikita-volkov/hasql-postgresql-types)
  - \"hasql\" integration\n- [\"postgresql-simple-postgresql-types\"](https://github.com/nikita-volkov/postgresql-simple-postgresql-types)
  - \"postgresql-simple\" integration\n"
description-type: markdown
hash: 0e57903b44186c8de7b0146edc3dde21c60b500306d0546a5e5ef1576463909b
homepage: https://github.com/nikita-volkov/postgresql-types-algebra
latest: 0.0.1
license-name: MIT
maintainer: Nikita Volkov <nikita.y.volkov@mail.ru>
synopsis: Type classes for PostgreSQL type mappings
test-bench-deps: {}
