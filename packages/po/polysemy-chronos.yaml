homepage: https://github.com/tek/polysemy-time#readme
changelog-type: markdown
hash: 293a476de3173c665d078482cdf4940beac33a2f640e31b82dff0570a8c10f6b
test-bench-deps:
  base: ==4.*
  polysemy-test: '>=0.6'
  incipit-core: '>=0.4 && <0.6'
  chronos: '>=1.1.1 && <1.2'
  polysemy-time: '>=0.6.0.2 && <0.7'
  tasty: '>=1.1'
  polysemy-chronos: -any
maintainer: hackage@tryp.io
synopsis: A Polysemy effect for Chronos
changelog: |
  # 0.6.0.1

  * Support GHC 9.6.

  # 0.6.0.0

  * Support GHC 9.4.

  # 0.2.0.2

  * Bugfix: Chronos treats months as zero-based, while `mkDate` uses 1-base.

  # 0.1.4.0
  * Add interpreters that remain at a fixed instant

  # 0.1.0.0
  * initial release
basic-deps:
  base: ==4.*
  incipit-core: '>=0.4 && <0.6'
  chronos: '>=1.1.1 && <1.2'
  polysemy-time: '>=0.6.0.2 && <0.7'
all-versions:
- 0.1.0.0
- 0.1.2.0
- 0.1.2.1
- 0.1.2.2
- 0.1.2.3
- 0.1.2.4
- 0.1.3.0
- 0.1.3.1
- 0.1.3.2
- 0.1.4.0
- 0.2.0.1
- 0.2.0.2
- 0.2.0.3
- 0.3.0.0
- 0.4.0.0
- 0.5.0.0
- 0.5.1.0
- 0.6.0.0
- 0.6.0.1
- 0.6.0.2
author: Torsten Schmits
latest: 0.6.0.2
description-type: markdown
description: |
  # About

  This Haskell library provides interpreters for the `Time` effect from [polysemy-time].

  # Example

  ```haskell
  import Polysemy (Members, runM)
  import Polysemy.Chronos (ChronosTime, interpretTimeChronosConstantAt, interpretTimeChronos)
  import qualified Polysemy.Time as Time
  import Polysemy.Time (MilliSeconds(MilliSeconds), mkDatetime)

  startTime :: Chronos.Time
  startTime =
    Chronos.datetimeToTime (Time.mkDatetime 2020 01 01 0 0 0)

  prog ::
    Ord t =>
    Members [ChronosTime, Embed IO] r =>
    Sem r Bool
  prog = do
    Time.sleep (MilliSeconds 1)
    time <- Time.now
    pure (time == startTime)

  main :: IO ()
  main =
    runM do
      print =<< interpretTimeChronos prog -- False
      print =<< interpretTimeChronosConstantAt prog -- True
  ```

  [Polysemy]: https://hackage.haskell.org/package/polysemy
  [polysemy-time]: https://hackage.haskell.org/package/polysemy-time
  [chronos]: https://hackage.haskell.org/package/chronos
license-name: BSD-2-Clause-Patent
