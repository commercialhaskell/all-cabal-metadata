all-versions:
- 0.1.0.0
- 0.2.0.0
author: rembo10
basic-deps:
  aeson: '>=2.1 && <2.4'
  base: '>=4.17 && <5'
  base64-bytestring: '>=1.2 && <1.3'
  binary: '>=0.8 && <0.9'
  bytestring: '>=0.11 && <0.13'
  containers: '>=0.6 && <0.9'
  deepseq: '>=1.4 && <1.6'
  directory: '>=1.3 && <1.4'
  file-io: '>=0.1 && <0.2'
  filepath: '>=1.4 && <1.6'
  monatone: '>=0'
  mtl: '>=2.2 && <2.4'
  temporary: '>=1.3 && <1.4'
  text: '>=2.1 && <2.2'
  unordered-containers: '>=0.2 && <0.3'
changelog: |
  # Changelog for `monatone`

  ## [0.2.0.0] - 2025-12-10

  ### Added
  - **M4A/AAC/ALAC Support**: Complete read/write support for M4A audio files
    - Full metadata parsing with iTunes-style tags (©nam, ©ART, aART, etc.)
    - Audio properties extraction (duration, sample rate, channels, bit depth)
    - AAC and Apple Lossless (ALAC) codec detection and parsing
    - Album art extraction (JPEG, PNG, BMP)
    - Track/disc number parsing with iTunes binary format
    - Complete metadata writing with atom reconstruction
    - **Freeform atom support** for MusicBrainz-style fields:
      - Record label (LABEL)
      - Catalog number (CATALOGNUMBER)
      - Barcode (BARCODE)
      - Release country (MusicBrainz Album Release Country)
      - All MusicBrainz IDs (recording, release, artist, album artist, release group, work, disc)
      - Acoustid fingerprint and ID
    - Integration with unified Writer API
    - Comprehensive test coverage

  ### Technical Details
  - Pure Haskell MP4 atom parser with hierarchical structure support
  - Efficient streaming implementation (no full file loading)
  - Support for both 32-bit and 64-bit atom sizes
  - Version-aware parsing (mvhd v0/v1, etc.)
  - Safe file writing with temporary file approach
  - Freeform (----) atom parsing and writing for custom metadata
  - Zero compiler warnings

  ## [0.1.0.0] - Initial Release

  ### Added
  - FLAC read/write support with Vorbis comments
  - MP3 read/write support with ID3v1, ID3v2.3, and ID3v2.4 tags
  - OGG/Vorbis and Opus basic support
  - Album art handling
  - Pure Haskell implementation
changelog-type: markdown
description: "# Monatone\n\nA pure Haskell library for parsing and writing audio metadata.\n\n##
  Features\n\n- **Pure Haskell** - No FFI dependencies or external binaries required\n-
  **Multiple format support** - FLAC, MP3 (ID3v1/v2), OGG/Vorbis, and Opus\n- **Read
  and write** - Full tag writing support for FLAC and MP3\n- **Type-safe** - Strongly
  typed metadata representation\n- **Efficient** - Streaming support for large files\n\n##
  Installation\n\n```bash\ncabal install monatone\n```\n\nOr add to your `.cabal`
  file:\n\n```cabal\nbuild-depends: monatone >= 0.1.0\n```\n\n## Quick Start\n\n```haskell\nimport
  Monatone.FLAC (parseMetadata)\nimport Monatone.Metadata\n\n-- Parse metadata from
  a FLAC file\nmain :: IO ()\nmain = do\n  result <- parseMetadata \"song.flac\"\n
  \ case result of\n    Left err -> putStrLn $ \"Error: \" ++ show err\n    Right
  metadata -> do\n      putStrLn $ \"Title: \" ++ maybe \"Unknown\" id (title metadata)\n
  \     putStrLn $ \"Artist: \" ++ maybe \"Unknown\" id (artist metadata) \n      putStrLn
  $ \"Album: \" ++ maybe \"Unknown\" id (album metadata)\n```\n\n## Supported Formats\n\n###
  FLAC\n- Full Vorbis comment support (read/write)\n- PICTURE block support for album
  art\n- StreamInfo parsing for audio properties\n\n### MP3\n- ID3v1 tag support (read/write)\n-
  ID3v2.3 and ID3v2.4 support (read/write)\n- APIC frame support for album art\n-
  Common frames: TIT2, TPE1, TALB, TYER, TCON, etc.\n\n### OGG/Vorbis\n- Vorbis comment
  reading\n- Basic metadata extraction\n\n### Opus\n- Basic metadata support through
  Vorbis comments\n\n## Writing Tags\n\n```haskell\nimport Monatone.Writer\nimport
  Monatone.Types\nimport qualified Data.Map as Map\n\n-- Update MP3 tags\nupdateMP3Tags
  :: FilePath -> IO ()\nupdateMP3Tags file = do\n  let tags = Map.fromList\n        [
  (\"TIT2\", \"New Title\")\n        , (\"TPE1\", \"New Artist\")\n        , (\"TALB\",
  \"New Album\")\n        ]\n  result <- writeMP3Tags file tags\n  case result of\n
  \   Left err -> putStrLn $ \"Error: \" ++ err\n    Right () -> putStrLn \"Tags updated
  successfully\"\n```\n\n## API Documentation\n\nFull API documentation is available
  on [Hackage](https://hackage.haskell.org/package/monatone).\n\n## Contributing\n\nContributions
  are welcome! Please feel free to submit issues and pull requests on [GitHub](https://github.com/rembo10/monatone).\n\n##
  License\n\nGPL 3.0 License - see LICENSE file for details.\n"
description-type: markdown
hash: 7b4802d19118f177b1acab438b155844c0aabbfbb527246cb62c2ef0f2cd4072
homepage: https://github.com/rembo10/monatone
latest: 0.2.0.0
license-name: GPL-3.0-only
maintainer: rembo10@codeshy.com
synopsis: Pure Haskell library for audio metadata parsing and writing
test-bench-deps:
  QuickCheck: '>=2.14 && <2.17'
  base: '>=0'
  bytestring: '>=0'
  containers: '>=0'
  directory: '>=0'
  filepath: '>=1.4 && <1.6'
  monatone: '>=0'
  mtl: '>=0'
  process: '>=0'
  tasty: '>=1.4 && <1.6'
  tasty-hunit: '>=0.10 && <0.11'
  tasty-quickcheck: '>=0.11 && <0.12'
  temporary: '>=0'
  text: '>=0'
