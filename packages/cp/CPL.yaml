all-versions:
- 0.0.5
- 0.0.6
- 0.0.7
- 0.0.8
- 0.0.9
- 0.1.0
- 0.2.0
author: Masahiro Sakai (masahiro.sakai@gmail.com)
basic-deps:
  array: '>=0'
  base: '>=4.16 && <5'
  containers: '>=0'
  haskeline: '>=0'
  mtl: '>=2.2.1'
  parsec: '>=0'
changelog: "0.2.0 (2026-02-06)\n-------------------------------\n\n* Add `show function
  <name>` subcommand to display information of functions including functors, factorizers,
  and user-defined parameterized morphisms:\n    ```\n    cpl> show function exp  \n
  \   f0: *c -> *a  f1: *b -> *d\n    ------------------------------------\n    exp(f0,f1):
  exp(*a,*b) -> exp(*c,*d)\n    cpl> show function curry\n    f0: prod(*a,*b) -> *c\n
  \   ---------------------------\n    curry(f0): *a -> exp(*b,*c)\n    cpl> let uncurry(f)
  = eval . prod(f, I)\n    cpl> show function uncurry\n    f: *a -> exp(*b,*c)\n    -----------------------------\n
  \   uncurry(f): prod(*a,*b) -> *c\n    ```\n* Add WebAssembly support for browser-based
  CPL interpreter (<https://msakai.github.io/cpl/>)\n* Add tutorials both in English
  and Japanese\n* Accept `id` as a synonym for `I` (identity morphism)\n* Allow the
  omission of the `is` keyword in data type definitions\n* Assume that files loaded
  via the `load` command use UTF-8 encoding\n* Remove readline support (the `Readline`
  cabal flag and `USE_READLINE_PACKAGE` code path)\n* Drop support for GHC <9.2 (base
  <4.16)\n* Stop providing MSI installer\n\n0.1.0 (2025-10-29)\n-------------------------------\n\n*
  Update Cabal-Version requirement from >=1.10 to 2.2\n* Require `mtl` >=2.2.1 for
  `Control.Monad.Except`\n* Fix compilation error on recent `mtl` package\n\n0.0.9
  (2018-02-16)\n-------------------------------\n\n* Use `Control.Monad.Except` instead
  of deprecated Control.Monad.Error\n\n0.0.8 (2016-01-14)\n-------------------------------\n\n*
  \"→\" can be used instead of \"->\"\n* GHC-7.10 support\n* Add windows installer\n\n0.0.7
  (2014-08-13)\n-------------------------------\n\n* Clean up internals\n* Enable
  `-fReadline` and `-fHaskeline` by default\n\n0.0.6 (2009-10-26)\n-------------------------------\n\nReadline/Haskeline
  support.\n\n0.0.4\n-------------------------------\n\nFunction defintions are added.\n\nExamples:\n\n
  \   > let uncurry(f) = eval . prod(f, I)\n    uncurry(f) = eval.prod(f,I)\n    f:
  *a -> exp(*b,*c)\n    -----------------------------\n    uncurry(f): prod(*a,*b)
  -> *c\n\n    > let primrec(f,g) = pi2.pr(pair(0,f), pair(s.pi1, g))\n    primrec(f,g)
  = pi2.pr(pair(0,f),pair(s.pi1,g))\n    f: 1 -> *a  g: prod(nat,*a) -> *a\n    ---------------------------------\n
  \   primrec(f,g): nat -> *a\n"
changelog-type: markdown
description: "An implementation of \"A Categorical Programming Language\"\n=========================================================\n\n[![Build
  Status](https://github.com/msakai/cpl/actions/workflows/build.yaml/badge.svg)](https://github.com/msakai/cpl/actions/workflows/build.yaml)\n[![Hackage](https://img.shields.io/hackage/v/CPL.svg)](https://hackage.haskell.org/package/CPL)\n[![Hackage
  Deps](https://img.shields.io/hackage-deps/v/CPL.svg)](https://packdeps.haskellers.com/feed?needle=CPL)\n[![License](https://img.shields.io/badge/License-BSD%203--Clause-blue.svg)](https://opensource.org/licenses/BSD-3-Clause)\n\nThis
  package is an implementation of \"A Categorical Programming Language\"\n(CPL for
  short)[1][2] written in Haskell.\n\n\U0001F680 **Try CPL in your browser:** [WebAssembly
  Demo](https://msakai.github.io/cpl/) (no installation required!)\n\n![CPL WebAssembly
  Demo](images/screenshot.png)\n\nCPL is a functional programming language based on
  category\ntheory. Data types are declared in a categorical manner by\nadjunctions.
  Data types that can be handled include the terminal\nobject, the initial object,
  the binary product functor, the binary\ncoproduct functor, the exponential functor,
  the natural number object,\nthe functor for finite lists, and the functor for infinite
  lists.\nEach data type is declared with its basic operations or\nmorphisms. Programs
  consist of these morphisms, and execution of\nprograms is the reduction of elements
  (i.e. special morphisms) to\ntheir canonical form.\n\n\U0001F4E6 Install\n-------\n\n###
  Option 1: Use WebAssembly Version (No Installation) \U0001F310\n\nTry CPL directly
  in your browser:\n[https://msakai.github.io/cpl/](https://msakai.github.io/cpl/)\n\nNo
  installation required! Works on Chrome, Firefox, Safari, and Edge.\n\n### Option
  2: Build from Source \U0001F527\n\n**Supported GHC versions:** >=9.2\n\n#### Standard
  Build (Native)\n\nDe-Compress the archive and enter its top directory.\nThen type:\n\n```bash\n$
  cabal configure\n$ cabal build\n$ cabal install\n```\n\nIf you want to compile without
  haskeline, add `-f-Haskeline` to the configure\ncommand.\n\nAlternatively, you can
  use Stack:\n\n```bash\n$ stack build\n$ stack exec cpl\n```\n\nTo disable haskeline
  with Stack, use the `--flag` option:\n\n```bash\n$ stack build --flag CPL:-Haskeline\n```\n\n####
  WebAssembly Build\n\nSee [web/README.md](web/README.md) for detailed instructions
  on building and testing the WebAssembly version.\n\n\U0001F4D6 Usage\n-----\n\nIf
  you are new to CPL, we recommend starting with the [Tutorial](#tutorial) below.\nFor
  a concise reference of the language syntax, see chapter 5 of [1].\n\n### Quick Start
  ⚡\n\nOnce you have CPL running (either in browser or terminal), try these commands:\n\n```\ncpl>
  edit\n| right object 1 with !\n| end object;\nright object 1 defined\ncpl> edit\n|
  right object prod(a,b) with pair is\n|   pi1: prod -> a\n|   pi2: prod -> b\n| end
  object;\nright object prod(+,+) defined\ncpl> edit\n| right object exp(a,b) with
  curry is\n|   eval: prod(exp,a) -> b\n| end object;\nright object exp(-,+) defined\ncpl>
  edit\n| left object nat with pr is\n|   0: 1 -> nat\n|   s: nat -> nat\n| end object;\nleft
  object nat defined\ncpl> show pair(pi2,eval)\npair(pi2,eval)\n    : prod(exp(*a,*b),*a)
  -> prod(*a,*b)\ncpl> let add=eval.prod(pr(curry(pi2), curry(s.eval)), I)\nadd :
  prod(nat,nat) -> nat  defined\ncpl> simp add.pair(s.s.0, s.0)\ns.s.s.0\n    : 1
  -> nat\ncpl> help\n  exit                        exit the interpreter\n  quit                        ditto\n
  \ bye                         ditto\n  edit                        enter editing
  mode\n  simp [full] <exp>           evaluate expression\n  show <exp>                  print
  type of expression\n  show function <name>        print information of function\n
  \ show object <functor>       print information of functor\n  load <filename>             load
  from file\n  set trace [on|off]          enable/disable trace\n  reset                       remove
  all definitions\ncpl> exit\n```\n\nFor more examples, see the `samples/` directory.\nFor
  step-by-step explanations, see the [Tutorial](#tutorial) below.\n\n### Tutorial\n\nA
  comprehensive tutorial that covers CPL usage and the category theory concepts behind
  it.\nNo prior knowledge of category theory is required.\n\n- [Tutorial (English)](TUTORIAL.md)\n-
  [チュートリアル (日本語)](TUTORIAL_ja.md)\n\nTopics covered: terminal objects, products, coproducts,
  exponential objects,\nnatural numbers, lists, infinite lists, and the duality between
  `left object` and `right object`.\n\nLicense\n-------\n\nThis program is licensed
  under the BSD-style license.\n(See the file [COPYING](COPYING).)\n\nCopyright (C)
  2004-2026 Masahiro Sakai <masahiro.sakai@gmail.com>\n\nAuthor\n------\n\nMasahiro
  Sakai <masahiro.sakai@gmail.com>\n\n\U0001F4D6 Bibliography\n------------\n\n1.
  Tatsuya Hagino, “A Categorical Programming Language”.\n    Ph.D. Thesis, University
  of Edinburgh, 1987.\n    available at <https://web.sfc.keio.ac.jp/~hagino/index.html.en>\n\n2.
  Tatsuya Hagino, “Categorical Functional Programming Language”.\n    Computer Software,
  Vol 7, No.1.\n    Advances in Software Science and Technology 4, 1992.\n    ISBN
  0-12-037104-9.\n"
description-type: markdown
hash: ac2cba779c77be47130b4ef8624c3bf4bede2ad9602e0d60737169c1a5d0c890
homepage: https://github.com/msakai/cpl
latest: 0.2.0
license-name: BSD-3-Clause
maintainer: masahiro.sakai@gmail.com
synopsis: An interpreter of Hagino's Categorical Programming Language (CPL).
test-bench-deps: {}
