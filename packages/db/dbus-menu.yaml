all-versions:
- 0.1.0.0
- 0.1.1.0
- 0.1.1.1
- 0.1.2.0
- 0.1.3.0
author: Ivan Malison
basic-deps:
  base: '>=4.7 && <5'
  containers: '>=0.5 && <0.8'
  dbus: '>=1 && <2'
  enclosed-exceptions: '>=1.0.0.1 && <1.1'
  filepath: '>=1.3 && <1.6'
  gi-glib: '>=2.0 && <2.1'
  gi-gtk3: '>=3.0 && <3.1'
  haskell-gi: '>=0.21.2 && <0.27'
  haskell-gi-base: '>=0.21.1 && <0.27'
  hslogger: '>=1.2 && <1.4'
  template-haskell: '>=2.10 && <2.23'
  text: '>=1.2 && <2.2'
changelog: |
  # Changelog for dbus-menu

  ## 0.1.3.0

  * Menu-level click dispatch: leaf item actions are registered in a persistent
    dispatch table (shared `IORef` map) owned by the menu, not captured in
    per-widget closures. Individual `onMenuItemActivate` handlers are thin
    trampolines that look up the action at activation time, decoupling dispatch
    from widget lifecycles.

  ## 0.1.2.0

  * Fix submenu clicks being silently dropped: run `AboutToShow` and `GetLayout`
    DBus calls on a forked thread instead of blocking the GTK main loop. Widget
    updates are posted back via `idleAdd` at `PRIORITY_DEFAULT_IDLE` so pending
    click events are processed first.
  * Remove redundant `onMenuItemActivate` refresh trigger on parent items (the
    `onWidgetShow` handler on the submenu is sufficient and avoids a double
    rebuild that created additional windows for lost clicks).

  ## 0.1.1.1

  * Fix "menu already attached" GTK warning by removing redundant
    `menuAttachToWidget` call on submenus (superseded by `menuItemSetSubmenu`)

  ## 0.1.1.0

  * Expand module exports (DBusMenu, DBusMenu.Client, DBusMenu.Client.Util)
  * Add `dbusmenu-` CSS style classes to menu widgets for theming
  * Fix flaky submenu activation by honoring the `children-display` property

  ## 0.1.0.0

  * Initial release, extracted from gtk-sni-tray
changelog-type: markdown
description: |
  # dbus-menu

  A Haskell client for the [com.canonical.dbusmenu](https://wiki.ubuntu.com/DesktopExperienceTeam/ApplicationIndicators#DBus_Menu_Protocol) DBus interface, providing GTK3 menu construction from DBusMenu services.

  Extracted from [gtk-sni-tray](https://github.com/taffybar/gtk-sni-tray).
description-type: markdown
hash: b181f586088dabf7535acd4837860e9b164c0ee9445a716d6bf28fc4800ca414
homepage: https://github.com/taffybar/dbus-menu#readme
latest: 0.1.3.0
license-name: BSD-3-Clause
maintainer: IvanMalison@gmail.com
synopsis: A Haskell implementation of the DBusMenu protocol
test-bench-deps: {}
