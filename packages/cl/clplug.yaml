homepage: https://github.com/AutonomousOrganization/blitz#readme
changelog-type: markdown
hash: c4fb4531cde242f54e922c45a2d981741477bed86926216c610276b2430650f1
test-bench-deps:
  bytestring: <0.12
  base: '>=4.7 && <5'
  text: <1.3
  network: <3.2
  conduit: <1.4
  mtl: <2.3
  attoparsec: <0.15
  aeson: <2.1
  blitz: -any
maintainer: taylorsingletonfookes@live.com
synopsis: Create Core Lightning Plugins
changelog: |
  # Changelog for `clnplug`

  All notable changes to this project will be documented in this file.

  The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
  and this project adheres to the
  [Haskell Package Versioning Policy](https://pvp.haskell.org/).

  ## Unreleased

  ## 0.1.0.0 - YYYY-MM-DD
basic-deps:
  bytestring: <0.12
  base: '>=4.7 && <5'
  text: <1.3
  network: <3.2
  conduit: <1.4
  mtl: <2.3
  attoparsec: <0.15
  aeson: <2.1
all-versions:
- 0.1.0.0
- 0.2.0.0
author: Taylor Singleton-Fookes
latest: 0.2.0.0
description-type: markdown
description: "\n## Core Lightning Plug\n\nCore lightning is a daemon ([lightningd](https://lightning.readthedocs.io/PLUGINS.html))
  that operates payment channels that allow you to send and receive bitcoin nearly
  instantly, with nearly zero fees with a high level of privacy. It does not compromise
  on any of the strengths of layer 1 bitcoin: no censorship, free speech, individual
  sovereignty, and impossible debasement. In fact it strengthens bitcoin because it
  encourages the operation of fully validating nodes, lightningd requires bitcoind.
  Clplug is a Haskell library that allows you to easily create extensions (called
  plugins) that extend or augment its functionality. \n\nTo create a plugin you only
  need to define three arguments:\n- `Manifest :: Value` - configuration of the interface
  with core lightning.\n- `PluginInit :: PlugInfo -> IO a` - startup function that
  returns the starting state\n- `PluginApp ::  (Maybe Id, Method, Params) -> PluginMonad`
  - data handler function\n\nThe transformer stack contains: \n- `ask` - a handle
  to lightning-rpc and environment info.\n- `get/put` - polymorphic state\n- `yield`
  - stdout to core lightning\n\nThe main exports from the Library are `Control.Plugin`,
  `Control.Client`, and `Data.Lightning`. An upload and link to hackage is pending.
  This is a basic usage example: \n```haskell  \n{-# LANGUAGE \n      OverloadedStrings
  \n    , FlexibleContexts \n    , ViewPatterns\n    , RecordWildCards\n#-} \n\nmodule
  Main (main) where\n\n-- from clplug\nimport Data.Lightning \nimport Control.Plugin
  \ \nimport Control.Conduit\n--\n\nimport Data.Conduit \nimport Data.Aeson\nimport
  Data.Text\n\nmain = plugin manifest appState app\n\nmanifest :: Value \nmanifest
  = object [\n      \"dynamic\" .= True\n    , \"subscriptions\" .= ([\"channel_opened\"]
  :: [Text] ) \n    , \"options\" .= ([]::[Option])\n    , \"rpcmethods\" .= ([])
  \n    , \"hooks\" .= ([]::[Hook])\n    , \"featurebits\" .= object [ ]\n    , \"notifications\"
  .= ([]::[Notification])\n    ] \n\napp :: PluginApp () \napp (Nothing, \"channel_opened\",
  fromJSON -> Success (ChannelOpened {..})) = do\n    doublespend funding_txid \n
  \   where doublespend _ = pure ()\n\nappState = pure () \n```      \n\nUseful areas
  of  exploration and research are:\n- fee optimization\n- route selection\n- economic
  rebalancing\n- accidental channel closes\n\n##### Donation bitcoin addr: bc1q5xx9mathvsl0unfwa3jlph379n46vu9cletshr\n\nlightning
  only scales bitcoin if people run nodes\n"
license-name: BSD-3-Clause
