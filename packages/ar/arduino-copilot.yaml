homepage: ''
changelog-type: text
hash: c579f91af5cdf9aa0db7cfda8486a621814c36f1e1eb82a50a4719c5c04a2adf
test-bench-deps:
  base: (>=4.6 && <5)
  arduino-copilot: -any
  process: -any
  temporary: -any
  directory: -any
maintainer: Joey Hess <id@joeyh.name>
synopsis: Arduino programming in haskell using the Copilot stream DSL
changelog: |
  arduino-copilot (1.5.5) unstable; urgency=medium

    * Added ButtonHold example, which shows how to accumulate state.
      Thanks, Tom Hoffman
    * Update to copilot-3.5.
    * stack.yaml: Update to lts-18.9.

   -- Joey Hess <id@joeyh.name>  Tue, 07 Sep 2021 14:18:39 -0400

  arduino-copilot (1.5.4) unstable; urgency=medium

    * Update to copilot-3.3.
    * stack.yaml: Update to lts-17.12.
    * Fix example README files to properly document how to build them with
      stack.

   -- Joey Hess <id@joeyh.name>  Mon, 17 May 2021 20:31:05 -0400

  arduino-copilot (1.5.3) unstable; urgency=medium

    * Update to copilot-3.2.
    * Update the Examples to build using stack.

   -- Joey Hess <id@joeyh.name>  Thu, 14 Jan 2021 13:22:42 -0400

  arduino-copilot (1.5.2) unstable; urgency=medium

    * Zurihac 2020 edition.
    * Remove dependency on 'unix' to allow building on Windows.
      Thanks, Adam Piper
    * Added Copilot.Arduino.Library.Random
    * Add test suite, which checks that all the examples compile.

   -- Joey Hess <id@joeyh.name>  Sun, 14 Jun 2020 14:55:28 -0400

  arduino-copilot (1.5.1) unstable; urgency=medium

    * Fix type of pullup, limiting it to digital IO pins.

   -- Joey Hess <id@joeyh.name>  Fri, 28 Feb 2020 23:15:39 -0400

  arduino-copilot (1.5.0) unstable; urgency=medium

    * Added whenB and scheduleB sketch combinators.
    * Replaced Copolot's ifThenElse with a polymorphic one that, as well
      as choosing between two Streams, can choose between two Sketches
      or two TypedBehaviors.
    * Added robot example, a simple line-follower that is an example
      of using ifB to compose simple Sketches into a more complex one.
    * Added liftB and liftB2, which let Copilot DSL expressions operate on
      TypedBehavior.
    * Added waterheater example, which shows how to keep units of measurement
      separated using TypedBehavior.
    * Copolot.Arduino now exports IsDigitalIOPin, IsAnalogInputPin, IsPWMPin,
      and the TypedBehavior constructor.
    * Reading from the same input in different parts of the same program
      no longer generates C that fails to compile. Instead, a single read
      is done per iteration.
    * Writing to the same output in different parts of a sketch no longer
      generates C code that fails to compile. However, if different values
      are written in the same iteration, it's undefined what order the writes
      will happen in.
    * Add EEPROMex.scanRange to read from EEPROM.
    * Fix bug in serial str's handling of special characters in the string.
    * Copilot.Arduino.Internals API changed.

   -- Joey Hess <id@joeyh.name>  Fri, 07 Feb 2020 14:44:02 -0800

  arduino-copilot (1.4.0) unstable; urgency=medium

    * New Copilot.Arduino.Library.EEPROMex module.
    * Serial: Added FlashString, to display strings directly from flash
      without copying into ram.
    * Added millis and micros.
    * MicroSeconds and MilliSeconds types changed to contain a Word32 not a
      Word16.
    * Renamed Voltage to ADC
    * Added frequency.

   -- Joey Hess <id@joeyh.name>  Sat, 01 Feb 2020 16:30:43 -0400

  arduino-copilot (1.3.0) unstable; urgency=medium

    * New polymorphic "input" action that can be used to read digital and
      analog pins, as well as read from serial ports, and replaces
      readfrom, readvoltage, etc.
    * Replaced PWMDutyCycle with pwm.
    * Changed the Serial and XBee modules to work with the =: operator
      and "input".

   -- Joey Hess <id@joeyh.name>  Thu, 30 Jan 2020 22:33:20 -0400

  arduino-copilot (1.2.0) unstable; urgency=medium

    * Bugfix: Doing the same kind of write to two different pins in the
      same program caused the C generated by Copilot to not compile.
    * Several changes making the API more FRP style, including adding
      Behavior and Event types.
    * Removed writeto and pwm, instead the type of a value connected to a pin
      with =: determines how the pin is driven.
    * delay now takes a value in MilliSeconds or MicroSeconds.
    * Generalized serial port interface, added support for XBee.

   -- Joey Hess <id@joeyh.name>  Tue, 28 Jan 2020 20:39:11 -0400

  arduino-copilot (1.1.1) unstable; urgency=medium

    * New Copilot.Arduino.Library.Serial module.
    * Added the analog pins for Uno and Nano, and support using
      them for digital IO, when the hardware allows that to be done.
    * Support reading voltage from analog pins.
    * Support PWM.
    * Added a way to enable pullup resistors for input pins.
    * Detect if a program tries to use the same pin for both input and
      output. This is not currently supported, so it will refuse to build the
      program.
    * Copilot.Arduino.Internals API changed.

   -- Joey Hess <id@joeyh.name>  Sun, 26 Jan 2020 20:37:26 -0400

  arduino-copilot (1.0.1) unstable; urgency=medium

    * Move example from cabal description (where it did not render correctly)
      to README.

   -- Joey Hess <id@joeyh.name>  Sat, 25 Jan 2020 16:01:19 -0400

  arduino-copilot (1.0.0) unstable; urgency=medium

    * First release.

   -- Joey Hess <id@joeyh.name>  Sat, 25 Jan 2020 10:33:09 -0400
basic-deps:
  copilot: (==3.5.*)
  base: (>=4.5 && <5)
  filepath: -any
  containers: -any
  copilot-c99: (==3.5.*)
  copilot-language: (==3.5.*)
  mtl: -any
  temporary: -any
  optparse-applicative: (>=0.14.1)
  directory: -any
all-versions:
- 0.0.1
- 1.0.0
- 1.0.1
- 1.1.1
- 1.2.0
- 1.3.0
- 1.4.0
- 1.5.0
- 1.5.1
- 1.5.2
- 1.5.3
- 1.5.4
- 1.5.5
author: Joey Hess
latest: 1.5.5
description-type: text
description: "Arduino programming in haskell using the Copilot stream DSL\n\nSee Copilot.Arduino
  for details on how to use write a program using this\nlibrary.\n\nFor example, to
  make an Arduino blink its LED:\n\n\timport Copilot.Arduino\n\tmain = arduino $ do\n\t\tled
  =: blinking\n\t\tdelay =: MilliSeconds (constant 100)\n\nThis and other examples
  are included in the Examples/ directory, each\nwith their own README explaining
  how to build and use them.\n\n## Contributing\n\nContributions are welcome, including
  adding support for more\nArduino C libraries, provided that the C library is reasonably
  commonly\nused, and is licensed with a free software license.\n\nContributors of
  such libraries will be expected to maintain them,\notherwise they may get removed
  if they are blocking changes to\narduino-copilot or are buggy.\n\nAny contribution
  should have well documented functions and types.\n"
license-name: BSD-3-Clause
