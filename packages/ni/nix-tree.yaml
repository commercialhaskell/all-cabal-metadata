all-versions:
- 0.1.0.0
- 0.1.1.0
- 0.1.2.0
- 0.1.3.0
- 0.1.3.1
- 0.1.4
- 0.1.5
- 0.1.6
- 0.1.7
- 0.1.8
- 0.1.9
- 0.2.0
- 0.2.1
- 0.3.0
- 0.3.1
- 0.3.2
- 0.3.3
author: Utku Demir
basic-deps:
  aeson: '>=0'
  async: '>=0'
  base: '>=4.11 && <5'
  brick: '>=2.1 && <2.4'
  bytestring: '>=0'
  clock: '>=0'
  containers: '>=0'
  directory: '>=0'
  filepath: '>=0'
  hrfsize: '>=0'
  microlens: '>=0'
  optparse-applicative: '>=0'
  relude: '>=0'
  terminal-progress-bar: '>=0'
  text: '>=0'
  typed-process: '>=0'
  unordered-containers: '>=0'
  vty: '>=0'
changelog: "# Changelog\n\n## 0.3.3 - 2024-01-17:\n\n* chore: Update 'brick' & 'optparse-applicative'
  library to work with the newer Stackage snapshot (thanks @ncfavier, PR: [#78][])
  \n\n[#78]: https://github.com/utdemir/nix-tree/issues/78\n\n## 0.3.2 - 2023-11-28:\n\n*
  fix: Support new path-info syntax introduced in nix 2.19 (thanks @SuperSandro2000,
  @GrigorenkoPV9, issue: [#67][], PR: [#68][])\n\n[#67]: https://github.com/utdemir/nix-tree/issues/67\n[#68]:
  https://github.com/utdemir/nix-tree/issues/68\n\n## 0.3.1 - 2022-12-10:\n\n* fix:
  Update 'brick' library (thanks @ncfavier, PR: [#47][]) \n\n[#47]: https://github.com/utdemir/nix-tree/issues/47\n\n##
  0.3.0 - 2022-11-26:\n\n* feat: Improved help text.\n* feat: Allow passing '--impure'
  flag to Nix (issue: [#40][]) \n* fix: Use -O1 instead of -O2 to save on compile
  times.\n\n[#40]: https://github.com/utdemir/nix-tree/issues/40\n\n## 0.2.1 - 2022-10-24:\n\n*
  fix: Fix excessive memory use when using why-depends on large dependency graphs
  (issue: [#31][])\n\n[#31]: https://github.com/utdemir/nix-tree/issues/31\n\n## 0.2.0
  - 2022-01-02:\n\n* feat: Support passing flake references (issue: [#27][])\n  *
  Try `nix-tree nixpkgs#hello'\n* change: `nix-tree` now requires an explicit `--derivation`
  flag to work on store derivations rather than their outputs.\n  * This is to be
  more consistent `nix path-info`.\n* fix: Fix timeout when running external command
  for the 'yank' functionality (issue: [#25][])\n\n[#27]: https://github.com/utdemir/nix-tree/issues/27\n\n##
  0.1.9 - 2021-11-08:\n\n* fix: Automatically enable the required 'nix-command' experimental
  feature on Nix >= 2.4\n* fix: Do not refresh screen periodically unless necessary\n\n##
  0.1.8 - 2021-09-06:\n\n* fix: Reduce idle CPU use (issue: [#22][])\n* fix: Put a
  timeout on yank command (issue: [#25][])\n* fix: Various performance improvements\n\n[#22]:
  https://github.com/utdemir/nix-tree/issues/22\n[#25]: https://github.com/utdemir/nix-tree/issues/25\n\n##
  0.1.7 - 2021-03-28\n\n* feat: Ability to yank selected store path to clipboard (shortcut:
  'y')\n* fix: Try to respect terminals color scheme (thanks @kanashimia, PR: [#20][])\n\n[#20]:
  https://github.com/utdemir/nix-tree/issues/20\n\n## 0.1.6 - 2021-03-12\n\n* feat:
  Support non standard Nix store locations (issue: [#17][])\n* feat: Horizontal scrolling
  on why-depends window (issue: [#18][])\n\n[#17]: https://github.com/utdemir/nix-tree/issues/17\n[#18]:
  https://github.com/utdemir/nix-tree/issues/18\n\n## 0.1.5 - 2021-03-03\n\n* feat:
  Add sort order toggle.\n* fix: Search now does not contain false-positives.\n\n##
  0.1.4 - 2021-02-23\n\n* feat: Make search case insensitive.\n* fix: Can close the
  help modal now.\n\n## 0.1.3.1 - 2021-01-07\n\n* fix: Correctly pass --derivation
  flag to Nix >= 2.4\n\n## 0.1.3.0 - 2020-12-22\n\n* feat: Ability to work on .drv
  files.\n\n## 0.1.2.0 - 2020-09-15\n\n* feat: Add --version flag\n* fix: Can search
  the letter 'q' without closing the search modal. (issue: [#21][])\n\n[#21]: https://github.com/utdemir/nix-tree/issues/21\n\n##
  0.1.1.0 - 2020-08-23\n\n* feat: Seach functionality.\n"
changelog-type: markdown
description: |-
  # nix-tree

  ![Build Status](https://github.com/utdemir/nix-tree/workflows/nix-build/badge.svg)
  [![Packaging status](https://repology.org/badge/vertical-allrepos/haskell:nix-tree.svg)](https://repology.org/project/haskell:nix-tree/versions)

  Interactively browse dependency graphs of Nix derivations.

  [![asciicast](https://asciinema.org/a/cnilbmPXW51g97hdNJZcM5F6h.svg)](https://asciinema.org/a/cnilbmPXW51g97hdNJZcM5F6h)

  ## Installation

  `nix-tree` is on `nixpkgs` since `20.09`, so just use your preferred method for adding packages to your system, eg:

  ```
  nix-env -i nix-tree
  ```

  To run the current development version:

  ```
  nix run github:utdemir/nix-tree -- --help
  ```

  ## Usage

  ```
  $ nix-tree --help
  Usage: nix-tree [--version] [--derivation] [INSTALLABLE]
    Interactively browse dependency graphs of Nix derivations.

  Available options:
    --version                Show the nix-tree version.
    --derivation             Operate on the store derivation rather than its
                             outputs.
    INSTALLABLE              A store path or a flake reference. Paths default to
                             "~/.nix-profile" and "/var/run/current-system".
    -h,--help                Show this help text

  Keybindings:
    hjkl/Arrow Keys : Navigate
    w               : Open why-depends mode
    /               : Open search mode
    s               : Change sort order
    y               : Yank selected path to clipboard
    ?               : Show help
    q/Esc           : Quit / close modal
  ```

  ### Glossary

  * **NAR Size**: Size of the store path itself.
  * **Closure size**: Total size of the store path and all its transitive dependencies.
  * **Added size**:  Size of the store path, and all its _unique_ transitive
    dependencies. In other words, the cost of having that store path on top
    of all other paths. See [issue #14] for a better explanation.

  [issue #14]: https://github.com/utdemir/nix-tree/issues/14

  ### Tips

  `nix-build` prints built paths to stdout, which can be piped conveniently
  with `| xargs -o nix-tree`. Examples:

  ```bash
  # Output of a local derivation
  nix-build . --no-out-link | xargs -o nix-tree

  # Build time dependencies (passing a `.drv` path)
  nix-instantiate -r | xargs -o nix-tree --derivation

  # Dependencies from shell.nix
  nix-build shell.nix -A inputDerivation | xargs -o nix-tree

  # All outputs of a derivation in nixpkgs:
  nix-build '<nixpkgs>' -A openssl.all --no-out-link | xargs -o nix-tree
  ```

  `nix-tree` also supports flake references:

  ```bash
  # Build time dependencies of a flake on the current directory
  nix-tree --derivation '.#'

  # Same thing works for any flake reference
  nix-tree --derivation 'nixpkgs#asciiquarium'
  ```

  Run `nix-tree` on your current nixos system:

  ```bash
  nix-tree /nix/var/nix/profiles/system
  ```

  ## Contributing

  All contributions, issues and feature requests are welcome.

  To hack on it, simply run `nix-shell` and use `cabal` as usual. Please run `./format.sh` before sending a PR.

  ## Related tools

  * [nix-du](https://github.com/symphorien/nix-du): Visualise which gc-roots to delete to free some space in your nix store
  * [nix-melt](https://github.com/nix-community/nix-melt): A ranger-like flake.lock viewer
  * [nix-query-tree-viewer](https://github.com/cdepillabout/nix-query-tree-viewer): GTK viewer for the output of `nix-store --query --tree`
  * [nix-visualize](https://github.com/craigmbooth/nix-visualize): Uses the Nix package manager to visualize the dependencies of a given package
description-type: markdown
hash: 4afd1891ead1bd1beb00b0f62156bdff96a944b6c9f6a17c3f654cc9874efc03
homepage: https://github.com/utdemir/nix-tree
latest: 0.3.3
license-name: BSD-3-Clause
maintainer: Utku Demir
synopsis: Interactively browse a Nix store paths dependencies
test-bench-deps:
  aeson: '>=0'
  base: '>=4.11 && <5'
  brick: '>=2.1 && <2.4'
  bytestring: '>=0'
  clock: '>=0'
  containers: '>=0'
  directory: '>=0'
  filepath: '>=0'
  hedgehog: '>=0'
  hrfsize: '>=0'
  microlens: '>=0'
  optparse-applicative: '>=0'
  relude: '>=0'
  text: '>=0'
  typed-process: '>=0'
  unordered-containers: '>=0'
  vty: '>=0'
