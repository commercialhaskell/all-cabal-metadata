all-versions:
- 0.1.0
- 0.2.0
author: Hong Minhee <hong@minhee.org>
basic-deps:
  Diff: '>=0.4.1 && <1.1'
  base: '>=4.7 && <5'
  bytestring: '>=0.11 && <0.13'
  case-insensitive: '>=1.2.1.0 && <2'
  code-page: '>=0.2 && <0.3'
  containers: '>0'
  deepseq: '>=1.4 && <2'
  directory: '>=1.3.8 && <1.4'
  dojang: '>0'
  extra: '>=1.7 && <2'
  filepath: '>=1.4.100 && <2'
  filepattern: '>=0.1.3 && <2'
  fortytwo: '>=2 && <2.1'
  hashable: '>=1.4.2.0 && <2'
  megaparsec: '>=9.3 && <10'
  monad-logger: '>=0.3 && <0.4'
  mtl: '>=2.3 && <3'
  optparse-applicative: '>=0.17 && <0.19'
  parser-combinators: '>=1 && <2'
  pretty-terminal: '>=0.1 && <0.2'
  process: '>=1.6 && <2'
  semver: '>=0.4 && <0.5'
  text: '>=2 && <3'
  text-show: '>=3 && <4'
  toml-parser: '>=1.3 && <2'
  unordered-containers: '>=0.2.19.1 && <1'
changelog: |
  Dojang changelog
  ================

  Version 0.2.0
  -------------

  Released on January 19, 2026.

   -  The `dojang init` command now generates *.gitignore* if the source directory
      is a Git repository and the file does not exist yet.  [[#16]]

   -  Fixed a bug that Dojang had not recognized `kernel.release` field in
      a *dojang-env.toml* file unlike how it was documented and how `dojang env`
      command have behaved.  [[#17]]

   -  Added disambiguation for ambiguous source paths in the `dojang reflect`
      command.  When multiple routes map to the same destination, Dojang now:

       -  Auto-selects the route if only one source file exists
       -  Shows an interactive prompt with full source paths and `(exists)` labels
       -  Warns when multiple source files exist (potential configuration issue)
       -  Supports `DOJANG_AUTO_SELECT` environment variable (`first`, `error`)
       -  Accepts `--source` option to explicitly specify which source to use

      [[#22]]

   -  Added the `dojang edit` command which opens the source file of a target
      file in the user's editor and applies changes after editing.  [[#21]]

       -  Editor detection priority: `--editor` option → `$VISUAL` → `$EDITOR`
          → platform default (`notepad` on Windows, `vi` on POSIX)
       -  Use `--no-apply` flag to skip automatic apply after editing
       -  Use `--force` flag to skip conflict warnings
       -  Use `--sequential` flag to edit files one at a time
       -  Use `--source` option or `DOJANG_AUTO_SELECT` to resolve
          ambiguous routes
       -  Non-existent target paths create empty source files before editing
          (prompts for route selection if multiple routes match)

   -  Added a registry file (*~/.dojang*) that stores the repository path.
      This allows the `dojang edit` command to work from any directory.  [[#21]]

       -  Created automatically during `dojang apply`
       -  If the registry points to a different repository, Dojang prompts
          to overwrite (in interactive mode) or overwrites silently
          (in non-interactive mode)

   -  Enhanced `dojang reflect` and `dojang edit` commands to support
      batch operations.  [[#18]]

       -  Without arguments, shows all changed files and prompts for
          confirmation before processing
       -  Use `--all`/`-a` flag to process all changed files without
          prompting
       -  Directory arguments process all changed files within the directory
       -  Ignored files are skipped by default with a warning; use `--force`
          to include them
       -  Use `--include-unregistered`/`-u` flag to include unregistered files
          found in destination directories (prompts for route selection in
          interactive mode; `dojang reflect` only, not yet for `dojang edit`)

   -  Added pre/post apply hooks that run custom scripts before and after
      the `dojang apply` command.  [[#19]]

       -  `pre-apply`: Runs before every apply
       -  `pre-first-apply`: Runs only on first apply (when *~/.dojang*
          doesn't exist)
       -  `post-first-apply`: Runs only on first apply, after file sync
       -  `post-apply`: Runs after every apply
       -  Hooks support conditional execution via `when` field using
          environment predicates
       -  Use `ignore-failure = true` to continue even if a hook fails
       -  In dry-run mode, hooks print “Would run hook: …” instead of
          executing
       -  Environment variables available to hooks: `DOJANG_REPOSITORY`,
          `DOJANG_MANIFEST`, `DOJANG_DRY_RUN`, `DOJANG_OS`, `DOJANG_ARCH`

  [#16]: https://github.com/dahlia/dojang/issues/16
  [#17]: https://github.com/dahlia/dojang/issues/17
  [#18]: https://github.com/dahlia/dojang/issues/18
  [#19]: https://github.com/dahlia/dojang/issues/19
  [#21]: https://github.com/dahlia/dojang/issues/21
  [#22]: https://github.com/dahlia/dojang/issues/22


  Version 0.1.0
  -------------

  Initial release.  Released on November 26, 2023.
changelog-type: markdown
description: |
  *Available in other languages: [한국어](README.ko.md).*

     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

  <!-- hongdown-disable-next-line -->

  ![](cat-pow.svg)
  Dojang: A cross-platform dotfiles manager
  ==========================================

  [![GPL 3.0][License badge]](./LICENSE)
  [![GitHub Actions][GitHub Actions status badge]][GitHub Actions]
  [![Codecov][Codecov badge]][Codecov]

  Dojang is a cross-platform dotfiles manager.  Here are some of the highlights:

   -  Lightweight.  It's built as a native executable, so it's easy to install
      and fast to run.
   -  Cross-platform.  It works on both the POSIX family and Windows.
   -  Flexible.  It keeps in mind that config files can be placed in different
      places or have different contents depending on the environment.
   -  Safe.  Every run can be previewed by simulating it in a sandbox environment
      with the `--dry-run` option.
   -  Friendly.  Error messages are friendly and print helpful hints or warnings.

  For further information, see the docs:

   -  [English]
   -  [한국어] (Korean)

  Distributed under the [GPL 3.0] or later.

  [License badge]: https://img.shields.io/github/license/dahlia/dojang
  [GitHub Actions status badge]: https://github.com/dahlia/dojang/actions/workflows/build.yaml/badge.svg
  [GitHub Actions]: https://github.com/dahlia/dojang/actions/workflows/build.yaml
  [Codecov badge]: https://codecov.io/gh/dahlia/dojang/graph/badge.svg?token=JrwY5Yt2pD
  [Codecov]: https://codecov.io/gh/dahlia/dojang
  [English]: https://dojang.dev/
  [한국어]: https://dojang.dev/ko/
  [GPL 3.0]: https://www.gnu.org/licenses/gpl-3.0.html

  <!-- cSpell: ignore codecov -->
description-type: markdown
hash: 99a4d9b7fc49ac9446b7906f23bd99220f3eb37eefa99abaff57c7e295facc31
homepage: https://dojang.dev/
latest: 0.2.0
license-name: GPL-3.0-or-later
maintainer: Hong Minhee <hong@minhee.org>
synopsis: A cross-platform dotfiles manager
test-bench-deps:
  Diff: '>=0.4.1 && <1.1'
  base: '>=4.7 && <5'
  bytestring: '>=0.11 && <0.13'
  case-insensitive: '>=1.2.1.0 && <2'
  containers: '>0'
  directory: '>=1.3.8 && <1.4'
  dojang: '>0'
  filepath: '>=1.4.100 && <2'
  hashable: '>=1.4.2.0 && <2'
  hedgehog: '>=1.2 && <2'
  hspec: '>=2.10.10 && <2.12'
  hspec-api: '>=2.10 && <2.12'
  hspec-discover: '>=2.10.10 && <2.12'
  hspec-expectations-pretty-diff: '>=0.7 && <0.8'
  hspec-hedgehog: '>=0.0.1.2 && <0.4'
  hspec-junit-formatter: '>=1.1.0.2 && <1.2'
  hspec-megaparsec: '>=2.2 && <2.3'
  megaparsec: '>=9.3 && <10'
  monad-logger: '>=0.3 && <0.4'
  mtl: '>=2.3 && <3'
  optparse-applicative: '>=0.17 && <0.19'
  os-string: '>=2 && <3'
  pretty-terminal: '>=0.1 && <0.2'
  random: '>=1.2 && <2'
  regex-tdfa: '>=1.3.2 && <1.4'
  temporary: '>=1.3 && <1.4'
  text: '>=2 && <3'
  text-show: '>=3 && <4'
  toml-parser: '>=1.3 && <2'
  unordered-containers: '>=0.2.19.1 && <1'
