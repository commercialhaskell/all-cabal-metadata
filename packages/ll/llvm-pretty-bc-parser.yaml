all-versions:
- 0.1.2.0
- 0.1.2.1
- 0.1.2.2
- 0.1.3.0
- 0.1.3.1
- 0.2.0.0
- 0.2.1.0
- 0.3.0.0
- 0.3.0.1
- 0.3.1.0
- 0.3.2.0
- 0.4.0.0
- 0.4.1.0
- 0.4.2.0
- 0.5.0.0
- 0.5.1.0
- 0.6.0.0
author: Trevor Elliott <trevor@galois.com>
basic-deps:
  array: '>=0.3'
  base: '>=4.8 && <5'
  bytestring: '>=0.10'
  containers: '>=0.4'
  deepseq: '>=0'
  directory: '>=0'
  fgl: '>=5.5'
  fgl-visualize: '>=0.1'
  filepath: '>=0'
  foldl: '>=0'
  llvm-pretty: '>=0.14.0.0 && <0.15'
  llvm-pretty-bc-parser: '>=0'
  mtl: '>=2.2.2'
  pretty: '>=1.0.1'
  pretty-show: '>=1.6'
  process: '>=0'
  random: '>=0'
  temporary: '>=0'
  text: '>=0'
  time: '>=0'
  transformers: '>=0'
  turtle: '>=1.6'
  uniplate: '>=1.6'
  utf8-string: '>=1.0'
  xml: '>=0'
changelog: |
  # Revision history for llvm-pretty-bc-parser

  ## 0.6.0.0 -- 2026-01-23

  * Updates for supporting LLVM-19:
    * Parsing of new `DebugRecord` values.
    * Parsing of new `GEPAttrs` flags for `GEP` instruction and constant
      expression.
    * Parsing for new `DICompositeType` fields added in LLVM 19.
    * Parsing of `num_extra_inhabitants` in `DIBasicType`.
  * Updates for supporting new flags in cast-related instructions:
    * Support parsing `zext` instructions that use the `nneg` flag, indicating
      that the argument must be non-negative.
    * Support parsing `zext` and `uitofp` instructions that use the `nneg` flag,
      indicating that the argument must be non-negative.
    * Support parsing `trunc` instructions that use the `nuw` or `nsw` flags,
      indicating that the result should not result in unsigned or signed overflow,
      respectively.
  * Support parsing `icmp` instructions that use the `samesign` flag (introduced
    in LLVM 20), indicating that the arguments must have the same sign.
  * Support parsing `atomGroup` and `atomRank` fields in `DebugLoc` values
    (introduced in LLVM 21).
  * Support parsing `column`, `isArtificial`, and `coroSuspendIdx` fields in
    `DILabel` values (introduced in LLVM 21).
  * Support parsing non-constant sizes and offsets in `DIBasicType`,
    `DICompositeType`, and `DIDerivedType` values (a feature introduced in LLVM
    21).
  * Fix a bug in which `i1 true` literals would be parsed as
    `i1 18446744073709551615` in certain cases.

  ## 0.5.1.0 (October 2025)

  * Support parsing data layout strings that specify function pointer alignment.
  * Implement `CST_CODE_STRING`, allowing the parsing of bitcode files containing strings without null terminators (as may be generated by languages other than C).

  ## 0.5.0.0 (March 2025)

  * `Data.LLVM.BitCode` now defines funtions (whose names all end with
    `*WithWarnings`) that return any parser-related warnings (`ParseWarning`s)
    alongside the parsed `Module`. Users can decide whether or not to display
    these warnings (e.g., by printing them to `stderr` using `ppParseWarnings`).

    The existing functions which do not return warnings have been deprecated in
    favor of the their `*WithWarnings` variants.
  * The functions in `Data.LLVM.BitCode` no longer produce a fatal error when
    encountering metadata records of unexpected sizes. Instead, these are now
    treated as warnings.

  ## 0.4.2.0 (August 2024)

  * Add support for GHC 9.8 and drop official support of 9.2.

  * Add support for new atomic operations in LLVM 9+.

  ## 0.4.1.0 (January 2024)

  * Add preliminary support for LLVM versions up through 16.
  * Require building with `llvm-pretty-0.12.*`.
  * Add preliminary support for parsing opaque pointers. For now,
    `llvm-pretty-bc-parser` will still fill in the types of certain instructions
    with non-opaque pointer types (e.g., the type of memory to store in a `store`
    instruction), so be wary of this if you are parsing a bitcode file that
    contains opaque pointers. See also the discussion in
    https://github.com/GaloisInc/llvm-pretty-bc-parser/issues/262.
  * Improve the runtime performance of the parser.
  * A variety of bugfixes. Some notable fixes include:
    * Fix a bug in which the parser would fail to parse `DIDerivedType` nodes
      produced by Apple Clang on macOS.
    * Fix a bug in which the DWARF address space field of a `DIDerivedType` node
      was parsed incorrectly.
    * Fix a bug in which constant `fcmp`/`icmp` expressions would parse their
      operands incorrectly.
changelog-type: markdown
description: |
  # llvm-pretty-bc-parser

  A parser for the LLVM bitcode file format, yielding a `Module` from
  [the llvm-pretty package](http://hackage.haskell.org/package/llvm-pretty).

  ## Compatibility

  The following table shows what kinds of tests have been/are being run with which
  compilers.

   - A check in the the randomized tests column indicates that such tests are
     regularly run [in Github Actions][fuzz-workflow].
   - A check in the manual tests column indicates that the parser seems to work on
     some code that was generated by this compiler.

  | Compiler  | Version | [Randomized tests](./fuzzing) | Manual tests | Notes                 |
  |-----------|---------|-------------------------------|--------------|-----------------------|
  | `clang`   | v3.4    | ✓                             |              | See [issues][llvm3.4] |
  |           | v3.5    | ✓                             |              | See [issues][llvm3.5] |
  |           | v3.6    | ✓                             |              | See [issues][llvm3.6] |
  |           | v3.7    | ✓                             |              | See [issues][llvm3.7] |
  |           | v3.8    | ✓                             | ✓            | See [issues][llvm3.8] |
  |           | v3.9    | ✓                             |              | See [issues][llvm3.9] |
  |           | v4      | ✓                             |              | See [issues][llvm4]   |
  |           | v5      | ✓                             |              | See [issues][llvm5]   |
  |           | v6      | ✓                             | ✓            | See [issues][llvm6]   |
  |           | v7      | ✓                             |              | See [issues][llvm7]   |
  |           | v8      | ✓                             |              | See [issues][llvm8]   |
  |           | v9      | ✓                             |              | See [issues][llvm9]   |
  |           | v10     | ✓                             | ✓            | See [issues][llvm10]  |
  |           | v11     | ✓                             | ✓            | See [issues][llvm11]  |
  |           | v12     | ✓                             | ✓            | See [issues][llvm12]  |
  |           | v13     | ✓                             | ✓            | See [issues][llvm13]  |
  |           | v14     | ✓                             | ✓            | See [issues][llvm14]  |
  |           | v15     | ✓                             | ✓            | See [issues][llvm15]  |
  |           | v16     | ✓                             | ✓            | See [issues][llvm16]  |
  |           | v17     | ✓                             | ✓            | See [issues][llvm17]  |
  |           | v18     | ✓                             | ✓            | See [issues][llvm18]  |
  |           | v19     | ✓                             | ✓            | See [issues][llvm19]  |
  |           | v20     | ✓                             | ✓            | See [issues][llvm20]  |
  |           | v21     | ✓                             | ✓            | See [issues][llvm21]  |

  If you encounter problems with the output of *any* compiler, please file [an
  issue](https://github.com/GaloisInc/llvm-pretty-bc-parser/issues).

  ## Documentation

  Developers' documentation: [doc/developing.md](./doc/developing.md)

  ## GHC Support

  llvm-pretty-bc-parser endeavors to support three versions of GHC at a time. See
  the developers' documentation for more details and a rationale:
  [doc/developing.md](./doc/developing.md). Currently supported:

  - GHC 9.6.6
  - GHC 9.8.4
  - GHC 9.10.1

  [fuzz-workflow]: https://github.com/GaloisInc/llvm-pretty-bc-parser/blob/master/.github/workflows/llvm-quick-fuzz.yml
  [llvm3.4]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F3.4
  [llvm3.5]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F3.5
  [llvm3.6]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F3.6
  [llvm3.7]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F3.7
  [llvm3.8]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F3.8
  [llvm3.9]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F3.9
  [llvm4]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F4.0
  [llvm5]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F5.0
  [llvm6]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F6.0
  [llvm7]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F7.0
  [llvm8]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F8.0
  [llvm9]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F9.0
  [llvm10]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F10.0
  [llvm11]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F11.0
  [llvm12]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F12.0
  [llvm13]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F13.0
  [llvm14]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F14.0
  [llvm15]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F15.0
  [llvm16]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F16.0
  [llvm17]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F17.0
  [llvm18]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F18.0
  [llvm19]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F19.0
  [llvm20]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F20.0
  [llvm21]: https://github.com/GaloisInc/llvm-pretty-bc-parser/issues?q=is%3Aopen+is%3Aissue+label%3Allvm%2F21.0
description-type: markdown
hash: 2dc4591bb686c7e6c5d80944102b33944ddf6fe345308894fb2760a9b98a817e
homepage: ''
latest: 0.6.0.0
license-name: BSD-3-Clause
maintainer: |-
  Ryan Scott <rscott@galois.com>
  , Kevin Quick <kquick@galois.com>
  , Langston Barrett <langston@galois.com>
synopsis: LLVM bitcode parsing library
test-bench-deps:
  HUnit: '>=0'
  QuickCheck: '>=0'
  base: '>=0'
  bytestring: '>=0'
  containers: '>=0.4'
  directory: '>=0'
  exceptions: '>=0.10 && <0.11'
  filepath: '>=0'
  generic-random: '>=0'
  lens: '>=0'
  llvm-pretty: '>=0'
  llvm-pretty-bc-parser: '>=0'
  optparse-applicative: '>=0.18.0.0'
  pretty-show: '>=1.6'
  prettyprinter: '>=1.7 && <1.8'
  process: '>=0'
  string-interpolate: '>=0.3 && <0.4'
  syb: '>=0.7'
  tasty: '>=1.3'
  tasty-expected-failure: '>=0.12 && <0.13'
  tasty-hunit: '>=0'
  tasty-quickcheck: '>=0'
  tasty-sugar: '>=2.2 && <2.3'
  terminal-size: '>=0.3 && <0.4'
  text: '>=0'
  transformers: '>=0.5 && <0.7'
  tree-diff: '>=0.2 && <0.4'
  versions: <7
