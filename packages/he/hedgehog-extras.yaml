all-versions:
- 0.3.0.1
- 0.3.0.2
- 0.3.0.3
- 0.4.0.1
- 0.4.1.0
- 0.4.2.0
- 0.4.3.0
- 0.4.4.1
- 0.4.5.1
- 0.4.5.2
- 0.4.6.0
- 0.4.7.0
- 0.4.7.1
- 0.5.0.0
- 0.5.1.0
- 0.6.0.0
- 0.6.0.1
- 0.6.0.2
- 0.6.1.0
- 0.6.2.0
- 0.6.3.0
- 0.6.4.0
- 0.6.5.0
- 0.7.0.0
- 0.8.0.0
- 0.9.0.0
- 0.10.0.0
- 0.10.1.0
author: IOHK
basic-deps:
  Diff: <1.1
  aeson: '>=2.0.0.0 && <2.3'
  aeson-pretty: '>=0.8.5 && <0.9'
  async: <2.3
  base: '>=4.12 && <4.22'
  bytestring: <0.13
  containers: <0.9
  deepseq: <1.6
  directory: <1.4
  exceptions: <0.11
  filepath: <1.6
  hedgehog: <1.8
  http-conduit: <2.4
  lifted-async: <0.12
  lifted-base: <0.3
  mmorph: <1.3
  monad-control: <1.1
  mtl: <2.4
  network: <3.3
  process: <1.7
  resourcet: <1.4
  stm: <2.6
  tar: '>=0.7 && <0.8'
  tasty: <1.6
  tasty-discover: '>=5.0.2 && <5.3'
  tasty-hedgehog: <1.5
  temporary: <1.4
  text: <2.2
  time: '>=1.9.1 && <1.16'
  transformers: <0.7
  transformers-base: <0.5
  unliftio: <0.3
  yaml: <0.12
  zlib: <0.8
changelog: "# Changelog\n\nAll notable changes to this project will be documented
  in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),\nand
  this project adheres to the [Package Versioning Policy (PVP)](https://pvp.haskell.org/).\n\n##
  *Unreleased*\n\n## [0.10.1.0] - 2025-11-03\n\n### Changed\n- Updated dependency
  on tar ^>= 0.7\n\n## [0.10.0.0] - 2025-09-09\n\n### Added\n- Comprehensive CHANGELOG.md
  with complete project history\n- Descriptive error messages for workspace test failures\n-
  Sum type `WorkspacePolicy` to replace boolean blindness in `workspaceWithConfig`\n\n###
  Changed\n- `workspaceWithConfig` now uses `WorkspacePolicy` instead of `Bool` parameter\n-
  Improved error messages in workspace tests with specific failure contexts\n- Updated
  documentation to reference Package Versioning Policy (PVP) instead of SemVer\n\n##
  [0.9.0.0] - 2025-06-24\n\n### Changed\n- Fix hanging problem with moduleWorkspace\n\n###
  Added\n- Workspace behavior tests and improved workspace API\n- Directory dependency
  to test suite\n- GHC 9.8 to GHA build matrix\n- Claude IDE command templates for
  git operations\n\n### Fixed  \n- Preserve workspace directories on test failure
  for debugging\n\n## [0.8.0.0] - 2025-06-14\n\n### Added\n- New `testUnitIO` function\n\n###
  Changed\n- Make binDist search components recursively\n\n### Removed\n- Delete unused
  'h' file\n\n## [0.7.2.0] - 2025-06-07\n\n### Added\n- MonadAssertion instance to
  UnitIO\n\n## [0.7.1.0] - 2025-06-06\n\n### Added\n- New assertion functions: `tryAssertion`,
  `assertFailure` and `assertFailure_`\n- Re-export MonadBaseControl, bracket_ and
  bracket\n\n## [0.7.0.0] - 2024-12-24\n\n### Added\n- Add `expectFailure` combinator\n-
  Add `expectFailureWith` combinator and tests\n- New UnitIO monad\n- Thread safe
  golden test support\n- Add diffVsGoldenFileExcludeTrace function\n- Re-export Golden
  module from Test module\n- Move orphans to own file\n\n### Changed\n- Generalize
  resulting monad in `expectFailure`\n- Define `expectFailure` in terms of `expectFailureWith`\n-
  Haskell CI: reduce number of shellcheck warnings\n- Haskell CI: simplify build workflow,
  using cardano-cli's CI as guidance\n- Loosen base version, to allow building with
  GHC 9.12\n- Align haddock pipeline with Haskell pipeline\n- Make the GitHub page
  workflow manually triggerable (workflow_dispatch)\n\n### Fixed\n- Fix haddock for
  `threadDelay`\n- Fix haddock for `byDeadline` and `byDuration`\n- Process: more
  informative error message when plan.json does not exist\n- Detail: fix a warning
  in the Haskell pipeline\n\n## [0.6.5.1] - 2024-11-20\n\n### Changed\n- Enforce UTF-8
  encoding on reading and writing files\n\n## [0.6.5.0] - 2024-07-27\n\n### Added\n-
  Make it build with ghc-9.10\n- CI: Add ghc-9.10 to the build matrix\n\n## [0.6.4.0]
  - 2024-05-16\n\n### Added\n- Add missing `HasCallStack` to writeGoldenFile, reportGoldenFileMissing,
  checkAgainstGoldenFile\n\n### Changed\n- Use removePathForcibly to remove directories\n\n##
  [0.6.3.0] - 2024-05-03\n\n### Added\n- Add TestWatchdog and Tripwire with their
  tests\n- Add test for asyncRegister_\n\n### Changed\n- Switch to using haskell-actions/setup\n-
  Allow the port to be reused immediately after it is closed\n\n## [0.6.2.0] - 2024-04-23\n\n###
  Added\n- New randomPort, reserveRandomPort and portInUse functions\n\n### Changed\n-
  Apply suggestions from code review\n- Remove double space and add quotes\n\n## [0.6.1.0]
  - 2024-02-13\n\n### Added\n- Add test to ensure a directory doesn't exist (`assertDirectoryMissing`)\n-
  Add test to ensure a directory exists (`assertDirectoryExists`)\n\n### Changed\n-
  Allow reading files into any FromJSON\n- Lower aeson bound\n- #39 Lower bound on
  aeson\n- Remove double printing of a command with its arguments\n\n## [0.6.0.2]
  - 2024-01-29\n\n### Fixed\n- Fix missing call sites for short-circuiting functions\n\n##
  [0.6.0.1] - 2024-01-23\n\n### Fixed\n- Fix missing stderr in failed commands\n\n##
  [0.6.0.0] - 2024-01-16\n\n### Added\n- Add exec variant that allows a negative call
  (#55)\n- Add concurrency abstractions from lifted-async and lifted-base\n\n## [0.5.1.0]
  - 2024-01-04\n\n### Added\n- New RECREATE_GOLDEN_FILES which will causes golden
  tests to always create golden files replacing any existing golden files\n\n### Changed\n-
  Use MultiwayIf to simplify code\n\n## [0.5.0.0] - 2023-11-23\n\n### Added\n- Add
  upper bound to tar\n\n### Changed\n- Make it build with ghc-9.8\n- CI: Add ghc-9.8.1
  to build matrix\n\n### Removed\n- Remove unused import\n\n## [0.4.8.0] - 2023-11-21\n\n###
  Changed\n- Make it build with ghc-9.8\n- CI: Add ghc-9.8.1 to build matrix\n\n###
  Removed\n- Remove unused import\n\n## [0.4.7.1] - 2023-10-05\n\n### Removed\n- Remove
  dependency on hw-aeson\n\n## [0.4.7.0] - 2023-06-27\n\n### Added\n- New indexM function\n\n##
  [0.4.6.0] - 2023-06-19\n\n### Added\n- Add a way to log golden files\n- Create new
  process groups for newly spawned processes (#42)\n\n## [0.4.5.1] - 2023-05-10\n\n###
  Fixed\n- Fix empty case for diffVsGoldenFile\n\n### Changed\n- Put the golden-file
  filename in the failure message of diffVsGoldenFile\n\n## [0.4.5.0] - 2023-05-09\n\n###
  Added\n- New downloadToFile function\n- New downloadAndExtractGithubCommitToTemp\n\n###
  Fixed\n- Fix annotation for renameFile\n\n## [0.4.4.1] - 2023-05-05\n\n### Added\n-
  Make it build with ghc-9.6\n- CI: Add ghc-9.6.1 to build matrix\n\n## [0.4.4.0]
  - 2023-05-04\n\n### Added\n- Add extra assertion functions, fix readM to show correct
  line (#33)\n\n### Changed\n- Tidy up imports\n\n## [0.4.3.0] - 2023-05-03\n\n###
  Added\n- Add assertWithinTolerance and readM\n\n## [0.4.2.0] - 2023-04-28\n\n###
  Added\n- New functions assertFileExists assertFileMissing assertFilesMissing\n-
  New Hedgehog.Extras.Test.Golden module\n\n### Removed\n- Delete assertFileExists
  from Network module because it doesn't belong here\n\n### Changed\n- Use filepath
  operator (</>) over (<>) with \"/\"\n\n## [0.4.1.0] - 2023-04-12\n\n### Added\n-
  New Ok versions of functions that require the operation to succeed\n- New createSubdirectoryIfMissing
  function\n\n### Changed\n- Modify createDirectoryIfMissing to return its argument.
  createDirectoryIfMissing_ will be the version that returns ()\n\n### Fixed\n- Fix
  compile errors\n\n## [0.4.0.1] - 2023-03-06\n\n### Fixed\n- Fix retry function\n\n##
  [0.4.0.0] - 2023-03-06\n\n### Changed\n- Pass retry count to retry function\n\n##
  [0.3.0.3] - 2023-01-09\n\n### Fixed\n- Fix moduleWorkspace\n\n## [0.3.0.2] - 2023-01-07\n\n###
  Added\n- Generic instance\n\n## [0.3.0.1] - 2023-01-07\n\n### Changed\n- Don't create
  an intermediate workspace directory\n- Find the nearest plan.json\n- Restructure
  cabal file\n- Update copyright\n- Copy over waitNamedPipe from Win32-network\n\n###
  Removed\n- Remove unused dependency on Win32-network\n\n### Fixed\n- Use setup-haskell
  action\n\n## [0.3.0.0] - 2022-12-13\n\n### Added\n- Add errorMessage to argument
  of deadline functions\n- getProjectBase: explore up the dir hierarchy to find cabal.project\n-
  New fromJustM function\n- Add .gitignore file\n\n### Changed\n- Update GH actions
  versions\n- Relax bounds on aeson\n\n## Early Versions (0.1.0.0 - 0.2.x)\n\n###
  2022\n- New rewriteArrayElements function\n- Update to support aeson >= 2.0.0 (#8)\n-
  Replace waitByDeadlineX functions to byDeadlineX functions that trigger retries
  by assertion failure (#7)\n- Add retry support (#6)\n\n### 2021\n- Module re-exports
  (#5)\n- Generic error handling functions (#4)\n- New exec, binFlex functions. New
  execConfigCwd field (#3)\n- Add support for YAML (#2)\n- Force evaluation of string
  for cat (#1)\n- Setup Github Actions CI\n- Downgrade cabal file version to 2.4 because
  3.0 is incompatible with stack\n- Drop support for ghc-8.6.5\n- Harmonise component
  versions and remove redundant conditionals\n- Import cardano-submit-api from cardano-rest
  repo\n- Test support for running CLI commands with environment variables\n- Run
  golden tests at the value level rather than the text level\n- Update copyright to
  2021\n- Cabal 3.4 in Github Actions\n\n### 2020\n- New copyRewriteJsonFile function
  to work around permissioning issues on Hydra\n- Remove redundant imports\n- General
  chairman test code quality changes\n- Chairman test running on Windows and Linux\n-
  Report all log files on any test failure\n- Bump versions to 1.21.0 and update the
  change logs\n- Run byron-shelley testnet\n- Run a chairman process per node\n- Increase
  test code re-use by moving test support code into separate common hedgehog-extras
  library\n\n[Unreleased]: https://github.com/input-output-hk/hedgehog-extras/compare/v0.10.0.0...HEAD\n[0.10.0.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.9.0.0...v0.10.0.0\n[0.9.0.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.8.0.0...v0.9.0.0\n[0.8.0.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.7.2.0...v0.8.0.0\n[0.7.2.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.7.1.0...v0.7.2.0\n[0.7.1.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.7.0.0...v0.7.1.0\n[0.7.0.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.6.5.1...v0.7.0.0\n[0.6.5.1]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.6.5.0...v0.6.5.1\n[0.6.5.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.6.4.0...v0.6.5.0\n[0.6.4.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.6.3.0...v0.6.4.0\n[0.6.3.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.6.2.0...v0.6.3.0\n[0.6.2.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.6.1.0...v0.6.2.0\n[0.6.1.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.6.0.2...v0.6.1.0\n[0.6.0.2]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.6.0.1...v0.6.0.2\n[0.6.0.1]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.6.0.0...v0.6.0.1\n[0.6.0.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.5.1.0...v0.6.0.0\n[0.5.1.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.5.0.0...v0.5.1.0\n[0.5.0.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.4.8.0...v0.5.0.0\n[0.4.8.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.4.7.1...v0.4.8.0\n[0.4.7.1]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.4.7.0...v0.4.7.1\n[0.4.7.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.4.6.0...v0.4.7.0\n[0.4.6.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.4.5.1...v0.4.6.0\n[0.4.5.1]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.4.5.0...v0.4.5.1\n[0.4.5.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.4.4.1...v0.4.5.0\n[0.4.4.1]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.4.4.0...v0.4.4.1\n[0.4.4.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.4.3.0...v0.4.4.0\n[0.4.3.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.4.2.0...v0.4.3.0\n[0.4.2.0]:
  https://github.com/input-output-hk/hedgehog-extras/compare/v0.3.0.2...v0.4.2.0\n"
changelog-type: markdown
description: |
  # hedgehog-extras

  ![Dependency Status](https://github.com/input-output-hk/hedgehog-extras/actions/workflows/cabal-outdated.yml/badge.svg)
  [![CI](https://github.com/input-output-hk/hedgehog-extras/actions/workflows/haskell.yml/badge.svg)](https://github.com/input-output-hk/hedgehog-extras/actions/workflows/haskell.yml)

  Supplemental library for hedgehog.

  ## About

  This library provides additional utilities and helpers for working with the [Hedgehog](https://hackage.haskell.org/package/hedgehog) property-based testing framework.

  ## Installation

  Add to your `package.yaml` or `.cabal` file:

  ```yaml
  dependencies:
    - hedgehog-extras
  ```

  ## Releasing

  This project has a hybrid automated/manual release flow:

  ### Automatic Tagging (on main branch)

  When you push a version bump to main, CI automatically creates a git tag:

  1. Update [CHANGELOG.md] to include the *Unreleased* changes in the changelog for the new version.
  1. Update `hedgehog-extras.cabal` and set `version:` to the new version
  1. Commit and push to main: `git commit -m "Bump version to X.Y.Z.W" && git push origin main`
  1. CI automatically creates and pushes tag `vX.Y.Z.W`
  1. The release workflow then runs automatically

  ### Manual Tagging

  Alternatively, you can manually create and push tags:

  1. Update `hedgehog-extras.cabal` with the new version
  2. Commit changes: `git commit -m "Release X.Y.Z.W"`
  3. Create tag: `git tag -a vX.Y.Z.W -m "Release version X.Y.Z.W"`
  4. Push both: `git push origin main && git push origin vX.Y.Z.W`

  ### What Happens Automatically

  When a tag is pushed (either automatically or manually), GitHub Actions:
  - Runs the full test suite across all platforms and GHC versions
  - Validates the cabal project with `cabal check`
  - Creates source distributions (`cabal v2-sdist`)
  - **Uploads to Hackage as a candidate** (requires `HACKAGE_USER` and `HACKAGE_PASS` secrets)
  - Generates release notes from git commit history
  - Creates a GitHub Release

  ### Publishing the Hackage Candidate

  After the workflow completes:
  1. Check the candidate at https://hackage.haskell.org/package/hedgehog-extras/candidates
  2. Test the candidate package
  3. When ready, publish it from the Hackage candidate page

  ### Notes

  - The workflow is defined in `.github/workflows/haskell.yml`
  - Packages are uploaded as **candidates**, not published releases
  - Release notes are auto-generated from git commits since the last tag
  - The workflow requires `HACKAGE_USER` and `HACKAGE_PASS` repository secrets
  - Workflow requires `contents: write` permission (already configured)

  ## License

  Copyright 2025 Input Output Global, Inc.

  Licensed under the Apache License, Version 2.0. See [LICENSE](LICENSE) for details.
description-type: markdown
hash: 367c48dee30e03e43d0bed06b51f6b3823c5e9a011b09aa91c818ade8f900cb6
homepage: ''
latest: 0.10.1.0
license-name: Apache-2.0
maintainer: operations@iohk.io
synopsis: Supplemental library for hedgehog
test-bench-deps:
  base: '>=4.12 && <4.22'
  directory: <1.4
  hedgehog: <1.8
  hedgehog-extras: '>=0'
  lifted-base: <0.3
  network: <3.3
  process: <1.7
  resourcet: <1.4
  tasty: <1.6
  tasty-discover: '>=5.0.2 && <5.3'
  tasty-hedgehog: <1.5
  time: '>=1.9.1 && <1.16'
  transformers: <0.7
