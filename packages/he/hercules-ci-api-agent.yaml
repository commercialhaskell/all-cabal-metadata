homepage: https://github.com/hercules-ci/hercules-ci-agent#readme
changelog-type: markdown
hash: 33afc6caa0c68316c102a35f5cb7bbfbb30e30c406a65530874077e18cf4aff9
test-bench-deps:
  cookie: -any
  exceptions: -any
  bytestring: -any
  base: -any
  time: -any
  hercules-ci-api-agent: -any
  hspec: -any
  text: -any
  uuid: -any
  http-api-data: -any
  quickcheck-classes: -any
  servant: '>=0.14.1'
  memory: -any
  containers: -any
  string-conv: -any
  lens: -any
  servant-auth: -any
  hercules-ci-api-core: -any
  network-uri: -any
  hashable: -any
  swagger2: -any
  QuickCheck: -any
  aeson: -any
  http-media: -any
  profunctors: -any
  vector: -any
maintainer: info@hercules-ci.com
synopsis: API definition for Hercules CI Agent to talk to hercules-ci.com or Hercules
  CI Enterprise
changelog: |2+

  # Changelog

  All notable changes to this package will be documented in this file.

  The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/).

  ## 0.5.0.1 - 2023-06-28

   - Maintenance release

  ## 0.5.0.0 - 2023-03-06

  ### Changed

   - `SourceHostingSite` was renamed to `Forge`

  ### Added

   - GitLab endpoints
   - `onSchedule` information
   - Various small additions


  ## 0.4.6.1 - 2022-12-29

  Maintenance and tooling update.

  ## 0.4.6.0 - 2022-11-15

  ### Added

   - `onSchedule` event handler types and operations
   - `GitToken` secrets type, secrets types
   - `ImmutableGitInput` repository metadata attributes

  ## 0.4.5.0 - 2022-05-17

  ### Added

   - `AttributeIFDEvent`
   - `ResultTypeSetExpected`

  ## 0.4.4.0 - 2022-03-30

  ### Added

   - A field for traces in evaluation errors (`--show-trace`)

  ## 0.4.3.0 - 2022-03-18

  ### Added

   - `isFlake` and `isFlakeJob` fields for to support an optimized checkout flow
     supporting access of flake metadata fields like `sourceInfo`.

  ## 0.4.2.0 - 2022-03-15

  ### Added

   - "Selectors" to distinguish `OnPush`, `IsConfig` event, etc
   - Evaluation task: `ciSystems` parameter, `OnPush` selector, `extraGitCredentials`
   - Secrets: `condition` parameter

  ### Updated

   - aeson: 1 -> 2

  ## 0.4.1.2 - 2022-03-09

  ### Added

   - Haskell `aeson` 2.0 support

  ## 0.4.1.1 - 2022-03-07

  ### Fixed

   - Flaky test

  ## 0.4.1.0 - 2021-09-06

  ### Added

   - `EffectTask` fields to support running `hci` in effects

  ## 0.4.0.0 - 2021-06-22

  ### Changed

   - `OutputInfo.path` is optional

  ### Added

   - `ResultTypeBuildLogLine`

  ## 0.3.1.0 - 2021-04-21

  ### Added

   - Attach user-defined labels to agent
   - Attach Nix protocol versions to logs and agent

  ## 0.3.0.0 - 2020-03-07

  ### Added

   - Input source metadata field for src.ref, src.rev
   - Effects tasks
   - A non-API type for the secrets in secrets.json
   - State file API
   - Attribute types, including MustFail, DependenciesOnly, Effect

  ### Removed

   - `ToSchema` instances

  ## 0.2.2.0 - 2020-07-18

  ### Added

   - Evaluation log

  ## 0.2.1.0 - 2020-06-17

  ### Added

   - Add a `NixCache` format for generic binary cache support using Nix's generic "URI"-based store API.

  ## 0.2.0.0

  Start of changelog

basic-deps:
  cookie: -any
  exceptions: -any
  bytestring: -any
  lens-aeson: -any
  base: '>=4.7 && <5'
  time: -any
  unordered-containers: -any
  text: -any
  uuid: -any
  base64-bytestring-type: -any
  http-api-data: -any
  servant: '>=0.14.1'
  memory: -any
  containers: -any
  string-conv: -any
  lens: -any
  servant-auth: -any
  hercules-ci-api-core: -any
  hashable: -any
  swagger2: -any
  deepseq: -any
  aeson: '>=2'
  http-media: -any
  vector: -any
all-versions:
- 0.2.1.0
- 0.2.2.0
- 0.3.0.0
- 0.3.1.0
- 0.4.0.0
- 0.4.1.0
- 0.4.1.1
- 0.4.1.2
- 0.4.2.0
- 0.4.3.0
- 0.4.4.0
- 0.4.5.0
- 0.4.6.0
- 0.4.6.1
- 0.5.0.0
- 0.5.0.1
author: Hercules CI contributors
latest: 0.5.0.1
description-type: haddock
description: ''
license-name: Apache-2.0
