all-versions:
- 0.1.0.0
author: Hex
basic-deps:
  Win32: ^>=2.14
  base: ^>=4.18.3.0
  bytestring: ^>=0.12.2
  unbuildable: <0
changelog: "# Revision history for dpapi\r\n\r\n## 0.1.0.0 -- 2025-10-02\r\n\r\n*
  First version. Released on an unsuspecting world.\r\n* Encrypting and decrypting
  data using DPAPI is now working.\r\n* Tests work by using PowerShell to verify/produce
  the half to verify, this could be improved\r\n"
changelog-type: markdown
description: "# Haskell bindings for Windows DPAPI\r\n\r\nThis project is to provide
  Haskell access to Windows's [Data Protection API](https://en.wikipedia.org/wiki/Data_Protection_API).\r\n\r\n##
  Usage\r\n\r\nIf you have some data that needs protecting such that only your user
  account\r\ncan access it, say the location of your buried treasure,\r\nyou could
  protect it with the following, then save it to a file or somewhere else.\r\n\r\n```hs\r\nsaveEncrypted
  :: ByteString -> FilePath -> IO ()\r\nsaveEncrypted data filepath = cryptProtectData
  data Nothing CurrentUser *> writeFile filePath\r\n```\r\n\r\nThen you can get back
  easily, returning Nothing instead of catching an exception\r\nif you can't decrypt
  it.\r\n\r\n```hs\r\nreadEncrypted :: FilePath -> IO (Maybe ByteString)\r\nreadEncrypted
  filepath = do\r\n\tdata <- readFile filepath\r\n\tcryptUnprotectDataCheck data Nothing
  CurrentUser\r\n```\r\n\r\nYou may want to covert the ciphertext to base64 or some
  other similar encoding\r\nbefore saving it, such as when you are saving it to a
  text file.\r\n\r\n## Tests\r\n\r\nThe tests rely on using PowerShell to protect
  and unprotect the data, to provide a half that works.\r\nHowever, this may trip
  your antimalware service when you run `cabal test`.\r\n"
description-type: markdown
hash: 061fea4bb8e77549fb98c2c37ba660a69a9f9df75d1c390267b58e297c17e2b4
homepage: https://gitlab.com/Hex052/haskell-dpapi
latest: 0.1.0.0
license-name: MPL-2.0
maintainer: elijahiff@gmail.com
synopsis: Windows DPAPI bindings
test-bench-deps:
  HUnit: ^>=1.6.2
  Win32: ^>=2.14
  base: ^>=4.18.3.0
  base64: ^>=1.0
  bytestring: ^>=0.12.2
  dpapi: '>=0'
  text: ^>=2.0.2
  typed-process: ^>=0.2.13
