homepage: https://github.com/tarleb/hslua-aeson#readme
changelog-type: markdown
hash: 44e08842c0757c111f5fa8fe97338b2d75db094636c2eec633d81d9d1a1ad59d
test-bench-deps:
  bytestring: '>=0.10.2 && <0.12'
  hslua-marshalling: '>=2.0 && <2.1'
  base: '>=4.8 && <5'
  unordered-containers: '>=0.2 && <0.3'
  text: '>=1.0 && <1.3'
  hslua-aeson: -any
  containers: '>=0.5.9 && <0.7'
  quickcheck-instances: -any
  ieee754: -any
  tasty-quickcheck: '>=0.8'
  mtl: '>=2.2 && <2.3'
  hslua-core: '>=2.0 && <2.1'
  hashable: '>=1.2 && <1.5'
  tasty-hunit: '>=0.9'
  tasty: '>=0.11'
  scientific: '>=0.3 && <0.4'
  QuickCheck: -any
  aeson: '>=2.0 && <2.1'
  vector: '>=0.7'
maintainer: Albert Krewinkel <albert+hslua@zeitkraut.de>
synopsis: Allow aeson data types to be used with lua.
changelog: |
  # Changelog

  `hslua-aeson` uses [PVP Versioning][].

  ## hslua-aeson-2.0.0

  Released 2021-12-17.

  -   Changed module name from `Foreign.Lua.Aeson` to
      `HsLua.Aeson`.

  -   The Peekable and Pushable instances have been removed. The
      package no longer defines orphaned instances.

  -   Updated hslua and aeson to the respective 2.0 version.

  ## hslua-aeson-1.0.3.1

  Released 2020-10-16.

  -   Allow hslua-1.3.\*.

  ## hslua-aeson-1.0.3

  Released 2020-08-15.

  -   Relaxed version constraint for hslua, allowing `hslua-1.2.*`.

  ## hslua-aeson-1.0.2

  Released 2020-05-28

  -   Relaxed version constraint for aeson, allowing `aeson-1.5.*`.

  -   Update CI tests to check with GHC versions 8.0 through 8.10.
      Compilation with GHC 7.10 is no longer tested.

  -   Bump to stackage LTS-14.

  ## hslua-aeson-1.0.1

  Released 2020-04-03

  -   Relax version constraint for packages hashable and hslua,
      allow `hashable-1.3` and `hslua-1.1.*`.

  ## hslua-aeson-1.0.0

  Released 2019-09-24.

  -   Update to hslua 1.0.0

  -   Function `registerNull` has been replaced by `pushNull`.

      Using `pushNull` has the advantage that users wonâ€™t have to
      remember to register a special variable. Users who need a
      global variable can set it by running

            pushNull
            setglobal "HSLUA_AESON_NULL"

  ## hslua-aeson-0.3.0

  Released 2017-08-18.

  -   Update to hslua 0.8.0.

  ## hslua-aeson-0.2.0

  Not publicly released.

  -   Update to hslua 0.6.0.

  ## hslua-aeson-0.1.0.4

  Released 2017-04-17.

  -   Ensure compatibility with hslua 0.5.0.

  ## hslua-aeson-0.1.0.0

  Released 2017-02-03.

  -   Initial release.

    [PVP Versioning]: https://pvp.haskell.org
basic-deps:
  bytestring: '>=0.10.2 && <0.12'
  hslua-marshalling: '>=2.0 && <2.1'
  base: '>=4.8 && <5'
  unordered-containers: '>=0.2 && <0.3'
  text: '>=1.0 && <1.3'
  containers: '>=0.5.9 && <0.7'
  mtl: '>=2.2 && <2.3'
  hslua-core: '>=2.0 && <2.1'
  hashable: '>=1.2 && <1.5'
  scientific: '>=0.3 && <0.4'
  aeson: '>=2.0 && <2.1'
  vector: '>=0.7'
all-versions:
- 0.1.0.0
- 0.1.0.1
- 0.1.0.2
- 0.1.0.3
- 0.1.0.4
- 0.3.0
- 0.3.0.1
- 0.3.0.2
- 1.0.0
- 1.0.1
- 1.0.2
- 1.0.3
- 1.0.3.1
- 2.0.0
author: Albert Krewinkel
latest: 2.0.0
description-type: markdown
description: |
  hslua-aeson
  ===========

  [![travis build status]](https://travis-ci.org/hslua/hslua-aeson)
  [![MIT License]](./LICENSE)


  Glue to hslua for aeson values.

  This provides a `StackValue` instance for aeson's `Value` type. The following
  conventions are used:

  - `Null` values are encoded as a special value (stored in the registry field
    `HSLUA_AESON_NULL`). Using `nil` would cause problems with null-containing
    arrays.

  - Objects are converted to tables in a straight-forward way.

  - Arrays are converted to Lua tables. Array-length is included as the value at
    index 0. This makes it possible to distinguish between empty arrays and empty
    objects.

  - JSON numbers are converted to Lua numbers (usually doubles), which can cause
    a loss of precision.

  License
  -------

  This project is licensed under the liberal MIT license, the same license under
  which hslua and lua itself are published. See the [LICENSE](./LICENSE) file for
  details.

  [travis build status]: https://img.shields.io/travis/hslua/hslua-aeson/master.svg?style=flat-square
  [MIT License]: https://img.shields.io/github/license/hslua/hslua-aeson.svg?style=flat-square
license-name: MIT
