homepage: http://www.haskell.org/cabal/
changelog-type: markdown
hash: 74ca2bc93297dc20b291c8dc721055278aa4a7942b0b5aca86766d407e3cbe5f
test-bench-deps:
  bytestring: -any
  integer-logarithms: '>=1.0.2 && <1.1'
  stm: '>=2.4.5.0 && <2.6'
  Cabal: -any
  base: -any
  tasty-golden: '>=2.3.1.1 && <2.4'
  Diff: ==0.4.*
  text: -any
  rere: '>=0.1 && <0.2'
  clock: '>=0.8 && <0.9'
  filepath: -any
  process: -any
  async: '>=2.2.2 && <2.3'
  tree-diff: ==0.1.*
  array: -any
  base-orphans: '>=0.6 && <0.9'
  tagged: -any
  containers: -any
  base-compat: '>=0.11.0 && <0.12'
  tar: '>=0.5.0.3 && <0.6'
  binary: -any
  tasty-quickcheck: -any
  tasty-hunit: -any
  transformers: -any
  temporary: -any
  optparse-applicative: '>=0.13.2.0 && <0.17'
  tasty: '>=1.2.3 && <1.4'
  deepseq: -any
  QuickCheck: ==2.14.*
  pretty: -any
  directory: -any
maintainer: cabal-devel@haskell.org
synopsis: A framework for packaging Haskell software
changelog: "# 3.4.0.0 [Oleg Grenrus](mailgo:oleg.grnerus@iki.fi) February 2021\n  *
  See https://github.com/haskell/cabal/blob/master/release-notes/Cabal-3.4.0.0.md\n\n#
  3.2.1.0 [Oleg Grenrus](mailto:oleg.grenris@iki.fi) October 2020\n  * Pass `cxx-options`
  with `-optcxx` for GHC >= 8.10\n  * Use process jobs when calling subprocesses\n
  \ * Require custom-setup for `cabal-version: 1.24` and later\n  * Accept `linux-androideabi`
  as an alias for Android\n  * Fix ghci being launched before other sources are built
  \n  * Require cabal-versions >=1.25 to be exact\n\n# 3.2.0.0 [Herbert Valerio Riedel](mailto:hvr@gnu.org)
  April 2020\n  * Change free text `String` fields to use `ShortText` in package description\n
  \   and installed packge info.\n  * Split `Distribution.Types.Flag` and `Distribution.Types.ConfVar`\n
  \   `Distribution.Types.GenericPackageDescription`.\n  * Add GHC-8.10 support, including
  new extensions to\n    `Language.Haskell.Extension`.\n  * Use more `NonEmpty` instead
  of ordinary lists.\n  * Add `Distribution.Utils.Structured` for fingeprinting `Binary`
  blobs.\n  * Add `null`, `length` and `unsafeFromUTF8BS` to `Distribution.Utils.ShortText`.\n
  \ * Refactor `Distribution.Utils.IOData` module.\n  * Rename `Distribution.Compat.MD5`
  to `Distribution.Utils.MD5`.\n  * Add `safeHead`, `safeTail`, `safeLast` to `Distribution.Utils.Generic`.\n
  \ * Add `unsnoc` and `unsnocNE` to `Distribution.Utils.Generic`.\n  * Add `Set'`
  modifier to `Distribution.Parsec.Newtypes`.\n  * Add `Distribution.Compat.Async`.\n\n#
  3.0.2.0 [Herbert Valerio Riedel](mailto:hvr@gnu.org) April 2020\n  * Disallow spaces
  around colon `:` in Dependency `build-depends` syntax\n    ([#6538](https://github.com/haskell/cabal/pull/6538)).\n
  \ * Make `configure` accept any `pkg-config --modversion` output\n    ([#6541](https://github.com/haskell/cabal/pull/6541)).\n\n#
  3.0.1.0 [Herbert Valerio Riedel](mailto:hvr@gnu.org) April 2020\n  * Add GHC-8.8
  flags to `normaliseGhcFlags`\n    ([#6379](https://github.com/haskell/cabal/pull/6379)).\n
  \   `Language.Haskell.Extension`\n  * Use more `NonEmpty` instead of ordinary lists\n
  \ * Add `Distribution.Utils.Structured` for fingeprinting `Binary` blobs\n  * Add
  `null`, `length` and `unsafeFromUTF8BS` to `Distribution.Utils.ShortText`\n  * Refactor
  `Distribution.Utils.IOData` module\n  * Rename `Distribution.Compat.MD5` to `Distribution.Utils.MD5`\n
  \ * Add `safeHead`, `safeTail`, `safeLast` to `Distribution.Utils.Generic`\n  *
  Add `unsnoc` and `unsnocNE` to `Distribution.Utils.Generic`\n  * Add `Set'` modifier
  to `Distribution.Parsec.Newtypes`\n  * Add `Distribution.Compat.Async`\n  * Add
  `Distribution.Compat.Process` with `enableProcessJobs`\n\n# 3.0.1.0 TBW\n  * Add
  GHC-8.8 flags to normaliseGhcFlags\n    ([#6379](https://github.com/haskell/cabal/pull/6379))\n
  \ * Typo fixes\n    ([#6372](https://github.com/haskell/cabal/pull/6372)).\n  *
  Limit version number parts to contain at most 9 digits\n    ([#6386](https://github.com/haskell/cabal/pull/6386)).\n
  \ * Fix boundless sublibrary depedency parse failure\n    ([#5846](https://github.com/haskell/cabal/issues/5846)).\n
  \ * `cabal check` verifies `cpp-options` more pedantically, allowing only\n    options
  starting with `-D` and `-U`.\n  * Donâ€™t rebuild world when new ghc flags that affect
  how error\n    messages are presented is specified.\n  * Fix dropExeExtension behaviour
  on Windows\n    ([#6287](https://github.com/haskell/cabal/pull/6287)).\n\n# 3.0.0.0
  [Mikhail Glushenkov](mailto:mikhail.glushenkov@gmail.com) August 2019\n  * The 3.0
  migration guide gives advice on adapting Custom setup\n    scripts to backwards-incompatible
  changes in this release:\n    https://github.com/haskell/cabal/wiki/3.0-migration-guide.\n
  \ * Due to [#5119](https://github.com/haskell/cabal/issues/5119), the\n    `cabal
  check` warning for bounds on internal libraries has been\n    disabled.\n  * Introduce
  set notation for `^>=` and `==` operators\n    ([#5906](https://github.com/haskell/cabal/pull/5906)).\n
  \ * 'check' reports warnings for various ghc-\\*-options fields separately\n    ([#5342](https://github.com/haskell/cabal/issues/5432)).\n
  \ * `KnownExtension`: added new extensions `DerivingVia` and\n    `EmptyDataDeriving`.\n
  \ * Add `extra-dynamic-library-flavours`, to specify extra dynamic library\n    flavours
  to build and install from a .cabal file.\n  * `autoconfUserHooks` now passes `--host=$HOST`
  when cross-compiling\n  * Introduce multiple public libraries feature\n    ([#5526](https://github.com/haskell/cabal/pull/5526)).\n
  \   * New build-depends syntax\n    * Add a set of library components to the `Dependency`
  datatype\n    * New `visibility` field in the `library` stanza\n    * New `LibraryVisibility`
  field in `InstalledPackageInfo`\n    * New syntax for the `--dependency` Cabal flag\n
  \ * Static linking\n    * Add `--enable-executable-static` flag for building fully\n
  \     static executables (GHC's normal \"statish\" linking links\n      Haskell
  libraries statically, but libc and system dependencies\n      dynamically). This
  new flag links everything statically.\n    * Note you likely want to link against
  `musl` or another libc that\n      supports fully static linking;\n      [`glibc`
  has some issues](https://sourceware.org/glibc/wiki/FAQ#Even_statically_linked_programs_need_some_shared_libraries_which_is_not_acceptable_for_me.__What_can_I_do.3F)\n
  \     with fully static linking.\n  * Fix corrupted config file header for non-ASCII
  package names\n    ([2557](https://github.com/haskell/cabal/issues/2557)).\n  *
  Extend `Distribution.Simple.Utils.rewriteFileEx` from ASCII to UTF-8 encoding.\n
  \ * Change the arguments of `Newtype` class to better suit @DeriveAnyClass@ usage,\n
  \   add default implementation in terms of `coerce` / `unsafeCoerce`.\n  * Implement
  support for response file arguments to defaultMain* and cabal-install.\n  * Uniformly
  provide 'Semigroup' instances for `base < 4.9` via `semigroups` package\n  * Implement
  `{cmm,asm}-{sources,options} buildinfo fields for\n    separate compilation of C--
  and ASM source files (#6033).\n  * Setting `debug-info` now implies `library-stripping:
  False` and\n    `executable-stripping: False) ([#2702](https://github.com/haskell/cabal/issues/2702))\n
  \ * `Setup.hs copy` and `install` now work in the presence of\n    `data-files`
  that use `**` syntax\n    ([#6125](https://github.com/haskell/cabal/issues/6125)).\n\n----\n\n###
  2.4.1.1 [Mikhail Glushenkov](mailto:mikhail.glushenkov@gmail.com) December 2018\n\n
  \ * Fix `--with-compiler` failing to locate compiler on Windows\n    ([#5753](https://github.com/haskell/cabal/pull/5753)).\n
  \ * Cabal can once again be built with GHC 7.8 and 7.6\n    ([#5730](https://github.com/haskell/cabal/pull/5730)).\n\n###
  2.4.1.0 [Mikhail Glushenkov](mailto:mikhail.glushenkov@gmail.com) November 2018\n\n
  \ * Warnings in autogenerated files are now silenced\n    ([#5678](https://github.com/haskell/cabal/pull/5678)).\n
  \ * Improved recompilation avoidance, especially when using GHC 8.6\n    ([#5589](https://github.com/haskell/cabal/pull/5589)).\n
  \ * Do not error on empty packagedbs in `getInstalledPackages`\n    ([#5516](https://github.com/haskell/cabal/issues/5516)).\n\n\n###
  2.4.0.1 [Mikhail Glushenkov](mailto:mikhail.glushenkov@gmail.com) September 2018\n\n
  \ * Allow arguments to be passed to `Setup.hs haddock` for `build-type:configure`\n
  \   ([#5503](https://github.com/haskell/cabal/issues/5503)).\n\n# 2.4.0.0 [Mikhail
  Glushenkov](mailto:mikhail.glushenkov@gmail.com) September 2018\n  * Due to [#5119](https://github.com/haskell/cabal/issues/5119),
  the\n    `cabal check` warning for bounds on internal libraries has been\n    disabled.\n
  \ * `Distribution.Simple.Haddock` now checks to ensure that it\n    does not erroneously
  call Haddock with no target modules.\n    ([#5232](https://github.com/haskell/cabal/issues/5232),\n
  \   [#5459](https://github.com/haskell/cabal/issues/5459)).\n  * Add `getting` (less
  general than `to`) Lens combinator,\n    `non`) and an optics to access the modules
  in a component\n    of a `PackageDescription` by the `ComponentName`:\n    `componentBuildInfo`
  and `componentModules`\n  * Linker `ld-options` are now passed to GHC as `-optl`
  options\n    ([#4925](https://github.com/haskell/cabal/pull/4925)).\n  * Add `readGhcEnvironmentFile`
  to parse GHC environment files.\n  * Drop support for GHC 7.4, since it is out of
  our support window\n    (and has been for over a year!)\n  * Deprecate `preSDist`,
  `sDistHook`, and `postSDist` in service of\n    `new-sdist`, since they violate
  key invariants of the new-build\n    ecosystem. Use `autogen-modules` and `build-tool-depends`
  instead.\n    ([#5389](https://github.com/haskell/cabal/pull/5389)).\n  * Added
  `--repl-options` flag to `Setup repl` used to pass flags to the\n    underlying
  repl without affecting the `LocalBuildInfo`\n    ([#4247](https://github.com/haskell/cabal/issues/4247),\n
  \   [#5287](https://github.com/haskell/cabal/pull/5287))\n  * `KnownExtension`:
  added new extensions `BlockArguments`\n    ([#5101](https://github.com/haskell/cabal/issues/5101)),\n
  \   `NumericUnderscores`\n    ([#5130]((https://github.com/haskell/cabal/issues/5130)),\n
  \   `QuantifiedConstraints`, and `StarIsType`.\n  * `buildDepends` is removed from
  `PackageDescription`. It had long been\n    uselessly hanging about as top-level
  build-depends already got put\n    into per-component condition trees anyway. Now
  it's finally been put\n    out of its misery\n    ([#4383](https://github.com/haskell/cabal/issues/4283)).\n
  \ * Added `Eta` to `CompilerFlavor` and to known compilers.\n  * `cabal haddock`
  now generates per-component documentation\n    ([#5226](https://github.com/haskell/cabal/issues/5226)).\n
  \ * Wildcard improvements:\n    * Allow `**` wildcards in `data-files`, `extra-source-files`
  and\n      `extra-doc-files`. These allow a limited form of recursive\n      matching,
  and require `cabal-version: 2.4`.\n      ([#5284](https://github.com/haskell/cabal/issues/5284),\n
  \     [#3178](https://github.com/haskell/cabal/issues/3178), et al.)\n    * With
  `cabal-version: 2.4`, when matching a wildcard, the\n      requirement for the full
  extension to match exactly has been\n      loosened. Instead, if the wildcard's
  extension is a suffix of the\n      file's extension, the file will be selected.
  For example,\n      previously `foo.en.html` would not match `*.html`, and\n      `foo.solaris.tar.gz`
  would not match `*.tar.gz`, but now both\n      do. This may lead to files unexpectedly
  being included by `sdist`;\n      please audit your package descriptions if you
  rely on this\n      behaviour to keep sensitive data out of distributed packages\n
  \     ([#5372](https://github.com/haskell/cabal/pull/5372),\n      [#784](https://github.com/haskell/cabal/issues/784),\n
  \     [#5057](https://github.com/haskell/cabal/issues/5057)).\n    * Wildcard syntax
  errors (misplaced `*`, etc), wildcards that\n      refer to missing directoies,
  and wildcards that do not match\n      anything are now all detected by `cabal check`.\n
  \   * Wildcard ('globbing') functions have been moved from\n      `Distribution.Simple.Utils`
  to `Distribution.Simple.Glob` and\n      have been refactored.\n  * Fixed `cxx-options`
  and `cxx-sources` buildinfo fields for\n    separate compilation of C++ source files
  to correctly build and link\n    non-library components ([#5309](https://github.com/haskell/cabal/issues/5309)).\n
  \ * Reduced warnings generated by hsc2hs and c2hs when `cxx-options` field\n    is
  present in a component.\n  * `cabal check` now warns if `-j` is used in `ghc-options`
  in a Cabal\n    file. ([#5277](https://github.com/haskell/cabal/issues/5277))\n
  \ * `install-includes` now works as expected with foreign libraries\n    ([#5302](https://github.com/haskell/cabal/issues/5299)).\n
  \ * Removed support for JHC.\n  * Options listed in `ghc-options`, `cc-options`,
  `ld-options`,\n    `cxx-options`, `cpp-options` are not deduplicated anymore\n    ([#4449](https://github.com/haskell/cabal/issues/4449)).\n
  \ * Deprecated `cabal hscolour` in favour of `cabal haddock --hyperlink-source`
  ([#5236](https://github.com/haskell/cabal/pull/5236/)).\n  * Recognize `powerpc64le`
  as architecture PPC64.\n  * Cabal now deduplicates more `-I` and `-L` and flags
  to avoid `E2BIG`\n    ([#5356](https://github.com/haskell/cabal/issues/5356)).\n
  \ * With `build-type: configure`, avoid using backslashes to delimit\n    path components
  on Windows and warn about other unsafe characters\n    in the path to the source
  directory on all platforms\n    ([#5386](https://github.com/haskell/cabal/issues/5386)).\n
  \ * `Distribution.PackageDescription.Check.checkPackageFiles` now\n    accepts a
  `Verbosity` argument.\n  * Added a parameter to\n    `Distribution.Backpack.ConfiguredComponent.toConfiguredComponent`
  in order to fix\n    [#5409](https://github.com/haskell/cabal/issues/5409).\n  *
  Partially silence `abi-depends` warnings\n    ([#5465](https://github.com/haskell/cabal/issues/5465)).\n
  \ * Foreign libraries are now linked against the threaded RTS when the\n    'ghc-options:
  -threaded' flag is used\n    ([#5431](https://github.com/haskell/cabal/pull/5431)).\n
  \ * Pass command line arguments to `hsc2hs` using response files when possible\n
  \   ([#3122](https://github.com/haskell/cabal/issues/3122)).\n\n----\n\n## 2.2.0.1
  [Mikhail Glushenkov](mailto:mikhail.glushenkov@gmail.com) March 2018\n\n  * Fix
  `checkPackageFiles` for relative directories ([#5206](https://github.com/haskell/cabal/issues/5206))\n\n\n#
  2.2.0.0 [Mikhail Glushenkov](mailto:mikhail.glushenkov@gmail.com) March 2018\n\n
  \ * The 2.2 migration guide gives advice on adapting Custom setup\n    scripts to
  backwards-incompatible changes in this release:\n    https://github.com/haskell/cabal/wiki/2.2-migration-guide.\n
  \ * New Parsec-based parser for `.cabal` files is now the\n    default. This brings
  memory consumption and speed improvements, as\n    well as making new syntax extensions
  easier to implement.\n  * Support for common stanzas (#4751).\n  * Added elif-conditionals
  to `.cabal` syntax (#4750).\n  * The package license information can now be specified
  using the\n    SPDX syntax. This requires setting `cabal-version` to 2.2+ (#2547,\n
  \   #5050).\n  * Support for GHC's numeric -g debug levels (#4673).\n  * Compilation
  with section splitting is now supported via the\n    `--enable-split-sections` flag
  (#4819)\n  * Fields with mandatory commas (e.g. build-depends) may now have a\n
  \   leading or a trailing comma (either one, not both) (#4953)\n  * Added `virtual-modules`
  field, to allow modules that are not built\n    but registered (#4875).\n  * Use
  better defaulting for `build-type`; rename `PackageDescription`'s\n    `buildType`
  field to `buildTypeRaw` and introduce new `buildType`\n    function (#4958)\n  *
  `D.T.PackageDescription.allBuildInfo` now returns all build infos, not\n    only
  for buildable components (#5087).\n  * Removed `UnknownBuildType` constructor from
  `BuildType` (#5003).\n  * Added `HexFloatLiterals` to `KnownExtension`.\n  * Cabal
  will no longer try to build an empty set of `inputModules`\n    (#4890).\n  * `copyComponent`
  and `installIncludeFiles` will now look for\n    include headers in the build directory
  (`dist/build/...` by\n    default) as well (#4866).\n  * Added `cxx-options` and
  `cxx-sources` buildinfo fields for\n    separate compilation of C++ source files
  (#3700).\n  * Removed unused `--allow-newer`/`--allow-older` support from\n    `Setup
  configure` (#4527).\n  * Changed `FlagAssignment` to be an opaque `newtype` (#4849).\n
  \ * Changed `rawSystemStdInOut` to use proper type to represent\n    binary and
  textual data; new `Distribution.Utils.IOData` module;\n    removed obsolete `startsWithBOM`,
  `fileHasBOM`, `fromUTF8`,\n    and `toUTF8` functions; add new `toUTF8BS`/`toUTF8LBS`\n
  \   encoding functions. (#4666)\n  * Added a `cabal check` warning when the `.cabal`
  file name does\n    not match package name (#4592).\n  * The `ar` program now receives
  its arguments via a response file\n    (`@file`).  Old behaviour can be restored
  with\n    `--disable-response-files` argument to `configure` or\n    `install` (#4596).\n
  \ * Added `.Lens` modules, with optics for package description data\n    types (#4701).\n
  \ * Support for building with Win32 version 2.6 (#4835).\n  * Change `compilerExtensions`
  and `ghcOptExtensionMap` to contain\n    `Maybe Flag`s, since a supported extension
  can lack a flag (#4443).\n  * Pretty-printing of `.cabal` files is slightly different
  due to\n    parser changes. For an example, see\n    https://mail.haskell.org/pipermail/cabal-devel/2017-December/010414.html.\n
  \ * `--hyperlink-source` now uses Haddock's hyperlinker backend when\n    Haddock
  is new enough, falling back to HsColour otherwise.\n  * `D.S.defaultHookedPackageDesc`
  has been deprecated in favour of\n    `D.S.findHookedPackageDesc` (#4874).\n  *
  `D.S.getHookedBuildInfo` now takes an additional parameter\n    specifying the build
  directory path (#4874).\n  * Emit warning when encountering unknown GHC versions
  (#415).\n\n### 2.0.1.1 [Mikhail Glushenkov](mailto:mikhail.glushenkov@gmail.com)
  December 2017\n\n  * Don't pass `other-modules` to stub executable for detailed-0.9\n
  \ (#4918).\n  * Hpc: Use relative .mix search paths (#4917).\n\n## 2.0.1.0 [Mikhail
  Glushenkov](mailto:mikhail.glushenkov@gmail.com) November 2017\n\n  * Support for
  GHC's numeric -g debug levels (#4673).\n  * Added a new `Distribution.Verbosity.modifyVerbosity`
  combinator\n    (#4724).\n  * Added a new `cabal check` warning about unused, undeclared
  or\n    non-Unicode flags.  Also, it warns about leading dash, which is\n    unusable
  but accepted if it's unused in conditionals. (#4687)\n  * Modify `allBuildInfo`
  to include foreign library info (#4763).\n  * Documentation fixes.\n\n### 2.0.0.2
  [Mikhail Glushenkov](mailto:mikhail.glushenkov@gmail.com) July 2017\n\n  * See http://coldwa.st/e/blog/2017-09-09-Cabal-2-0.html\n
  \   for more detailed release notes.\n  * The 2.0 migration guide gives advice on
  adapting Custom setup\n    scripts to backwards-incompatible changes in this release:\n
  \   https://github.com/haskell/cabal/wiki/2.0-migration-guide\n  * Add CURRENT_PACKAGE_VERSION
  to cabal_macros.h (#4319)\n  * Dropped support for versions of GHC earlier than
  6.12 (#3111).\n  * GHC compatibility window for the Cabal library has been extended\n
  \   to five years (#3838).\n  * Convenience/internal libraries are now supported
  (#269).\n    An internal library is declared using the stanza `library\n    'libname'`.
  \ Packages which use internal libraries can\n    result in multiple registrations;
  thus `--gen-pkg-config`\n    can now output a directory of registration scripts
  rather than\n    a single file.\n  * Backwards incompatible change to preprocessor
  interface:\n    the function in `PPSuffixHandler` now takes an additional\n    `ComponentLocalBuildInfo`
  specifying the build information\n    of the component being preprocessed.\n  *
  Backwards incompatible change to `cabal_macros.h` (#1893): we now\n    generate
  a macro file for each component which contains only\n    information about the direct
  dependencies of that component.\n    Consequently, `dist/build/autogen/cabal_macros.h`
  contains\n    only the macros for the library, and is not generated if a\n    package
  has no library; to find the macros for an executable\n    named `foobar`, look in
  `dist/build/foobar/autogen/cabal_macros.h`.\n    Similarly, if you used `autogenModulesDir`
  you should now\n    use `autogenComponentModulesDir`, which now requires a\n    `ComponentLocalBuildInfo`
  argument as well in order to\n    disambiguate which component the autogenerated
  files are for.\n  * Backwards incompatible change to `Component`: `TestSuite` and\n
  \   `Benchmark` no longer have `testEnabled` and\n    `benchmarkEnabled`.  If you
  used\n    `enabledTests` or `enabledBenchmarks`, please instead use\n    `enabledTestLBIs`
  and `enabledBenchLBIs`\n    (you will need a `LocalBuildInfo` for these functions.)\n
  \   Additionally, the semantics of `withTest` and `withBench`\n    have changed:
  they now iterate over all buildable\n    such components, regardless of whether
  or not they have\n    been enabled; if you only want enabled components,\n    use
  `withTestLBI` and `withBenchLBI`.\n    `finalizePackageDescription` is deprecated:\n
  \   its replacement `finalizePD` now takes an extra argument\n    `ComponentRequestedSpec`
  which specifies what components\n    are to be enabled: use this instead of modifying
  the\n    `Component` in a `GenericPackageDescription`.  (As\n    it's not possible
  now, `finalizePackageDescription`\n    will assume tests/benchmarks are disabled.)\n
  \   If you only need to test if a component is buildable\n    (i.e., it is marked
  buildable in the Cabal file)\n    use the new function `componentBuildable`.\n  *
  Backwards incompatible change to `PackageName` (#3896):\n    `PackageName` is now
  opaque; conversion to/from `String` now works\n    via (old) `unPackageName` and
  (new) `mkPackageName` functions.\n  * Backwards incompatible change to `ComponentId`
  (#3917):\n    `ComponentId` is now opaque; conversion to/from `String` now works\n
  \   via `unComponentId` and `mkComponentId` functions.\n  * Backwards incompatible
  change to `AbiHash` (#3921):\n    `AbiHash` is now opaque; conversion to/from `String`
  now works\n    via `unAbiHash` and `mkAbiHash` functions.\n  * Backwards incompatible
  change to `FlagName` (#4062):\n    `FlagName` is now opaque; conversion to/from
  `String` now works\n    via `unFlagName` and `mkFlagName` functions.\n  * Backwards
  incompatible change to `Version` (#3905):\n    Version is now opaque; conversion
  to/from `[Int]` now works\n    via `versionNumbers` and `mkVersion` functions.\n
  \ * Add support for `--allow-older` (dual to `--allow-newer`) (#3466)\n  * Improved
  an error message for process output decoding errors\n  (#3408).\n  * `getComponentLocalBuildInfo`,
  `withComponentsInBuildOrder`\n    and `componentsInBuildOrder` are deprecated in
  favor of a\n    new interface in `Distribution.Types.LocalBuildInfo`.\n  * New `autogen-modules`
  field. Modules that are built automatically at\n    setup, like Paths_PACKAGENAME
  or others created with a build-type\n    custom, appear on `other-modules` for the
  Library, Executable,\n    Test-Suite or Benchmark stanzas or also on `exposed-modules`
  for\n    libraries but are not really on the package when distributed. This\n    makes
  commands like sdist fail because the file is not found, so with\n    this new field
  modules that appear there are treated the same way as\n    Paths_PACKAGENAME was
  and there is no need to create complex build\n    hooks. Just add the module names
  on `other-modules` and\n    `exposed-modules` as always and on the new `autogen-modules`
  besides.\n  (#3656).\n  * New `./Setup configure` flag `--cabal-file`, allowing
  multiple\n  `.cabal` files in a single directory (#3553). Primarily intended for\n
  \ internal use.\n  * Macros in `cabal_macros.h` are now ifndef'd, so that they\n
  \ don't cause an error if the macro is already defined. (#3041)\n  * `./Setup configure`
  now accepts a single argument specifying\n    the component to be configured.  The
  semantics of this mode\n    of operation are described in\n    <https://github.com/ghc-proposals/ghc-proposals/pull/4>\n
  \ * Internal `build-tools` dependencies are now added to PATH\n    upon invocation
  of GHC, so that they can be conveniently\n    used via `-pgmF`. (#1541)\n  * Add
  support for new caret-style version range operator `^>=` (#3705)\n  * Verbosity
  `-v` now takes an extended format which allows\n    specifying exactly what you
  want to be logged.  The format is\n    `[silent|normal|verbose|debug] flags`, where
  flags is a space\n    separated list of flags. At the moment, only the flags\n    +callsite
  and +callstack are supported; these report the\n    call site/stack of a logging
  output respectively (these\n    are only supported if Cabal is built with GHC 8.0/7.10.2\n
  \   or greater, respectively).\n  * New `Distribution.Utils.ShortText.ShortText`
  type for representing\n    short text strings compactly (#3898)\n  * Cabal no longer
  supports using a version bound to disambiguate\n    between an internal and external
  package (#4020).  This should\n    not affect many people, as this mode of use already
  did not\n    work with the dependency solver.\n  * Support for \"foreign libraries\"
  (#2540), which are Haskell\n    libraries intended to be used by foreign languages
  like C.\n    Foreign libraries only work with GHC 7.8 and later.\n  * Added a technical
  preview version of integrated doctest support (#4480).\n  * Added a new `scope`
  field to the executable stanza. Executables\n    with `scope: private` get installed
  into\n    $libexecdir/$libexecsubdir. Additionally $libexecdir now has a\n    subdir
  structure similar to $lib(sub)dir to allow installing\n    private executables of
  different packages and package versions\n    alongside one another.  Private executables
  are those that are\n    expected to be run by other programs rather than users.
  (#3461)\n\n## 1.24.2.0 [Mikhail Glushenkov](mailto:mikhail.glushenkov@gmail.com)
  December 2016\n  * Fixed a bug in the handling of non-buildable components (#4094).\n
  \ * Reverted a PVP-noncompliant API change in 1.24.1.0 (#4123).\n  * Bumped the
  directory upper bound to < 1.4 (#4158).\n\n## 1.24.1.0 [Ryan Thomas](mailto:ryan@ryant.org)
  October 2016\n  * API addition: `differenceVersionRanges` (#3519).\n  * Fixed reexported-modules
  display mangling (#3928).\n  * Check that the correct cabal-version is specified
  when the\n  extra-doc-files field is present (#3825).\n  * Fixed an incorrect invocation
  of GetShortPathName that was\n  causing build failures on Windows (#3649).\n  *
  Linker flags are now set correctly on GHC >= 7.8 (#3443).\n\n# 1.24.0.0 [Ryan Thomas](mailto:ryan@ryant.org)
  March 2016\n  * Support GHC 8.\n  * Deal with extra C sources from preprocessors
  (#238).\n  * Include cabal_macros.h when running c2hs (#2600).\n  * Don't recompile
  C sources unless needed (#2601).\n  * Read `builddir` option from `CABAL_BUILDDIR`
  environment variable.\n  * Add `--profiling-detail=$level` flag with a default for
  libraries\n    and executables of `exported-functions` and `toplevel-functions`\n
  \   respectively (GHC's `-fprof-auto-{exported,top}` flags) (#193).\n  * New `custom-setup`
  stanza to specify setup deps. Setup is also built\n    with the cabal_macros.h style
  macros, for conditional compilation.\n  * Support Haddock response files (#2746).\n
  \ * Fixed a bug in the Text instance for Platform (#2862).\n  * New `setup haddock`
  option: `--for-hackage` (#2852).\n  * New `--show-detail=direct`; like streaming,
  but allows the test\n    program to detect that is connected to a terminal, and
  works\n    reliable with a non-threaded runtime (#2911, and serves as a\n    work-around
  for #2398)\n  * Library support for multi-instance package DBs (#2948).\n  * Improved
  the `./Setup configure` solver (#3082, #3076).\n  * The `--allow-newer` option can
  be now used with `./Setup\n  configure` (#3163).\n  * Added a way to specify extra
  locations to find OS X frameworks\n  in (`extra-framework-dirs`). Can be used both
  in `.cabal` files and\n  as an argument to `./Setup configure` (#3158).\n  * Macros
  `VERSION_$pkgname` and `MIN_VERSION_$pkgname` are now\n  also generated for the
  current package. (#3235).\n  * Backpack is supported!  Two new fields supported
  in Cabal\n  files: signatures and mixins; and a new flag\n  to setup scripts, `--instantiate-with`.
  \ See\n  https://github.com/ezyang/ghc-proposals/blob/backpack/proposals/0000-backpack.rst\n
  \ for more details.\n\n----\n\n## 1.22.8.0 [Ryan Thomas](mailto:ryan@ryant.org)
  March 2016\n  * Distribution.Simple.Setup: remove job cap. Fixes #3191.\n  * Check
  all object file suffixes for recompilation. Fixes #3128.\n  * Move source files
  under `src/`. Fixes #3003.\n\n## 1.22.7.0 [Ryan Thomas](mailto:ryan@ryant.org) January
  2016\n  * Backport #3012 to the 1.22 branch\n  * Cabal.cabal: change build-type
  to Simple\n  * Add foldl' import\n  * The Cabal part for fully gcc-like response
  files\n\n## 1.22.6.0 [Ryan Thomas](mailto:ryan@ryant.org) December 2015\n  * Relax
  upper bound to allow upcoming binary-0.8\n\n## 1.22.5.0 [Ryan Thomas](mailto:ryan@ryant.org)
  November 2015\n  * Don't recompile C sources unless needed (#2601). (Luke Iannini)\n
  \ * Support Haddock response files.\n  * Add frameworks when linking a dynamic library.\n\n##
  1.22.4.0 [Ryan Thomas](mailto:ryan@ryant.org) June 2015\n  * Add libname install-dirs
  variable, use it by default. Fixes #2437. (Edward Z. Yang)\n  * Reduce temporary
  directory name length, fixes #2502. (Edward Z. Yang)\n  * Workaround for #2527.
  (Mikhail Glushenkov)\n\n## 1.22.3.0 [Ryan Thomas](mailto:ryan@ryant.org) April 2015\n
  \ * Fix for the ghcjs-pkg version number handling (Luite Stegeman)\n  * filterConfigureFlags:
  filter more flags (Mikhail Glushenkov)\n  * Cabal check will fail on -fprof-auto
  passed as a ghc-option - Fixes #2479 (John Chee)\n\n## 1.22.2.0 [Ryan Thomas](mailto:ryan@ryant.org)
  March 2015\n  * Don't pass `--{en,dis}able-profiling` to old setup.\n  * Add -Wall
  police\n  * Fix dependencies on `old-time`\n  * Fix test interface detailed-0.9
  with GHC 7.10\n  * Fix HPC tests with GHC 7.10\n  * Make sure to pass the package
  key to ghc\n  * Use `--package-{name|version}` when available for Haddock when available\n
  \ * Put full package name and version in library names\n  * Fully specify package
  key format, so external tools can generate it.\n\n# 1.22.0.0 [Johan Tibell](mailto:johan.tibell@gmail.com)
  January 2015\n  * Support GHC 7.10.\n  * Experimental support for emitting DWARF
  debug info.\n  * Preliminary support for relocatable packages.\n  * Allow cabal
  to be used inside cabal exec environments.\n  * hpc: support multiple \"ways\" (e.g.
  profiling and vanilla).\n  * Support GHCJS.\n  * Improved command line documentation.\n
  \ * Add `-none` constraint syntax for version ranges (#2093).\n  * Make the default
  doc index file path compiler/arch/os-dependent\n  (#2136).\n  * Warn instead of
  dying when generating documentation and hscolour\n  isn't installed (455f51622fa38347db62197a04bb0fa5b928ff17).\n
  \ * Support the new BinaryLiterals extension\n  (1f25ab3c5eff311ada73c6c987061b80e9bbebd9).\n
  \ * Warn about `ghc-prof-options: -auto-all` in `cabal check` (#2162).\n  * Add
  preliminary support for multiple instances of the same package\n  version installed
  side-by-side (#2002).\n  * New binary build config format - faster build times (#2076).\n
  \ * Support module thinning and renaming (#2038).\n  * Add a new license type: UnspecifiedLicense
  (#2141).\n  * Remove support for Hugs and nhc98 (#2168).\n  * Invoke `tar` with
  `--formar ustar` if possible in `sdist` (#1903).\n  * Replace `--enable-library-coverage`
  with `--enable-coverage`, which\n  enables program coverage for all components (#1945).\n
  \ * Suggest that `ExitFailure 9` is probably due to memory\n  exhaustion (#1522).\n
  \ * Drop support for Haddock < 2.0 (#1808, #1718).\n  * Make `cabal test`/`cabal
  bench` build only what's needed for\n  running tests/benchmarks (#1821).\n  * Build
  shared libraries by default when linking executables dynamically.\n  * Build profiled
  libraries by default when profiling executables.\n\n----\n\n### 1.20.0.4 [Ryan Thomas](mailto:ryan@ryant.org)
  January 2016\n  * Cabal.cabal: change build-type to Simple.\n\n### 1.20.0.1 [Johan
  Tibell](mailto:johan.tibell@gmail.com) May 2014\n  * Fix streaming test output.\n\n#
  1.20.0.0 [Johan Tibell](mailto:johan.tibell@gmail.com) April 2014\n  * Rewrite user
  guide\n  * Fix repl Ctrl+C handling\n  * Add haskell-suite compiler support\n  *
  Add __HADDOCK_VERSION__ define\n  * Allow specifying exact dependency version using
  hash\n  * Rename extra-html-files to extra-doc-files\n  * Add parallel build support
  for GHC 7.8 and later\n  * Don't call ranlib on OS X\n  * Avoid re-linking executables,
  test suites, and benchmarks\n  unnecessarily, shortening build times\n  * Add `--allow-newer`
  which allows upper version bounds to be\n  ignored\n  * Add `--enable-library-stripping`\n
  \ * Add command for freezing dependencies\n  * Allow repl to be used outside Cabal
  packages\n  * Add `--require-sandbox`\n  * Don't use `--strip-unneeded` on OS X
  or iOS\n  * Add new license-files field got additional licenses\n  * Fix if(solaris)
  on some Solaris versions\n  * Don't use -dylib-install-name on OS X with GHC > 7.8\n
  \ * Add DragonFly as a known OS\n  * Improve pretty-printing of Cabal files\n  *
  Add test flag `--show-details=streaming` for real-time test output\n  * Add exec
  command\n\n----\n\n## 1.10.2.0 [Duncan Coutts](mailto:duncan@community.haskell.org)
  June 2011\n  * Include test suites in cabal sdist\n  * Fix for conditionals in test
  suite stanzas in `.cabal` files\n  * Fix permissions of directories created during
  install\n  * Fix for global builds when $HOME env var is not set\n\n## 1.10.1.0
  [Duncan Coutts](mailto:duncan@community.haskell.org) February 2011\n  * Improved
  error messages when test suites are not enabled\n  * Template parameters allowed
  in test `--test-option(s)` flag\n  * Improved documentation of the test feature\n
  \ * Relaxed QA check on cabal-version when using test-suite sections\n  * `haddock`
  command now allows both `--hoogle` and `--html` at the same time\n  * Find ghc-version-specific
  instances of the hsc2hs program\n  * Preserve file executable permissions in sdist
  tarballs\n  * Pass gcc location and flags to ./configure scripts\n  * Get default
  gcc flags from ghc\n\n# 1.10.0.0 [Duncan Coutts](mailto:duncan@haskell.org) November
  2010\n  * New cabal test feature\n  * Initial support for UHC\n  * New default-language
  and other-languages fields (e.g. Haskell98/2010)\n  * New default-extensions and
  other-extensions fields\n  * Deprecated extensions field (for packages using cabal-version
  >=1.10)\n  * Cabal-version field must now only be of the form `>= x.y`\n  * Removed
  deprecated `--copy-prefix=` feature\n  * Auto-reconfigure when `.cabal` file changes\n
  \ * Workaround for haddock overwriting .hi and .o files when using TH\n  * Extra
  cpp flags used with hsc2hs and c2hs (-D${os}_BUILD_OS etc)\n  * New cpp define VERSION_<package>
  gives string version of dependencies\n  * User guide source now in markdown format
  for easier editing\n  * Improved checks and error messages for C libraries and headers\n
  \ * Removed BSD4 from the list of suggested licenses\n  * Updated list of known
  language extensions\n  * Fix for include paths to allow C code to import FFI stub.h
  files\n  * Fix for intra-package dependencies on OSX\n  * Stricter checks on various
  bits of `.cabal` file syntax\n  * Minor fixes for c2hs\n\n----\n\n### 1.8.0.6 [Duncan
  Coutts](mailto:duncan@haskell.org) June 2010\n  * Fix `register --global/--user`\n\n###
  1.8.0.4 [Duncan Coutts](mailto:duncan@haskell.org) March 2010\n  * Set dylib-install-name
  for dynalic libs on OSX\n  * Stricter configure check that compiler supports a package's
  extensions\n  * More configure-time warnings\n  * Hugs can compile Cabal lib again\n
  \ * Default datadir now follows prefix on Windows\n  * Support for finding installed
  packages for hugs\n  * Cabal version macros now have proper parenthesis\n  * Reverted
  change to filter out deps of non-buildable components\n  * Fix for registering implace
  when using a specific package db\n  * Fix mismatch between $os and $arch path template
  variables\n  * Fix for finding ar.exe on Windows, always pick ghc's version\n  *
  Fix for intra-package dependencies with ghc-6.12\n\n# 1.8.0.2 [Duncan Coutts](mailto:duncan@haskell.org)
  December 2009\n  * Support for GHC-6.12\n  * New unique installed package IDs which
  use a package hash\n  * Allow executables to depend on the lib within the same package\n
  \ * Dependencies for each component apply only to that component\n    (previously
  applied to all the other components too)\n  * Added new known license MIT and versioned
  GPL and LGPL\n  * More liberal package version range syntax\n  * Package registration
  files are now UTF8\n  * Support for LHC and JHC-0.7.2\n  * Deprecated RecordPuns
  extension in favour of NamedFieldPuns\n  * Deprecated PatternSignatures extension
  in favor of ScopedTypeVariables\n  * New VersionRange semantic view as a sequence
  of intervals\n  * Improved package quality checks\n  * Minor simplification in a
  couple `Setup.hs` hooks\n  * Beginnings of a unit level testsuite using QuickCheck\n
  \ * Various bug fixes\n  * Various internal cleanups\n\n----\n\n### 1.6.0.2 [Duncan
  Coutts](mailto:duncan@haskell.org) February 2009\n  * New configure-time check for
  C headers and libraries\n  * Added language extensions present in ghc-6.10\n  *
  Added support for NamedFieldPuns extension in ghc-6.8\n  * Fix in configure step
  for ghc-6.6 on Windows\n  * Fix warnings in `Path_pkgname.hs` module on Windows\n
  \ * Fix for exotic flags in ld-options field\n  * Fix for using pkg-config in a
  package with a lib and an executable\n  * Fix for building haddock docs for exes
  that use the Paths module\n  * Fix for installing header files in subdirectories\n
  \ * Fix for the case of building profiling libs but not ordinary libs\n  * Fix read-only
  attribute of installed files on Windows\n  * Ignore ghc -threaded flag when profiling
  in ghc-6.8 and older\n\n### 1.6.0.1 [Duncan Coutts](mailto:duncan@haskell.org) October
  2008\n  * Export a compat function to help alex and happy\n\n# 1.6.0.0 [Duncan Coutts](mailto:duncan@haskell.org)
  October 2008\n  * Support for ghc-6.10\n  * Source control repositories can now
  be specified in `.cabal` files\n  * Bug report URLs can be now specified in `.cabal`
  files\n  * Wildcards now allowed in data-files and extra-source-files fields\n  *
  New syntactic sugar for dependencies `build-depends: foo ==1.2.*`\n  * New cabal_macros.h
  provides macros to test versions of dependencies\n  * Relocatable bindists now possible
  on unix via env vars\n  * New `exposed` field allows packages to be not exposed
  by default\n  * Install dir flags can now use $os and $arch variables\n  * New `--builddir`
  flag allows multiple builds from a single sources dir\n  * cc-options now only apply
  to .c files, not for -fvia-C\n  * cc-options are not longer propagated to dependent
  packages\n  * The cpp/cc/ld-options fields no longer use `,` as a separator\n  *
  hsc2hs is now called using gcc instead of using ghc as gcc\n  * New api for manipulating
  sets and graphs of packages\n  * Internal api improvements and code cleanups\n  *
  Minor improvements to the user guide\n  * Miscellaneous minor bug fixes\n\n----\n\n###
  1.4.0.2 [Duncan Coutts](mailto:duncan@haskell.org) August 2008\n  * Fix executable
  stripping default\n  * Fix striping exes on OSX that export dynamic symbols (like
  ghc)\n  * Correct the order of arguments given by `--prog-options=`\n  * Fix corner
  case with overlapping user and global packages\n  * Fix for modules that use pre-processing
  and `.hs-boot` files\n  * Clarify some points in the user guide and readme text\n
  \ * Fix verbosity flags passed to sub-command like haddock\n  * Fix `sdist --snapshot`\n
  \ * Allow meta-packages that contain no modules or C code\n  * Make the generated
  Paths module -Wall clean on Windows\n\n### 1.4.0.1 [Duncan Coutts](mailto:duncan@haskell.org)
  June 2008\n  * Fix a bug which caused `.` to always be in the sources search path\n
  \ * Haddock-2.2 and later do now support the `--hoogle` flag\n\n# 1.4.0.0 [Duncan
  Coutts](mailto:duncan@haskell.org) June 2008\n  * Rewritten command line handling
  support\n  * Command line completion with bash\n  * Better support for Haddock 2\n
  \ * Improved support for nhc98\n  * Removed support for ghc-6.2\n  * Haddock markup
  in `.lhs` files now supported\n  * Default colour scheme for highlighted source
  code\n  * Default prefix for `--user` installs is now `$HOME/.cabal`\n  * All `.cabal`
  files are treaded as UTF-8 and must be valid\n  * Many checks added for common mistakes\n
  \ * New `--package-db=` option for specific package databases\n  * Many internal
  changes to support cabal-install\n  * Stricter parsing for version strings, eg dissalows
  \"1.05\"\n  * Improved user guide introduction\n  * Programatica support removed\n
  \ * New options `--program-prefix/suffix` allows eg versioned programs\n  * Support
  packages that use `.hs-boot` files\n  * Fix sdist for Main modules that require
  preprocessing\n  * New configure -O flag with optimisation level 0--2\n  * Provide
  access to \"`x-`\" extension fields through the Cabal api\n  * Added check for broken
  installed packages\n  * Added warning about using inconsistent versions of dependencies\n
  \ * Strip binary executable files by default with an option to disable\n  * New
  options to add site-specific include and library search paths\n  * Lift the restriction
  that libraries must have exposed-modules\n  * Many bugs fixed.\n  * Many internal
  structural improvements and code cleanups\n\n----\n\n## 1.2.4.0 [Duncan Coutts](mailto:duncan@haskell.org)
  June 2008\n  * Released with GHC 6.8.3\n  * Backported several fixes and minor improvements
  from Cabal-1.4\n  * Use a default colour scheme for sources with hscolour >=1.9\n
  \ * Support `--hyperlink-source` for Haddock >= 2.0\n  * Fix for running in a non-writable
  directory\n  * Add OSX -framework arguments when linking executables\n  * Updates
  to the user guide\n  * Allow build-tools names to include + and _\n  * Export autoconfUserHooks
  and simpleUserHooks\n  * Export ccLdOptionsBuildInfo for `Setup.hs` scripts\n  *
  Export unionBuildInfo and make BuildInfo an instance of Monoid\n  * Fix to allow
  the `main-is` module to use a pre-processor\n\n## 1.2.3.0 [Duncan Coutts](mailto:duncan@haskell.org)
  Nov 2007\n  * Released with GHC 6.8.2\n  * Includes full list of GHC language extensions\n
  \ * Fix infamous `dist/conftest.c` bug\n  * Fix `configure --interfacedir=`\n  *
  Find ld.exe on Windows correctly\n  * Export PreProcessor constructor and mkSimplePreProcessor\n
  \ * Fix minor bug in unlit code\n  * Fix some markup in the haddock docs\n\n## 1.2.2.0
  [Duncan Coutts](mailto:duncan@haskell.org) Nov 2007\n  * Released with GHC 6.8.1\n
  \ * Support haddock-2.0\n  * Support building DSOs with GHC\n  * Require reconfiguring
  if the `.cabal` file has changed\n  * Fix os(windows) configuration test\n  * Fix
  building documentation\n  * Fix building packages on Solaris\n  * Other minor bug
  fixes\n\n## 1.2.1 [Duncan Coutts](mailto:duncan@haskell.org) Oct 2007\n  * To be
  included in GHC 6.8.1\n  * New field `cpp-options` used when preprocessing Haskell
  modules\n  * Fixes for hsc2hs when using ghc\n  * C source code gets compiled with
  -O2 by default\n  * OS aliases, to allow os(windows) rather than requiring os(mingw32)\n
  \ * Fix cleaning of `stub` files\n  * Fix cabal-setup, command line ui that replaces
  `runhaskell Setup.hs`\n  * Build docs even when dependent packages docs are missing\n
  \ * Allow the `--html-dir` to be specified at configure time\n  * Fix building with
  ghc-6.2\n  * Other minor bug fixes and build fixes\n\n# 1.2.0  [Duncan Coutts](mailto:duncan.coutts@worc.ox.ac.uk)
  Sept 2007\n  * To be included in GHC 6.8.x\n  * New configurations feature\n  *
  Can make haddock docs link to hilighted sources (with hscolour)\n  * New flag to
  allow linking to haddock docs on the web\n  * Supports pkg-config\n  * New field
  `build-tools` for tool dependencies\n  * Improved c2hs support\n  * Preprocessor
  output no longer clutters source dirs\n  * Separate `includes` and `install-includes`
  fields\n  * Makefile command to generate makefiles for building libs with GHC\n
  \ * New `--docdir` configure flag\n  * Generic `--with-prog` `--prog-args` configure
  flags\n  * Better default installation paths on Windows\n  * Install paths can be
  specified relative to each other\n  * License files now installed\n  * Initial support
  for NHC (incomplete)\n  * Consistent treatment of verbosity\n  * Reduced verbosity
  of configure step by default\n  * Improved helpfulness of output messages\n  * Help
  output now clearer and fits in 80 columns\n  * New setup register `--gen-pkg-config`
  flag for distros\n  * Major internal refactoring, hooks api has changed\n  * Dozens
  of bug fixes\n\n----\n\n### 1.1.6.2 [Duncan Coutts](mailto:duncan.coutts@worc.ox.ac.uk)
  May 2007\n\n  * Released with GHC 6.6.1\n  * Handle windows text file encoding for
  `.cabal` files\n  * Fix compiling a executable for profiling that uses Template
  Haskell\n  * Other minor bug fixes and user guide clarifications\n\n### 1.1.6.1
  [Duncan Coutts](mailto:duncan.coutts@worc.ox.ac.uk) Oct 2006\n\n  * fix unlit code\n
  \ * fix escaping in register.sh\n\n## 1.1.6  [Duncan Coutts](mailto:duncan.coutts@worc.ox.ac.uk)
  Oct 2006\n\n  * Released with GHC 6.6\n  * Added support for hoogle\n  * Allow profiling
  and normal builds of libs to be chosen indepentantly\n  * Default installation directories
  on Win32 changed\n  * Register haddock docs with ghc-pkg\n  * Get haddock to make
  hyperlinks to dependent package docs\n  * Added BangPatterns language extension\n
  \ * Various bug fixes\n\n## 1.1.4  [Duncan Coutts](mailto:duncan.coutts@worc.ox.ac.uk)
  May 2006\n\n  * Released with GHC 6.4.2\n  * Better support for packages that need
  to install header files\n  * cabal-setup added, but not installed by default yet\n
  \ * Implemented `setup register --inplace`\n  * Have packages exposed by default
  with ghc-6.2\n  * It is no longer necessary to run `configure` before `clean` or
  `sdist`\n  * Added support for ghc's `-split-objs`\n  * Initial support for JHC\n
  \ * Ignore extension fields in `.cabal` files (fields beginning with \"`x-`\")\n
  \ * Some changes to command hooks API to improve consistency\n  * Hugs support improvements\n
  \ * Added GeneralisedNewtypeDeriving language extension\n  * Added cabal-version
  field\n  * Support hidden modules with haddock\n  * Internal code refactoring\n
  \ * More bug fixes\n\n## 1.1.3  [Isaac Jones](mailto:ijones@syntaxpolice.org) Sept
  2005\n\n  * WARNING: Interfaces not documented in the user's guide may\n    change
  in future releases.\n  * Move building of GHCi .o libs to the build phase rather
  than\n  register phase. (from Duncan Coutts)\n  * Use .tar.gz for source package
  extension\n  * Uses GHC instead of cpphs if the latter is not available\n  * Added
  experimental \"command hooks\" which completely override the\n  default behavior
  of a command.\n  * Some bugfixes\n\n# 1.1.1  [Isaac Jones](mailto:ijones@syntaxpolice.org)
  July 2005\n\n  * WARNING: Interfaces not documented in the user's guide may\n    change
  in future releases.\n  * Handles recursive modules for GHC 6.2 and GHC 6.4.\n  *
  Added `setup test` command (Used with UserHook)\n  * implemented handling of _stub.{c,h,o}
  files\n  * Added support for profiling\n  * Changed install prefix of libraries
  (pref/pkgname-version\n    to prefix/pkgname-version/compname-version)\n  * Added
  pattern guards as a language extension\n  * Moved some functionality to Language.Haskell.Extension\n
  \ * Register / unregister .bat files for windows\n  * Exposed more of the API\n
  \ * Added support for the hide-all-packages flag in GHC > 6.4\n  * Several bug fixes\n\n----\n\n#
  1.0  [Isaac Jones](mailto:ijones@syntaxpolice.org) March 11 2005\n\n  * Released
  with GHC 6.4, Hugs March 2005, and nhc98 1.18\n  * Some sanity checking\n\n----\n\n#
  0.5  [Isaac Jones](mailto:ijones@syntaxpolice.org) Wed Feb 19 2005\n\n  * __WARNING__:
  this is a pre-release and the interfaces are\n    still likely to change until we
  reach a 1.0 release.\n  * Hooks interfaces changed\n  * Added preprocessors to user
  hooks\n  * No more executable-modules or hidden-modules.  Use\n    `other-modules`
  instead.\n  * Certain fields moved into BuildInfo, much refactoring\n  * `extra-libs`
  -> `extra-libraries`\n  * Added `--gen-script` to configure and unconfigure.\n  *
  `modules-ghc` (etc) now `ghc-modules` (etc)\n  * added new fields including `synopsis`\n
  \ * Lots of bug fixes\n  * spaces can sometimes be used instead of commas\n  * A
  user manual has appeared (Thanks, ross!)\n  * for ghc 6.4, configures versionsed
  depends properly\n  * more features to `./setup haddock`\n\n----\n\n# 0.4  [Isaac
  Jones](mailto:ijones@syntaxpolice.org) Sun Jan 16 2005\n\n  * Much thanks to all
  the awesome fptools hackers who have been\n  working hard to build the Haskell Cabal!\n\n
  \ * __Interface Changes__:\n\n    * __WARNING__: this is a pre-release and the interfaces
  are still\n    likely to change until we reach a 1.0 release.\n\n    * Instead of
  Package.description, you should name your\n    description files <something>.cabal.
  \ In particular, we suggest\n    that you name it <packagename>.cabal, but this
  is not enforced\n    (yet).  Multiple `.cabal` files in the same directory is an
  error,\n    at least for now.\n\n    * `./setup install --install-prefix` is gone.
  \ Use `./setup copy`\n    `--copy-prefix` instead.\n\n    * The `Modules` field
  is gone.  Use `hidden-modules`,\n    `exposed-modules`, and `executable-modules`.\n\n
  \   * `Build-depends` is now a package-only field, and can't go into\n    executable
  stanzas.  Build-depends is a package-to-package\n    relationship.\n\n    * Some
  new fields.  Use the Source.\n\n  * __New Features__\n\n    * Cabal is now included
  as a package in the CVS version of\n    fptools.  That means it'll be released as
  `-package Cabal` in\n    future versions of the compilers, and if you are a bleeding-edge\n
  \   user, you can grab it from the CVS repository with the compilers.\n\n    * Hugs
  compatibility and NHC98 compatibility should both be\n    improved.\n\n    * Hooks
  Interface / Autoconf compatibility: Most of the hooks\n    interface is hidden for
  now, because it's not finalized.  I have\n    exposed only `defaultMainWithHooks`
  and `defaultUserHooks`.  This\n    allows you to use a ./configure script to preprocess\n
  \   `foo.buildinfo`, which gets merged with `foo.cabal`.  In future\n    releases,
  we'll expose UserHooks, but we're definitely going to\n    change the interface
  to those.  The interface to the two functions\n    I've exposed should stay the
  same, though.\n\n    * ./setup haddock is a baby feature which pre-processes the\n
  \   source code with hscpp and runs haddock on it.  This is brand new\n    and hardly
  tested, so you get to knock it around and see what you\n    think.\n\n    * Some
  commands now actually implement verbosity.\n\n    * The preprocessors have been
  tested a bit more, and seem to work\n    OK.  Please give feedback if you use these.\n\n----\n\n#
  0.3  [Isaac Jones](mailto:ijones@syntaxpolice.org) Sun Jan 16 2005\n\n  * Unstable
  snapshot release\n  * From now on, stable releases are even.\n\n----\n\n# 0.2  [Isaac
  Jones](mailto:ijones@syntaxpolice.org)\n\n  * Adds more HUGS support and preprocessor
  support.\n"
basic-deps:
  bytestring: '>=0.10.0.0 && <0.11'
  unix: '>=2.6.0.0 && <2.8'
  base: '>=4.6 && <4.16'
  time: '>=1.4.0.1 && <1.11'
  text: '>=1.2.3.0 && <1.3'
  filepath: '>=1.3.0.1 && <1.5'
  process: '>=1.1.0.2 && <1.7'
  parsec: '>=3.1.13.0 && <3.2'
  array: '>=0.4.0.1 && <0.6'
  containers: '>=0.5.0.0 && <0.7'
  binary: '>=0.7 && <0.9'
  mtl: '>=2.1 && <2.3'
  transformers: (>=0.3 && <0.4) || (>=0.4.1.0 && <0.6)
  deepseq: '>=1.3.0.1 && <1.5'
  pretty: '>=1.1.1 && <1.2'
  directory: '>=1.2 && <1.4'
all-versions:
- 1.1.6
- 1.2.1
- 1.2.2.0
- 1.2.3.0
- 1.2.4.0
- 1.4.0.0
- 1.4.0.1
- 1.4.0.2
- 1.6.0.1
- 1.6.0.2
- 1.6.0.3
- 1.8.0.2
- 1.8.0.4
- 1.8.0.6
- 1.10.0.0
- 1.10.1.0
- 1.10.2.0
- 1.12.0
- 1.14.0
- 1.16.0
- 1.16.0.1
- 1.16.0.2
- 1.16.0.3
- 1.18.0
- 1.18.1
- 1.18.1.1
- 1.18.1.2
- 1.18.1.3
- 1.18.1.4
- 1.18.1.5
- 1.18.1.6
- 1.18.1.7
- 1.20.0.0
- 1.20.0.1
- 1.20.0.2
- 1.20.0.3
- 1.20.0.4
- 1.22.0.0
- 1.22.1.0
- 1.22.1.1
- 1.22.2.0
- 1.22.3.0
- 1.22.4.0
- 1.22.5.0
- 1.22.6.0
- 1.22.7.0
- 1.22.8.0
- 1.24.0.0
- 1.24.2.0
- 2.0.0.2
- 2.0.1.0
- 2.0.1.1
- 2.2.0.0
- 2.2.0.1
- 2.4.0.0
- 2.4.0.1
- 2.4.1.0
- 3.0.0.0
- 3.0.1.0
- 3.0.2.0
- 3.2.0.0
- 3.2.1.0
- 3.4.0.0
author: Cabal Development Team <cabal-devel@haskell.org>
latest: 3.4.0.0
description-type: markdown
description: |
  The Cabal library package
  =========================

  See the [Cabal web site] for more information.

  If you also want the `cabal` command-line program, you need the
  [cabal-install] package in addition to this library.

  [cabal-install]: ../cabal-install/README.md

  Installing the Cabal library
  ============================

  If you already have the `cabal` program
  ---------------------------------------

  In this case run:

      $ cabal install

  However, if you do not have an existing version of the `cabal` program,
  you first must install the Cabal library. To avoid this bootstrapping
  problem, you can install the Cabal library directly as described below.


  Installing as a user (no root or administrator access)
  ------------------------------------------------------

      ghc -threaded --make Setup
      ./Setup configure --user
      ./Setup build
      ./Setup install

  Note the use of the `--user` flag at the configure step.

  Compiling 'Setup' rather than using `runghc Setup` is much faster and
  works on Windows. For all packages other than Cabal itself, it is fine
  to use `runghc`.

  This will install into `$HOME/.cabal/` on Unix and into
  `Documents and Settings\$User\Application Data\cabal\` on Windows.
  If you want to install elsewhere, use the `--prefix=` flag at the
  configure step.


  Installing as root or Administrator
  -----------------------------------

      ghc -threaded --make Setup
      ./Setup configure
      ./Setup build
      sudo ./Setup install

  Compiling Setup rather than using `runghc Setup` is much faster and
  works on Windows. For all packages other than Cabal itself, it is fine
  to use `runghc`.

  This will install into `/usr/local` on Unix, and on Windows it will
  install into `$ProgramFiles/Haskell`. If you want to install elsewhere,
  use the `--prefix=` flag at the configure step.


  Using older versions of GHC and Cabal
  ======================================

  It is recommended that you leave any pre-existing version of Cabal
  installed. In particular, it is *essential* you keep the version that
  came with GHC itself, since other installed packages require it (for
  instance, the "ghc" API package).

  Prior to GHC 6.4.2, however, GHC did not deal particularly well with
  having multiple versions of packages installed at once. So if you are
  using GHC 6.4.1 or older and you have an older version of Cabal
  installed, you should probably remove it by running:

      $ ghc-pkg unregister Cabal

  or, if you had Cabal installed only for your user account, run:

      $ ghc-pkg unregister Cabal --user

  The `filepath` dependency
  =========================

  Cabal uses the [filepath] package, so it must be installed first.
  GHC version 6.6.1 and later come with `filepath`, however, earlier
  versions do not by default. If you do not already have `filepath`,
  you need to install it. You can use any existing version of Cabal to do
  that. If you have neither Cabal nor `filepath`, it is slightly
  harder but still possible.

  Unpack Cabal and `filepath` into separate directories. For example:

      tar -xzf filepath-1.1.0.0.tar.gz
      tar -xzf Cabal-1.6.0.0.tar.gz

      # rename to make the following instructions simpler:
      mv filepath-1.1.0.0/ filepath/
      mv Cabal-1.6.0.0/ Cabal/

      cd Cabal
      ghc -i../filepath -cpp --make Setup.hs -o ../filepath/setup
      cd ../filepath/
      ./setup configure --user
      ./setup build
      ./setup install

  This installs `filepath` so that you can install Cabal with the normal
  method.

  [filepath]: http://hackage.haskell.org/package/filepath

  More information
  ================

  Please see the [Cabal web site] for the [user guide] and [API
  documentation]. There is additional information available on the
  [development wiki].

  [user guide]:        http://www.haskell.org/cabal/users-guide
  [API documentation]: http://www.haskell.org/cabal/release/cabal-latest/doc/API/Cabal/Distribution-Simple.html
  [development wiki]:  https://github.com/haskell/cabal/wiki


  Bugs
  ====

  Please report bugs and feature requests to Cabal's [bug tracker].


  Your help
  ---------

  To help Cabal's development, it is enormously helpful to know from
  Cabal's users what their most pressing problems are with Cabal and
  [Hackage]. You may have a favourite Cabal bug or limitation. Look at
  Cabal's [bug tracker]. Ensure that the problem is reported there and
  adequately described. Comment on the issue to report how much of a
  problem the bug is for you. Subscribe to the issues's notifications to
  discussed requirements and keep informed on progress. For feature
  requests, it is helpful if there is a description of how you would
  expect to interact with the new feature.

  [Hackage]: http://hackage.haskell.org


  Source code
  ===========

  You can get the master development branch using:

      $ git clone https://github.com/haskell/cabal.git


  Credits
  =======

  See the `AUTHORS` file.

  Authors of the [original Cabal
  specification](https://www.haskell.org/cabal/proposal/pkg-spec.pdf):

  - Isaac Jones
  - Simon Marlow
  - Ross Patterson
  - Simon Peyton Jones
  - Malcolm Wallace


  [bug tracker]: https://github.com/haskell/cabal/issues
  [Cabal web site]: http://www.haskell.org/cabal/
license-name: BSD-3-Clause
